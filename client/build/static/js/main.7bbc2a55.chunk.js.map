{"version":3,"sources":["components/profile/EditProfile.js","components/FollowBtn.js","components/profile/Followers.js","components/profile/Following.js","components/profile/Info.js","components/profile/Posts.js","components/profile/Saved.js","pages/profile/[id].js","components/message/Times.js","components/message/MsgDisplay.js","components/message/RightSide.js","pages/message/[id].js","redux/actions/postAction.js","redux/actions/notifyAction.js","pages sync /^/.*$","redux/actions/messageAction.js","images/loading.gif","components/UserCard.js","components/NotFound.js","customRouter/PageRender.js","customRouter/PrivateRouter.js","components/alert/Loading.js","components/alert/Toast.js","components/alert/Alert.js","components/NotifyModal.js","images/notice.png","components/header/Menu.js","components/header/Search.js","components/header/Header.js","components/StatusModal.js","redux/actions/suggestionsAction.js","audio/got-it-done-613.mp3","SocketClient.js","audio/ringring.mp3","components/message/CallModal.js","App.js","reportWebVitals.js","redux/reducers/authReducer.js","redux/reducers/alertReducer.js","redux/reducers/themeReducer.js","redux/reducers/profileReducer.js","redux/reducers/statusReducer.js","redux/reducers/postReducer.js","redux/reducers/modalReducer.js","redux/reducers/detailPostReducer.js","redux/reducers/discoverReducer.js","redux/reducers/suggestionsReducer.js","redux/reducers/socketReducer.js","redux/reducers/notifyReducer.js","redux/reducers/messageReducer.js","redux/reducers/onlineReducer.js","redux/reducers/callReducer.js","redux/reducers/peerReducer.js","redux/reducers/userReducer.js","redux/reducers/userBlcokReducer.js","redux/reducers/roleeReducer.js","redux/reducers/index.js","redux/store.js","index.js","serviceWorkerRegistration.js","redux/actions/userAction.js","components/Avatar.js","redux/actions/profileAction.js","components/LoadMoreBtn.js","utils/mediaShow.js","redux/actions/roleAction.js","utils/imageUpload.js","redux/actions/userBlockAction.js","pages/login.js","redux/actions/globalTypes.js","utils/valid.js","redux/actions/authAction.js","redux/actions/discoverAction.js","components/PostThumb.js","pages/message/index.js","pages/register.js","components/BloqueModalUser.js","components/UsersEdicion.js","pages/edicionusers.js","components/UsersAction.js","pages/UsersActionn.js","components/Bloqueoss.js","pages/bloqueos.js","components/home/Posts.js","pages/home.js","components/InfoAplicacion.js","pages/informacionaplicacion.js","components/ListaUsariosBloqueados.js","pages/listadeusuariosbloqueadoss.js","components/Roless.js","pages/roles.js","components/Icons.js","components/message/LeftSide.js","components/Carousel.js","components/home/post_card/CardBodyCarousel.js","components/LikeButton.js","redux/actions/commentAction.js","components/home/comments/CommentMenu.js","components/home/InputComment.js","components/home/comments/CommentCard.js","components/home/comments/CommentDisplay.js","components/home/Comments.js","components/home/post_card/CommentDate.js","components/home/post_card/DescriptionPost.js","components/home/post_card/CardBodyTitle.js","components/home/post_card/CardHeader.js","components/PostCard.js","utils/fetchData.js","pages/discover.js","pages/paginabloqueos.js","pages/post/[id].js"],"names":["EditProfile","setOnEdit","useState","mobile","address","website","story","userData","setUserData","avatar","setAvatar","useSelector","state","auth","theme","dispatch","useDispatch","useEffect","user","handleInput","e","target","name","value","className","onClick","onSubmit","preventDefault","updateProfileUser","src","URL","createObjectURL","alt","style","filter","type","id","accept","onChange","file","files","err","checkImage","GLOBALTYPES","ALERT","payload","error","htmlFor","cols","rows","length","FollowBtn","followed","setFollowed","profile","socket","load","setLoad","following","find","item","_id","handleFollow","a","follow","users","handleUnFollow","unfollow","Followers","setShowFollowers","map","UserCard","Following","setShowFollowing","Info","onEdit","showFollowers","showFollowing","newData","MODAL","Avatar","size","username","followers","email","href","rel","Posts","posts","setPosts","result","setResult","page","setPage","forEach","data","handleLoadMore","getDataAPI","token","res","PROFILE_TYPES","UPDATE_POST","PostThumb","LoadIcon","LoadMoreBtn","Saved","savePosts","setSavePosts","then","catch","response","msg","Profile","useParams","saveTab","setSaveTab","ids","every","getProfileUsers","loading","Times","total","parseInt","toString","MsgDisplay","window","confirm","deleteMessages","text","media","index","url","match","videoShow","imageShow","call","background","borderRadius","fontSize","color","times","video","Date","createdAt","toLocaleTimeString","toLocaleString","RightSide","message","peer","setUser","setText","setMedia","loadMedia","setLoadMedia","refDisplay","useRef","pageEnd","setData","isLoadMore","setIsLoadMore","history","useHistory","messages","setTimeout","current","scrollIntoView","behavior","block","newUser","handleSubmit","trim","newArr","imageUpload","sender","recipient","toISOString","addMessage","getMessages","getMessagesData","IntersectionObserver","entries","isIntersecting","p","threshold","observe","loadMoreMessages","caller","fullname","CALL","callUser","open","peerId","emit","cursor","deleteConversation","push","height","ref","marginTop","opacity","display","splice","handleDeleteMedia","placeholder","Icons","setContent","content","multiple","newMedia","disabled","Conversation","LeftSide","POST_TYPES","CREATE_POST","LOADING_POST","GET_POSTS","GET_POST","DELETE_POST","createPost","postData","images","postDataAPI","CREAR_POST","newPost","success","recipients","title","image","createNotify","getPosts","updatePost","status","imgNewUrl","img","imgOldUrl","Vente","Location","description","price","unidaddeprecio","oferta","telefono","patchDataAPI","likePost","post","likes","unLikePost","like","removeNotify","getPost","detailPost","deletePost","deleteDataAPI","savePost","saved","AUTH","unSavePost","NOTIFY_TYPES","GET_NOTIFIES","CREATE_NOTIFY","REMOVE_NOTIFY","UPDATE_NOTIFY","UPDATE_SOUND","DELETE_ALL_NOTIFIES","notify","getNotifies","notifies","isReadNotify","isRead","deleteAllNotifies","webpackContext","req","webpackContextResolve","__webpack_require__","o","Error","code","keys","Object","resolve","module","exports","MESS_TYPES","ADD_USER","ADD_MESSAGE","GET_CONVERSATIONS","GET_MESSAGES","UPDATE_MESSAGES","DELETE_MESSAGES","DELETE_CONVERSATION","CHECK_ONLINE_OFFLINE","notificationMsg","getConversations","conversations","cv","reverse","DeleteData","children","border","handleClose","to","transform","showMsg","NotFound","minHeight","top","left","PageRender","pageName","React","createElement","require","default","generatePage","PrivateRouter","props","localStorage","getItem","Loading","zIndex","width","viewBox","stroke","strokeWidth","fill","points","x","y","Toast","handleShow","bgColor","right","minWidth","data-dismiss","outline","body","Notify","alert","NotifyModal","handleSound","sound","maxHeight","overflow","handleIsRead","slice","moment","fromNow","Menu","pathname","useLocation","isActive","pn","label","icon","path","link","startsWith","role","data-toggle","aria-haspopup","aria-expanded","aria-labelledby","STATUS","THEME","logout","Search","search","setSearch","setUsers","handleSearch","toLowerCase","replace","Header","scrollTo","marginRight","StatusModal","initilastate","setPostData","setImages","stream","setStream","videoRef","refCanvas","tracks","setTracks","handleChangeInput","prev","console","log","stop","camera","deleteImages","autoPlay","muted","clientWidth","clientHeight","setAttribute","getContext","drawImage","toDataURL","navigator","mediaDevices","getUserMedia","mediaStream","srcObject","play","track","getTracks","newImages","SUGGES_TYPES","SocketClient","online","audioRef","on","off","Notification","onclick","includes","ONLINE","OFFLINE","controls","audiobell","CallModal","hours","setHours","mins","setMins","second","setSecond","setTotal","answer","setAnswer","youVideo","otherVideo","newCall","setNewCall","setTime","t","addCallMessage","useCallback","disconnect","handleEndCall","close","timer","clearTimeout","openStream","config","audio","playStream","tag","handleAnswer","remoteStream","removeListener","pauseAudio","newAudio","pause","currentTime","Audio","RingRing","playAudio","padding","playsInline","App","modal","userBlockReducer","setIsSubscribed","checkExistingSubscription","serviceWorker","ready","registration","pushManager","getSubscription","subscription","blockedUser","blockedUsers","refreshToken","io","SOCKET","getSuggestions","getUsers","getBlockedUsers","handleSubscription","publicKey","subscribe","userVisibleOnly","applicationServerKey","urlBase64ToUint8Array","base64String","base64","repeat","rawData","atob","Uint8Array","from","char","charCodeAt","Alert","requestPermission","geolocation","getCurrentPosition","position","exact","component","Home","Register","Login","Informacionaplicacion","Roles","UsersActionn","Edicionusers","listadeusuariosbloqueadoss","Bloqueos","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","initialState","authReducer","action","alertReducer","themeReducer","profileReducer","LOADING","GET_USER","FOLLOW","UNFOLLOW","EditData","GET_ID","statusReducer","postReducer","modalReducer","detailPostReducer","firstLoad","discoverReducer","DISCOVER_TYPES","suggestionsReducer","socketReducer","notifyReducer","resultUsers","messageReducer","onlineReducer","callReducer","peerReducer","PEER","denuncias","activeLast24hUsers","activeLast3hUsers","counttotal","userReducer","USER_TYPES","LOADING_USER","GET_TOTAL_USERS_COUNT","GET_USERS","UPDATE_USER","DELETE_USER","GET_ACTIVE_USERS_LAST_24H","GET_ACTIVE_USERS_LAST_3H","UPDATE_USER_STATUS","userId","newStatus","CREAR_DENUNCIA","GET_DENUNCIAS","USER_TYPES_BLOCK","BLOCK_USER","UNBLOCK_USER","GET_USERS_BLOCK","roleeReducer","ROLES_TYPES","USER_ROLE","SUPERUSER_ROLE","MODERADOR_ROLE","ADMIN_ROLE","STORY_ROLE","combineReducers","homePosts","discover","suggestions","homeUsers","roleReducer","store","createStore","rootReducer","composeWithDevTools","applyMiddleware","thunk","DataProvider","ReactDOM","render","StrictMode","document","getElementById","addEventListener","register","scope","GET_TOTAL_POSTS_USER","limit","deleteUser","res1","roleuserautenticado","rolesuperuser","rolemoderador","roleadmin","rolestory","allowedExtensions","blockedExtensions","i","fileExtension","split","pop","imgArr","formData","FormData","append","fetch","method","json","public_id","secure_url","bloquearUsuario","datosBloqueo","motivo","fechaLimite","fechaBloqueo","unBlockUser","password","typePass","setTypePass","login","aria-describedby","autoComplete","valid","cf_password","test","validateEmail","errMsg","errLength","access_token","setItem","check","removeItem","location","getDiscoverPosts","comments","Message","typeCfPass","setTypeCfPass","BloqueModalUser","setOpenBlockModal","setDatosBloqueo","inicio","limite","required","UsersEdicion","filteredUsers","setFilteredUsers","openBlockModal","selectedUser","setSelectedUser","filteredResults","handleFilter","criteria","sortedUsers","sort","b","reportCount","lastLogin","data-bs-toggle","toLocaleDateString","esBloqueado","report","reportedBy","lastIp","handleOpenModal","stopPropagation","handleDeleteUser","UsersAction","totalLikesReceived","likesGiven","commentsMade","totalCommentsReceived","totalFollowing","totalFollowers","data-bs-autoClose","Bloqueoss","isBlocked","some","PostCard","scroll","pageYOffset","InfoAplicacion","ListaUsuariosBloqueados","setBlockedUsers","formatDate","date","format","userquibloquea","duracion","tipoBloqueo","datosDesbloqueo","handleDesbloqueo","colSpan","Listadeusuariosbloqueadoss","Roless","selectedRoles","setSelectedRoles","setUsersList","handleChangeRole","selectedRole","usersList","handleRoleChange","prevUsers","u","searchUsers","setSearchUsers","handleAddUser","Carousel","data-ride","data-target","data-slide-to","data-slide","aria-hidden","CardBodyCarousel","isLike","setIsLike","loadLike","setLoadLike","setSaved","saveLoad","setSaveLoad","showModal","setShowModal","handleLike","handleUnLike","handleSavePost","handleUnSavePost","backgroundColor","alignItems","justifyContent","flexDirection","fontWeight","LikeButton","likeComment","comment","newComment","newComments","unLikeComment","CommentMenu","handleRemove","deleteArr","cm","reply","da","deleteComment","MenuItem","InputComment","onReply","setOnReply","commentId","postId","postUserId","createComment","CommentCard","readMore","setReadMore","styleCard","pointerEvents","updateComment","CommentDisplay","replyCm","showRep","setShowRep","next","setNext","Comments","setComments","showComments","setShowComments","replyComments","setReplyComments","newCm","newRep","CommentDate","isDetailPage","locale","DescriptionPost","vistas","CardBodyTitle","CardHeader","clipboard","writeText","BASE_URL","isPostDetailPage","isAuthenticated","axios","get","headers","Authorization","patch","delete","Discover","Paginabloqueos","Post","setPost"],"mappings":"uLAoGeA,EA9FK,SAAC,GAAiB,IAAhBC,EAAe,EAAfA,UAAe,EAIDC,mBAHd,CAChBC,OAAQ,GAAIC,QAAS,GAAIC,QAAS,GAAIC,MAAO,KAFd,mBAI1BC,EAJ0B,KAIhBC,EAJgB,KAKvBL,EAAoCI,EAApCJ,OAAQC,EAA4BG,EAA5BH,QAASC,EAAmBE,EAAnBF,QAASC,EAAUC,EAAVD,MALH,EAOLJ,mBAAS,IAPJ,mBAO1BO,EAP0B,KAOlBC,EAPkB,OASTC,aAAY,SAAAC,GAAK,OAAIA,KAArCC,EATyB,EASzBA,KAAMC,EATmB,EASnBA,MACRC,EAAWC,cAEjBC,qBAAU,WACNT,EAAYK,EAAKK,QAClB,CAACL,EAAKK,OAGT,IAWMC,EAAc,SAAAC,GAAM,IAAD,EACGA,EAAEC,OAAlBC,EADa,EACbA,KAAMC,EADO,EACPA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAMC,MAQtC,OACI,sBAAKC,UAAU,eAAf,UACI,wBAAQA,UAAU,2BAClBC,QAAS,kBAAMxB,GAAU,IADzB,mBAKA,uBAAMyB,SAZO,SAAAN,GACjBA,EAAEO,iBACFZ,EAASa,YAAkB,CAACrB,WAAUE,SAAQI,WAU1C,UACI,sBAAKW,UAAU,cAAf,UACI,qBAAKK,IAAKpB,EAASqB,IAAIC,gBAAgBtB,GAAUI,EAAKK,KAAKT,OAC3DuB,IAAI,SAASC,MAAO,CAACC,OAAQpB,EAAQ,YAAc,eACnD,iCACI,mBAAGU,UAAU,kBACb,uCACA,uBAAOW,KAAK,OAAOb,KAAK,OAAOc,GAAG,UAClCC,OAAO,UAAUC,SApChB,SAAClB,GAClB,IAAMmB,EAAOnB,EAAEC,OAAOmB,MAAM,GAEtBC,EAAMC,YAAWH,GACvB,GAAGE,EAAK,OAAO1B,EAAS,CACpBoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAOL,KAG9C/B,EAAU6B,YAkCF,sBAAKf,UAAU,aAAf,UACI,uBAAOuB,QAAQ,SAAf,oBACA,uBAAOZ,KAAK,OAAOb,KAAK,SAASC,MAAOpB,EACxCqB,UAAU,eAAec,SAAUnB,OAGvC,sBAAKK,UAAU,aAAf,UACI,uBAAOuB,QAAQ,UAAf,qBACA,uBAAOZ,KAAK,OAAOb,KAAK,UAAUC,MAAOnB,EACzCoB,UAAU,eAAec,SAAUnB,OAGvC,sBAAKK,UAAU,aAAf,UACI,uBAAOuB,QAAQ,UAAf,qBACA,uBAAOZ,KAAK,OAAOb,KAAK,UAAUC,MAAOlB,EACzCmB,UAAU,eAAec,SAAUnB,OAGvC,sBAAKK,UAAU,aAAf,UACI,uBAAOuB,QAAQ,QAAf,mBACA,0BAAUzB,KAAK,QAAQC,MAAOjB,EAAO0C,KAAK,KAAKC,KAAK,IACpDzB,UAAU,eAAec,SAAUnB,IAEnC,wBAAOK,UAAU,iCAAjB,UACKlB,EAAM4C,OADX,aAMJ,wBAAQ1B,UAAU,qBAAqBW,KAAK,SAA5C,yB,uBCxCDgB,EAlDG,SAAC,GAAY,IAAXjC,EAAU,EAAVA,KAAU,EACMhB,oBAAS,GADf,mBACnBkD,EADmB,KACTC,EADS,OAGQ1C,aAAY,SAAAC,GAAK,OAAIA,KAA/CC,EAHkB,EAGlBA,KAAMyC,EAHY,EAGZA,QAASC,EAHG,EAGHA,OACjBxC,EAAWC,cAJS,EAMFd,oBAAS,GANP,mBAMnBsD,EANmB,KAMbC,EANa,KAQ1BxC,qBAAU,WAIN,OAHGJ,EAAKK,KAAKwC,UAAUC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQ3C,EAAK2C,QAClDR,GAAY,GAET,kBAAMA,GAAY,MAC1B,CAACxC,EAAKK,KAAKwC,UAAWxC,EAAK2C,MAE9B,IAAMC,EAAY,uCAAI,sBAAAC,EAAA,0DACfP,EADe,wDAGlBH,GAAY,GACZI,GAAQ,GAJU,SAKZ1C,EAASiD,YAAO,CAACC,MAAOX,EAAQW,MAAO/C,OAAML,OAAM0C,YALvC,OAMlBE,GAAQ,GANU,2CAAJ,qDASZS,EAAc,uCAAG,sBAAAH,EAAA,0DAChBP,EADgB,wDAGnBH,GAAY,GACZI,GAAQ,GAJW,SAKb1C,EAASoD,YAAS,CAACF,MAAOX,EAAQW,MAAO/C,OAAML,OAAM0C,YALxC,OAMnBE,GAAQ,GANW,2CAAH,qDASpB,OACI,mCAEIL,EACE,wBAAQ5B,UAAU,yBACpBC,QAASyC,EADP,sBAIA,wBAAQ1C,UAAU,uBACpBC,QAASqC,EADP,uB,QCVCM,EA9BG,SAAC,GAA+B,IAA9BH,EAA6B,EAA7BA,MAAOI,EAAsB,EAAtBA,iBACfxD,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACR,OACI,qBAAKW,UAAU,SAAf,SACI,sBAAKA,UAAU,aAAf,UACI,oBAAIA,UAAU,cAAd,uBACA,uBAEA,qBAAKA,UAAU,iBAAf,SAEQyC,EAAMK,KAAI,SAAApD,GAAI,OACV,cAACqD,EAAA,EAAD,CAAyBrD,KAAMA,EAAMmD,iBAAkBA,EAAvD,SAEQxD,EAAKK,KAAK2C,MAAQ3C,EAAK2C,KAAO,cAAC,EAAD,CAAW3C,KAAMA,KAFxCA,EAAK2C,UAUhC,qBAAKrC,UAAU,QAAQC,QAAS,kBAAM4C,GAAiB,IAAvD,wBCQDG,EA7BG,SAAC,GAA+B,IAA9BP,EAA6B,EAA7BA,MAAOQ,EAAsB,EAAtBA,iBACf5D,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACR,OACI,qBAAKW,UAAU,SAAf,SACI,sBAAKA,UAAU,aAAf,UACI,oBAAIA,UAAU,cAAd,uBACA,uBAEA,qBAAKA,UAAU,iBAAf,SAEQyC,EAAMK,KAAI,SAAApD,GAAI,OACV,cAACqD,EAAA,EAAD,CAAyBrD,KAAMA,EAAMuD,iBAAkBA,EAAvD,SAEQ5D,EAAKK,KAAK2C,MAAQ3C,EAAK2C,KAAO,cAAC,EAAD,CAAW3C,KAAMA,KAFxCA,EAAK2C,UAShC,qBAAKrC,UAAU,QAAQC,QAAS,kBAAMgD,GAAiB,IAAvD,wBC0EDC,EA3FF,SAAC,GAAmC,IAAlCtC,EAAiC,EAAjCA,GAAIvB,EAA6B,EAA7BA,KAAMyC,EAAuB,EAAvBA,QAASvC,EAAc,EAAdA,SAAc,EACZb,mBAAS,IADG,mBACrCK,EADqC,KAC3BC,EAD2B,OAEhBN,oBAAS,GAFO,mBAErCyE,EAFqC,KAE7B1E,EAF6B,OAIFC,oBAAS,GAJP,mBAIrC0E,EAJqC,KAItBP,EAJsB,OAKFnE,oBAAS,GALP,mBAKrC2E,EALqC,KAKtBJ,EALsB,KA0B5C,OAnBAxD,qBAAU,WACN,GAAGmB,IAAOvB,EAAKK,KAAK2C,IAChBrD,EAAY,CAACK,EAAKK,WACjB,CACD,IAAM4D,EAAUxB,EAAQW,MAAM/B,QAAO,SAAAhB,GAAI,OAAIA,EAAK2C,MAAQzB,KAC1D5B,EAAYsE,MAEjB,CAAC1C,EAAIvB,EAAME,EAAUuC,EAAQW,QAGhChD,qBAAU,WAEFF,EADD6D,GAAiBC,GAAiBF,EACxB,CAAExC,KAAMQ,IAAYoC,MAAOlC,SAAS,GAEpC,CAAEV,KAAMQ,IAAYoC,MAAOlC,SAAS,MAEnD,CAAC+B,EAAeC,EAAeF,EAAQ5D,IAIrC,qBAAKS,UAAU,OAAf,SAEQjB,EAAS+D,KAAI,SAAApD,GAAI,OACb,sBAAKM,UAAU,iBAAf,UACI,cAACwD,EAAA,EAAD,CAAQnD,IAAKX,EAAKT,OAAQwE,KAAK,kBAE/B,sBAAKzD,UAAU,eAAf,UACI,sBAAKA,UAAU,qBAAf,UACI,6BAAKN,EAAKgE,WAENhE,EAAK2C,MAAQhD,EAAKK,KAAK2C,IACpB,wBAAQrC,UAAU,uBACrBC,QAAS,kBAAMxB,GAAU,IADtB,0BAKD,cAAC,EAAD,CAAWiB,KAAMA,OAM3B,sBAAKM,UAAU,aAAf,UACI,uBAAMA,UAAU,OAAOC,QAAS,kBAAM4C,GAAiB,IAAvD,UACKnD,EAAKiE,UAAUjC,OADpB,eAGA,uBAAM1B,UAAU,OAAOC,QAAS,kBAAMgD,GAAiB,IAAvD,UACKvD,EAAKwC,UAAUR,OADpB,iBAKD,mBAAG1B,UAAU,MAAb,SAAoBN,EAAKd,UAC5B,oBAAIoB,UAAU,MAAd,SAAqBN,EAAKkE,QAC1B,mBAAGC,KAAMnE,EAAKb,QAASgB,OAAO,SAASiE,IAAI,aAA3C,SACKpE,EAAKb,UAEV,4BAAIa,EAAKZ,WAITqE,GAAU,cAAC,EAAD,CAAa1E,UAAWA,IAIlC2E,GACA,cAAC,EAAD,CACAX,MAAO/C,EAAKiE,UACZd,iBAAkBA,IAIlBQ,GACA,cAAC,EAAD,CACAZ,MAAO/C,EAAKwC,UACZe,iBAAkBA,MAnDWvD,EAAK2C,W,+BCS/C0B,EAxCD,SAAC,GAAmC,IAAlC1E,EAAiC,EAAjCA,KAAMuB,EAA2B,EAA3BA,GAAIrB,EAAuB,EAAvBA,SAAUuC,EAAa,EAAbA,QAAa,EACnBpD,mBAAS,IADU,mBACtCsF,EADsC,KAC/BC,EAD+B,OAEjBvF,mBAAS,GAFQ,mBAEtCwF,EAFsC,KAE9BC,EAF8B,OAGrBzF,mBAAS,GAHY,mBAGtC0F,EAHsC,KAGhCC,EAHgC,OAIrB3F,oBAAS,GAJY,mBAItCsD,EAJsC,KAIhCC,EAJgC,KAM7CxC,qBAAU,WACNqC,EAAQkC,MAAMM,SAAQ,SAAAC,GACfA,EAAKlC,MAAQzB,IACZqD,EAASM,EAAKP,OACdG,EAAUI,EAAKL,QACfG,EAAQE,EAAKH,YAGvB,CAACtC,EAAQkC,MAAOpD,IAElB,IAAM4D,EAAc,uCAAG,8BAAAjC,EAAA,6DACnBN,GAAQ,GADW,SAEDwC,YAAW,cAAD,OAAe7D,EAAf,kBAAkC,EAAPwD,GAAY/E,EAAKqF,OAFrD,OAEbC,EAFa,OAGbrB,EAHa,2BAGCqB,EAAIJ,MAHL,IAGWH,KAAMA,EAAO,EAAG/B,IAAKzB,IACnDrB,EAAS,CAACoB,KAAMiE,IAAcC,YAAaxD,QAASiC,IACpDrB,GAAQ,GALW,2CAAH,qDAQpB,OACI,gCACI,cAAC6C,EAAA,EAAD,CAAWd,MAAOA,EAAOE,OAAQA,IAG7BlC,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,oBAIxD,cAACgF,EAAA,EAAD,CAAad,OAAQA,EAAQE,KAAMA,EACnCpC,KAAMA,EAAMwC,eAAgBA,QCYzBS,EA9CD,SAAC,GAAsB,IAArB5F,EAAoB,EAApBA,KAAME,EAAc,EAAdA,SAAc,EACEb,mBAAS,IADX,mBACzBwG,EADyB,KACdC,EADc,OAEJzG,mBAAS,GAFL,mBAEzBwF,EAFyB,KAEjBC,EAFiB,OAGRzF,mBAAS,GAHD,mBAGzB0F,EAHyB,KAGnBC,EAHmB,OAIR3F,oBAAS,GAJD,mBAIzBsD,EAJyB,KAInBC,EAJmB,KAMhCxC,qBAAU,WAYN,OAXAwC,GAAQ,GACRwC,YAAW,eAAgBpF,EAAKqF,OAC/BU,MAAK,SAAAT,GACFQ,EAAaR,EAAIJ,KAAKW,WACtBf,EAAUQ,EAAIJ,KAAKL,QACnBjC,GAAQ,MAEXoD,OAAM,SAAApE,GACH1B,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAOL,EAAIqE,SAASf,KAAKgB,UAGnE,kBAAMJ,EAAa,OAC5B,CAAC9F,EAAKqF,MAAOnF,IAEf,IAAMiF,EAAc,uCAAG,4BAAAjC,EAAA,6DACnBN,GAAQ,GADW,SAEDwC,YAAW,sBAAD,OAA8B,EAAPL,GAAY/E,EAAKqF,OAFjD,OAEbC,EAFa,OAGnBQ,EAAaR,EAAIJ,KAAKW,WACtBf,EAAUQ,EAAIJ,KAAKL,QACnBG,EAAQD,EAAO,GACfnC,GAAQ,GANW,2CAAH,qDASpB,OACI,gCACI,cAAC6C,EAAA,EAAD,CAAWd,MAAOkB,EAAWhB,OAAQA,IAGjClC,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,oBAIxD,cAACgF,EAAA,EAAD,CAAad,OAAQA,EAAQE,KAAMA,EACnCpC,KAAMA,EAAMwC,eAAgBA,Q,QCOzBgB,UA1CC,WAAO,IAAD,EACQrG,aAAY,SAAAC,GAAK,OAAIA,KAAvC0C,EADU,EACVA,QAASzC,EADC,EACDA,KACXE,EAAWC,cAEToB,EAAO6E,cAAP7E,GAJU,EAKYlC,oBAAS,GALrB,mBAKXgH,EALW,KAKFC,EALE,KAalB,OANAlG,qBAAU,WACHqC,EAAQ8D,IAAIC,OAAM,SAAAzD,GAAI,OAAIA,IAASxB,MAClCrB,EAASuG,YAAgB,CAAClF,KAAIvB,YAEpC,CAACuB,EAAIvB,EAAME,EAAUuC,EAAQ8D,MAG3B,sBAAK5F,UAAU,UAAf,UAEI,cAAC,EAAD,CAAMX,KAAMA,EAAMyC,QAASA,EAASvC,SAAUA,EAAUqB,GAAIA,IAGxDvB,EAAKK,KAAK2C,MAAQzB,GAClB,sBAAKZ,UAAU,cAAf,UACI,wBAAQA,UAAW0F,EAAU,GAAK,SAAUzF,QAAS,kBAAM0F,GAAW,IAAtE,mBACA,wBAAQ3F,UAAW0F,EAAU,SAAW,GAAIzF,QAAS,kBAAM0F,GAAW,IAAtE,sBAKJ7D,EAAQiE,QACN,qBAAK/F,UAAU,kBAAkBK,IAAK0E,IAAUvE,IAAI,YACpD,mCAEMkF,EACE,cAAC,EAAD,CAAOrG,KAAMA,EAAME,SAAUA,IAC7B,cAAC,EAAD,CAAOF,KAAMA,EAAMyC,QAASA,EAASvC,SAAUA,EAAUqB,GAAIA,W,sJCXxEoF,EAhCD,SAAC,GAAa,IAAZC,EAAW,EAAXA,MACZ,OACI,gCACI,+BAESC,SAASD,EAAM,MAAOE,WAAWzE,OAAS,EACzC,IAAOwE,SAASD,EAAM,MACrBC,SAASD,EAAM,QAG1B,qCAEA,+BAESC,SAASD,EAAM,IAAKE,WAAWzE,OAAS,EACvC,IAAOwE,SAASD,EAAM,IACrBC,SAASD,EAAM,MAG1B,qCAEA,gCAESA,EAAM,IAAIE,WAAWzE,OAAS,EAC7B,IAAOuE,EAAM,GAAM,IAClBA,EAAM,GAAM,UCmEpBG,EAvFI,SAAC,GAA8B,IAA7B1G,EAA4B,EAA5BA,KAAM6F,EAAsB,EAAtBA,IAAKjG,EAAiB,EAAjBA,MAAOiF,EAAU,EAAVA,KAC3BlF,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACFE,EAAWC,cAUjB,OACI,qCACI,sBAAKQ,UAAU,aAAf,UACI,cAACwD,EAAA,EAAD,CAAQnD,IAAKX,EAAKT,OAAQwE,KAAK,iBAC/B,+BAAO/D,EAAKgE,cAGhB,sBAAK1D,UAAU,cAAf,UAEQN,EAAK2C,MAAQhD,EAAKK,KAAK2C,KACvB,mBAAGrC,UAAU,2BACbC,QAnBa,WACrBsE,GAED8B,OAAOC,QAAQ,2BACd/G,EAASgH,YAAe,CAAChB,MAAKhB,OAAMlF,aAkBhC,gCAEQkG,EAAIiB,MACJ,qBAAKxG,UAAU,YACfS,MAAO,CAACC,OAAQpB,EAAQ,YAAc,aADtC,SAEKiG,EAAIiB,OAITjB,EAAIkB,MAAM3D,KAAI,SAACV,EAAMsE,GAAP,OACV,8BAEQtE,EAAKuE,IAAIC,MAAM,UACbC,YAAUzE,EAAKuE,IAAKrH,GACpBwH,YAAU1E,EAAKuE,IAAKrH,IAJpBoH,SAYlBnB,EAAIwB,MACJ,yBAAQ/G,UAAU,qCAClBS,MAAO,CAACuG,WAAY,OAAQC,aAAc,QAD1C,UAGI,sBAAMjH,UAAU,uCAChBS,MAAO,CACHyG,SAAU,SAAUC,MAA0B,IAAnB5B,EAAIwB,KAAKK,MAAc,UAAY,QAC9D1G,OAAQpB,EAAQ,YAAc,aAHlC,SAM2B,IAAnBiG,EAAIwB,KAAKK,MACP7B,EAAIwB,KAAKM,MAAQ,eAAiB,iBAClC9B,EAAIwB,KAAKM,MAAQ,qBAAuB,SAIlD,sBAAKrH,UAAU,YAAf,UACI,6BAAKuF,EAAIwB,KAAKM,MAAQ,aAAe,eACrC,gCAEQ9B,EAAIwB,KAAKK,MAAQ,EACf,cAAC,EAAD,CAAOnB,MAAOV,EAAIwB,KAAKK,QACvB,IAAIE,KAAK/B,EAAIgC,WAAWC,gCAUlD,qBAAKxH,UAAU,YAAf,SACK,IAAIsH,KAAK/B,EAAIgC,WAAWE,uB,+BCuN1BC,EAnSG,WAAO,IAAD,EAC2BvI,aAAY,SAAAC,GAAK,OAAIA,KAA5DC,EADY,EACZA,KAAMsI,EADM,EACNA,QAASrI,EADH,EACGA,MAAOyC,EADV,EACUA,OAAQ6F,EADlB,EACkBA,KAChCrI,EAAWC,cAEToB,EAAO6E,cAAP7E,GAJY,EAKIlC,mBAAS,IALb,mBAKbgB,EALa,KAKPmI,EALO,OAMInJ,mBAAS,IANb,mBAMb8H,EANa,KAMPsB,EANO,OAOMpJ,mBAAS,IAPf,mBAOb+H,EAPa,KAONsB,EAPM,OAQcrJ,oBAAS,GARvB,mBAQbsJ,EARa,KAQFC,EARE,KAUdC,EAAaC,mBACbC,EAAUD,mBAXI,EAaIzJ,mBAAS,IAbb,mBAab6F,EAba,KAaP8D,EAbO,OAcQ3J,mBAAS,GAdjB,mBAcbwF,EAda,KAcLC,EAdK,OAeIzF,mBAAS,GAfb,mBAeb0F,EAfa,KAePC,EAfO,QAgBgB3F,mBAAS,GAhBzB,qBAgBb4J,GAhBa,MAgBDC,GAhBC,MAkBdC,GAAUC,cAEhBhJ,qBAAU,WACN,IAAM6D,EAAUqE,EAAQpD,KAAKpC,MAAK,SAAAC,GAAI,OAAIA,EAAKC,MAAQzB,KACnD0C,IACA+E,EAAQ/E,EAAQoF,UAChBvE,EAAUb,EAAQY,QAClBG,EAAQf,EAAQc,SAErB,CAACuD,EAAQpD,KAAM3D,IAElBnB,qBAAU,WACN,GAAImB,GAAM+G,EAAQlF,MAAMf,OAAS,EAAG,CAChCiH,YAAW,WACPT,EAAWU,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,UAChE,IAEH,IAAMC,EAAUrB,EAAQlF,MAAMN,MAAK,SAAAzC,GAAI,OAAIA,EAAK2C,MAAQzB,KACpDoI,GAASnB,EAAQmB,MAE1B,CAACrB,EAAQlF,MAAO7B,IAEnB,IAyBMqI,GAAY,uCAAG,WAAOrJ,GAAP,iBAAA2C,EAAA,yDACjB3C,EAAEO,iBACGqG,EAAK0C,QAA2B,IAAjBzC,EAAM/E,OAFT,oDAGjBoG,EAAQ,IACRC,EAAS,IACTE,GAAa,GAETkB,EAAS,KACT1C,EAAM/E,OAAS,GARF,kCAQoB0H,YAAY3C,GARhC,QAQK0C,EARL,sBAUX5D,EAAM,CACR8D,OAAQhK,EAAKK,KAAK2C,IAClBiH,UAAW1I,EACX4F,OACAC,MAAO0C,EACP5B,WAAW,IAAID,MAAOiC,eAG1BtB,GAAa,GAlBI,UAmBX1I,EAASiK,YAAW,CAAEjE,MAAKlG,OAAM0C,YAnBtB,QAoBbmG,EAAWU,SACXV,EAAWU,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,QArBlD,4CAAH,sDAyBlBtJ,qBAAU,YACe,uCAAG,sBAAA8C,EAAA,0DAChBoF,EAAQpD,KAAKsB,OAAM,SAAAzD,GAAI,OAAIA,EAAKC,MAAQzB,KADxB,gCAEVrB,EAASkK,YAAY,CAAEpK,OAAMuB,QAFnB,OAGhB+H,YAAW,WACPT,EAAWU,QAAQC,eAAe,CAAEC,SAAU,SAAUC,MAAO,UAChE,IALa,2CAAH,qDAQrBW,KACD,CAAC9I,EAAIrB,EAAUF,EAAMsI,EAAQpD,OAIhC9E,qBAAU,WACW,IAAIkK,sBAAqB,SAAAC,GAClCA,EAAQ,GAAGC,gBACXtB,IAAc,SAAAuB,GAAC,OAAIA,EAAI,OAE5B,CACCC,UAAW,KAGNC,QAAQ5B,EAAQQ,WAC1B,CAACL,KAEJ9I,qBAAU,WACF6I,GAAa,GACTpE,GAAiB,EAAPE,IACV7E,EAAS0K,YAAiB,CAAE5K,OAAMuB,KAAIwD,KAAMA,EAAO,KACnDmE,GAAc,MAIvB,CAACD,KAEJ,IAQM4B,GAAS,SAAC,GAAe,IAAb7C,EAAY,EAAZA,MACNhF,EAAoC3C,EAApC2C,IAAKpD,EAA+BS,EAA/BT,OAAQyE,EAAuBhE,EAAvBgE,SAAUyG,EAAazK,EAAbyK,SAEzB5E,EAAM,CACR8D,OAAQhK,EAAKK,KAAK2C,IAClBiH,UAAWjH,EACXpD,SAAQyE,WAAUyG,WAAU9C,SAEhC9H,EAAS,CAAEoB,KAAMQ,IAAYiJ,KAAM/I,QAASkE,KAG1C8E,GAAW,SAAC,GAAe,IAAbhD,EAAY,EAAZA,MAAY,EACgBhI,EAAKK,KAAzC2C,EADoB,EACpBA,IAAKpD,EADe,EACfA,OAAQyE,EADO,EACPA,SAAUyG,EADH,EACGA,SAEzB5E,EAAM,CACR8D,OAAQhH,EACRiH,UAAW5J,EAAK2C,IAChBpD,SAAQyE,WAAUyG,WAAU9C,SAG5BO,EAAK0C,OAAM/E,EAAIgF,OAAS3C,EAAKvF,KAEjCN,EAAOyI,KAAK,WAAYjF,IAa5B,OACI,qCACI,qBAAKvF,UAAU,iBAAiBS,MAAO,CAAEgK,OAAQ,WAAjD,SAEwB,IAAhB/K,EAAKgC,QACD,cAACqB,EAAA,EAAD,CAAUrD,KAAMA,EAAhB,SACI,gCAGY,mBAAGM,UAAU,mBACTC,QApBhB,WACpBiK,GAAO,CAAE7C,OAAO,IAChBgD,GAAS,CAAEhD,OAAO,OAoBc,mBAAGrH,UAAU,oBACTC,QAlBhB,WACpBiK,GAAO,CAAE7C,OAAO,IAChBgD,GAAS,CAAEhD,OAAO,OAoBM,mBAAGrH,UAAU,2BACTC,QA7DC,WAC7B,GAAIoG,OAAOC,QAAQ,0BAEf,OADA/G,EAASmL,YAAmB,CAAErL,OAAMuB,QAC7B4H,GAAQmC,KAAK,sBAkEpB,qBAAK3K,UAAU,iBACXS,MAAO,CAAEmK,OAAQnE,EAAM/E,OAAS,EAAI,qBAAuB,IAD/D,SAEI,sBAAK1B,UAAU,eAAe6K,IAAK3C,EAAnC,UACI,wBAAQzH,MAAO,CAAEqK,UAAW,QAASC,QAAS,GAAKF,IAAKzC,EAAxD,uBAKI7D,EAAKzB,KAAI,SAACyC,EAAKmB,GAAN,OACL,gCAEQnB,EAAI8D,SAAWhK,EAAKK,KAAK2C,KACzB,qBAAKrC,UAAU,yBAAf,SACI,cAAC,EAAD,CAAYN,KAAMA,EAAM6F,IAAKA,EAAKjG,MAAOA,MAK7CiG,EAAI8D,SAAWhK,EAAKK,KAAK2C,KACzB,qBAAKrC,UAAU,uBAAf,SACI,cAAC,EAAD,CAAYN,KAAML,EAAKK,KAAM6F,IAAKA,EAAKjG,MAAOA,EAAOiF,KAAMA,QAX7DmC,MAoBdsB,GACA,qBAAKhI,UAAU,uBAAf,SACI,qBAAKK,IAAK0E,IAAUvE,IAAI,mBAOxC,qBAAKR,UAAU,aAAaS,MAAO,CAAEuK,QAASvE,EAAM/E,OAAS,EAAI,OAAS,QAA1E,SAEQ+E,EAAM3D,KAAI,SAACV,EAAMsE,GAAP,OACN,sBAAiB9F,GAAG,aAApB,UAEQwB,EAAKzB,KAAKiG,MAAM,UACVC,YAAUvG,IAAIC,gBAAgB6B,GAAO9C,GACrCwH,YAAUxG,IAAIC,gBAAgB6B,GAAO9C,GAE/C,sBAAMW,QAAS,kBAvLb,SAACyG,GACvB,IAAMyC,EAAM,YAAO1C,GACnB0C,EAAO8B,OAAOvE,EAAO,GACrBqB,EAASoB,GAoLgC+B,CAAkBxE,IAAvC,oBANMA,QAYtB,uBAAM1G,UAAU,aAAaE,SAAU+I,GAAvC,UACI,uBACItI,KAAK,OACLwK,YAAY,0BACZpL,MAAOyG,EACP1F,SAAU,SAAAlB,GAAC,OAAIkI,EAAQlI,EAAEC,OAAOE,QAChCU,MAAO,CACHC,OAAQpB,EAAQ,YAAc,YAC9B0H,WAAY1H,EAAQ,UAAY,GAChC6H,MAAO7H,EAAQ,QAAU,MAIjC,cAAC8L,EAAA,EAAD,CAAOC,WAAYvD,EAASwD,QAAS9E,EAAMlH,MAAOA,IAI9C,sBAAKU,UAAU,cAAf,UACI,mBAAGA,UAAU,6BACb,uBACIW,KAAK,OACLb,KAAK,OACLc,GAAG,OACH2K,UAAQ,EACR1K,OAAO,kBACPC,SAzOE,SAAClB,GACvB,IAAMoB,EAAK,YAAOpB,EAAEC,OAAOmB,OACvBC,EAAM,GACNuK,EAAW,GAEfxK,EAAMsD,SAAQ,SAAAvD,GACV,OAAKA,EAEDA,EAAK0C,KAAO,QACLxC,EAAM,kCAGVuK,EAASb,KAAK5J,GANHE,EAAM,2BASxBA,GAAK1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAOL,KAC/D8G,EAAS,GAAD,mBAAKtB,GAAU+E,UA8Nf,wBACI7K,KAAK,SACLX,UAAU,iBACVyL,WAAWjF,GAAQC,EAAM/E,OAAS,GAHtC,4BChRDgK,UAdM,WACjB,OACI,sBAAK1L,UAAU,iBAAf,UACI,qBAAKA,UAAU,uCAAf,SACI,cAAC2L,EAAA,EAAD,MAGJ,qBAAK3L,UAAU,gBAAf,SACI,cAAC,EAAD,W,+cCPH4L,EAAa,CACtBC,YAAa,cACbC,aAAc,eACdC,UAAW,YACXlH,YAAa,cACbmH,SAAU,WACVC,YAAa,eAGJC,EAAY,SAAC,GAAD,IAAGC,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQ/M,EAArB,EAAqBA,KAAM0C,EAA3B,EAA2BA,OAA3B,8CAAwC,WAAOxC,GAAP,qBAAAgD,EAAA,yDACzDkE,EAAQ,GADiD,SAGzDlH,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAE0E,SAAS,OACpDqG,EAAO1K,OAAS,GAJqC,gCAIpB0H,YAAYgD,GAJQ,OAIlC3F,EAJkC,8BAMvC4F,YAAY,QAAS,CAAEF,WAAUC,OAAQ3F,GAASpH,EAAKqF,OANhB,OAMnDC,EANmD,OASzDpF,EAAS,CACLoB,KAAMiL,EAAWU,WACjBjL,QAAQ,2BAAMsD,EAAIJ,KAAKgI,SAAhB,IAAyB7M,KAAML,EAAKK,SAG/CH,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAE0E,SAAS,KACxDxG,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OAG3DA,EAAM,CACR3E,GAAI+D,EAAIJ,KAAKgI,QAAQlK,IACrBmE,KAAM,oBACNiG,WAAY9H,EAAIJ,KAAKgI,QAAQ7M,KAAKiE,UAClCgD,IAAI,SAAD,OAAWhC,EAAIJ,KAAKgI,QAAQlK,KAC/BqK,MAAOP,EAASO,MAChBC,MAAK,UAAElG,EAAM,UAAR,aAAE,EAAUE,KAGrBpH,EAASqN,YAAa,CAAErH,MAAKlG,OAAM0C,YA3BsB,kDAgCzDxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAlCiB,0DAAxC,uDAuCZsH,EAAW,yDAAM,WAAOtN,GAAP,eAAAgD,EAAA,sEAEtBhD,EAAS,CAAEoB,KAAMiL,EAAWE,aAAczK,SAAS,IAF7B,SAGJoD,YAAW,SAHP,OAGhBE,EAHgB,OAKtBpF,EAAS,CACLoB,KAAMiL,EAAWG,UACjB1K,QAAQ,2BAAKsD,EAAIJ,MAAV,IAAgBH,KAAM,MAGjC7E,EAAS,CAAEoB,KAAMiL,EAAWE,aAAczK,SAAS,IAV7B,gDAYtB9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAdjB,yDAAN,uDAmBXuH,EAAa,SAAC,GAAD,IAAGX,EAAH,EAAGA,SAAUC,EAAb,EAAaA,OAAQ/M,EAArB,EAAqBA,KAAM0N,EAA3B,EAA2BA,OAA3B,8CAAwC,WAAOxN,GAAP,qBAAAgD,EAAA,yDAC1DkE,EAAQ,GACNuG,EAAYZ,EAAO1L,QAAO,SAAAuM,GAAG,OAAKA,EAAItG,OACtCuG,EAAYd,EAAO1L,QAAO,SAAAuM,GAAG,OAAIA,EAAItG,OAEvCoG,EAAOL,QAAUP,EAASO,OAIvBK,EAAOI,QAAUhB,EAASgB,OAC1BJ,EAAOK,WAAajB,EAASiB,UAI7BL,EAAOM,cAAgBlB,EAASkB,aAChCN,EAAOO,QAAUnB,EAASmB,OAC1BP,EAAOQ,iBAAmBpB,EAASoB,gBACnCR,EAAOS,SAAWrB,EAASqB,QAG3BT,EAAOU,WAAatB,EAASsB,UAER,IAArBT,EAAUtL,QACVwL,EAAUxL,SAAWqL,EAAOX,OAAO1K,OAvBoB,6DA2B1DnC,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAE0E,SAAS,OACpDiH,EAAUtL,OAAS,GA5BmC,kCA4BlB0H,YAAY4D,GA5BM,QA4BhCvG,EA5BgC,gCA8BxCiH,YAAa,QAAD,OAASX,EAAO1K,KAAhB,YAAC,eACxB8J,GADuB,IACbC,OAAO,GAAD,mBAAMc,GAAN,YAAoBzG,MACxCpH,EAAKqF,OAhCkD,QA8BpDC,EA9BoD,OAkC1DpF,EAAS,CAAEoB,KAAMiL,EAAW/G,YAAaxD,QAASsD,EAAIJ,KAAKgI,UAE3DhN,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OApCP,kDAsC1DhG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAxCkB,0DAAxC,uDA4CboI,EAAW,SAAC,GAAD,IAAEC,EAAF,EAAEA,KAAMvO,EAAR,EAAQA,KAAM0C,EAAd,EAAcA,OAAd,8CAA0B,WAAOxC,GAAP,iBAAAgD,EAAA,6DACxCgK,EADwC,2BAC1BqB,GAD0B,IACpBC,MAAM,GAAD,mBAAMD,EAAKC,OAAX,CAAkBxO,EAAKK,SACtDH,EAAS,CAAEoB,KAAMiL,EAAW/G,YAAaxD,QAASkL,IAElDxK,EAAOyI,KAAK,WAAY+B,GAJsB,kBAOpCmB,YAAa,QAAD,OAASE,EAAKvL,IAAd,SAA0B,KAAMhD,EAAKqF,OAPb,OAUpCa,EAAM,CACR3E,GAAIvB,EAAKK,KAAK2C,IACdmE,KAAM,kBACNiG,WAAY,CAACmB,EAAKlO,KAAK2C,KACvBsE,IAAI,SAAD,OAAWiH,EAAKvL,KACnBiJ,QAASsC,EAAKtC,QACdqB,MAAOiB,EAAKxB,OAAO,GAAGzF,KAG1BpH,EAASqN,YAAa,CAACrH,MAAKlG,OAAM0C,YAnBQ,kDAsB1CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAxBG,0DAA1B,uDA6BXuI,EAAa,SAAC,GAAD,IAAEF,EAAF,EAAEA,KAAMvO,EAAR,EAAQA,KAAM0C,EAAd,EAAcA,OAAd,8CAA0B,WAAOxC,GAAP,iBAAAgD,EAAA,6DAC1CgK,EAD0C,2BAC5BqB,GAD4B,IACtBC,MAAOD,EAAKC,MAAMnN,QAAO,SAAAqN,GAAI,OAAIA,EAAK1L,MAAQhD,EAAKK,KAAK2C,SAClF9C,EAAS,CAAEoB,KAAMiL,EAAW/G,YAAaxD,QAASkL,IAElDxK,EAAOyI,KAAK,aAAc+B,GAJsB,kBAOtCmB,YAAa,QAAD,OAASE,EAAKvL,IAAd,WAA4B,KAAMhD,EAAKqF,OAPb,OAUtCa,EAAM,CACR3E,GAAIvB,EAAKK,KAAK2C,IACdmE,KAAM,kBACNiG,WAAY,CAACmB,EAAKlO,KAAK2C,KACvBsE,IAAI,SAAD,OAAWiH,EAAKvL,MAEvB9C,EAASyO,YAAa,CAACzI,MAAKlG,OAAM0C,YAhBU,kDAmB5CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OArBK,0DAA1B,uDA0Bb0I,EAAU,SAAC,GAAD,IAAEC,EAAF,EAAEA,WAAYtN,EAAd,EAAcA,GAAd,8CAAsB,WAAOrB,GAAP,eAAAgD,EAAA,0DACtC2L,EAAWrI,OAAM,SAAA+H,GAAI,OAAIA,EAAKvL,MAAQzB,KADA,0CAGf6D,YAAW,QAAD,OAAS7D,IAHJ,OAG3B+D,EAH2B,OAIjCpF,EAAS,CAAEoB,KAAMiL,EAAWI,SAAU3K,QAASsD,EAAIJ,KAAKqJ,OAJvB,gDAMjCrO,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OARN,yDAAtB,uDAcV4I,EAAa,SAAC,GAAD,IAAEP,EAAF,EAAEA,KAAMvO,EAAR,EAAQA,KAAM0C,EAAd,EAAcA,OAAd,8CAA0B,WAAOxC,GAAP,iBAAAgD,EAAA,6DAChDhD,EAAS,CAAEoB,KAAMiL,EAAWK,YAAa5K,QAASuM,IADF,kBAI1BQ,YAAc,QAAD,OAASR,EAAKvL,KAAOhD,EAAKqF,OAJb,OAItCC,EAJsC,OAOtCY,EAAM,CACR3E,GAAIgN,EAAKvL,IACTmE,KAAM,oBACNiG,WAAY9H,EAAIJ,KAAKgI,QAAQ7M,KAAKiE,UAClCgD,IAAI,SAAD,OAAWiH,EAAKvL,MAEvB9C,EAASyO,YAAa,CAACzI,MAAKlG,OAAM0C,YAbU,gDAgB5CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAlBK,yDAA1B,uDAuBb8I,EAAW,SAAC,GAAD,IAAET,EAAF,EAAEA,KAAMvO,EAAR,EAAQA,KAAR,8CAAkB,WAAOE,GAAP,eAAAgD,EAAA,6DAChCyG,EADgC,2BAClB3J,EAAKK,MADa,IACP4O,MAAM,GAAD,mBAAMjP,EAAKK,KAAK4O,OAAhB,CAAuBV,EAAKvL,QAChE9C,EAAS,CAAEoB,KAAMQ,IAAYoN,KAAMlN,QAAQ,2BAAKhC,GAAN,IAAYK,KAAMsJ,MAFtB,kBAK5B0E,YAAa,YAAD,OAAaE,EAAKvL,KAAO,KAAMhD,EAAKqF,OALpB,uDAOlCnF,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OATL,yDAAlB,uDAcXiJ,EAAa,SAAC,GAAD,IAAEZ,EAAF,EAAEA,KAAMvO,EAAR,EAAQA,KAAR,8CAAkB,WAAOE,GAAP,eAAAgD,EAAA,6DAClCyG,EADkC,2BACpB3J,EAAKK,MADe,IACT4O,MAAOjP,EAAKK,KAAK4O,MAAM5N,QAAO,SAAAE,GAAE,OAAIA,IAAOgN,EAAKvL,SAC/E9C,EAAS,CAAEoB,KAAMQ,IAAYoN,KAAMlN,QAAQ,2BAAKhC,GAAN,IAAYK,KAAMsJ,MAFpB,kBAK9B0E,YAAa,cAAD,OAAeE,EAAKvL,KAAO,KAAMhD,EAAKqF,OALpB,uDAOpCnF,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OATH,yDAAlB,wD,kTC3NbkJ,EAAe,CACxBC,aAAc,eACdC,cAAe,gBACfC,cAAe,gBACfC,cAAe,gBACfC,aAAc,eACdC,oBAAqB,uBAGZnC,EAAe,SAAC,GAAD,IAAErH,EAAF,EAAEA,IAAKlG,EAAP,EAAOA,KAAM0C,EAAb,EAAaA,OAAb,8CAAyB,WAAOxC,GAAP,eAAAgD,EAAA,+EAE3B8J,YAAY,SAAU9G,EAAKlG,EAAKqF,OAFL,OAEvCC,EAFuC,OAI7C5C,EAAOyI,KAAK,eAAZ,2BACO7F,EAAIJ,KAAKyK,QADhB,IAEItP,KAAM,CACFgE,SAAUrE,EAAKK,KAAKgE,SACpBzE,OAAQI,EAAKK,KAAKT,WARmB,gDAY7CM,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAZzB,yDAAzB,uDAgBfyI,EAAe,SAAC,GAAD,IAAEzI,EAAF,EAAEA,IAAKlG,EAAP,EAAOA,KAAM0C,EAAb,EAAaA,OAAb,8CAAyB,WAAOxC,GAAP,SAAAgD,EAAA,+EAEvC6L,YAAc,UAAD,OAAW7I,EAAI3E,GAAf,gBAAyB2E,EAAIoB,KAAOtH,EAAKqF,OAFf,OAI7C3C,EAAOyI,KAAK,eAAgBjF,GAJiB,+CAM7ChG,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OANzB,wDAAzB,uDAUf0J,EAAc,SAACvK,GAAD,8CAAW,WAAOnF,GAAP,eAAAgD,EAAA,+EAEZkC,YAAW,WAAYC,GAFX,OAExBC,EAFwB,OAI9BpF,EAAS,CAAEoB,KAAM8N,EAAaC,aAAcrN,QAASsD,EAAIJ,KAAK2K,WAJhC,gDAM9B3P,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OANxC,yDAAX,uDAWd4J,EAAe,SAAC,GAAD,IAAE5J,EAAF,EAAEA,IAAKlG,EAAP,EAAOA,KAAP,8CAAiB,WAAOE,GAAP,SAAAgD,EAAA,6DACzChD,EAAS,CAACoB,KAAM8N,EAAaI,cAAexN,QAAQ,2BAAKkE,GAAN,IAAW6J,QAAQ,MAD7B,kBAG/B1B,YAAa,iBAAD,OAAkBnI,EAAIlD,KAAO,KAAMhD,EAAKqF,OAHrB,sDAKrCnF,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OALjC,wDAAjB,uDASf8J,EAAoB,SAAC3K,GAAD,8CAAW,WAAOnF,GAAP,SAAAgD,EAAA,6DACxChD,EAAS,CAACoB,KAAM8N,EAAaM,oBAAqB1N,QAAS,KADnB,kBAG9B+M,YAAc,kBAAmB1J,GAHH,sDAKpCnF,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OALlC,wDAAX,wD,oBC1DjC,IAAIzC,EAAM,CACT,iBAAkB,GAClB,oBAAqB,GACrB,aAAc,GACd,gBAAiB,GACjB,aAAc,GACd,gBAAiB,GACjB,iBAAkB,GAClB,oBAAqB,GACrB,SAAU,GACV,YAAa,GACb,0BAA2B,GAC3B,6BAA8B,GAC9B,+BAAgC,GAChC,kCAAmC,GACnC,UAAW,GACX,aAAc,GACd,YAAa,GACb,aAAc,GACd,iBAAkB,IAClB,oBAAqB,IACrB,kBAAmB,GACnB,qBAAsB,GACtB,mBAAoB,GACpB,sBAAuB,GACvB,cAAe,GACf,iBAAkB,GAClB,iBAAkB,IAClB,oBAAqB,IACrB,aAAc,GACd,gBAAiB,GACjB,UAAW,GACX,aAAc,IAIf,SAASwM,EAAeC,GACvB,IAAI3O,EAAK4O,EAAsBD,GAC/B,OAAOE,EAAoB7O,GAE5B,SAAS4O,EAAsBD,GAC9B,IAAIE,EAAoBC,EAAE5M,EAAKyM,GAAM,CACpC,IAAI3P,EAAI,IAAI+P,MAAM,uBAAyBJ,EAAM,KAEjD,MADA3P,EAAEgQ,KAAO,mBACHhQ,EAEP,OAAOkD,EAAIyM,GAEZD,EAAeO,KAAO,WACrB,OAAOC,OAAOD,KAAK/M,IAEpBwM,EAAeS,QAAUP,EACzBQ,EAAOC,QAAUX,EACjBA,EAAe1O,GAAK,K,sUCjDPsP,EAAa,CACtBC,SAAU,WACVC,YAAa,cACbC,kBAAmB,oBACnBC,aAAc,eACdC,gBAAiB,kBACjBC,gBAAiB,kBACjBC,oBAAqB,sBACrBC,qBAAsB,wBAKblH,EAAa,SAAC,GAAD,IAAGjE,EAAH,EAAGA,IAAKlG,EAAR,EAAQA,KAAM0C,EAAd,EAAcA,OAAd,8CAA2B,WAAOxC,GAAP,uBAAAgD,EAAA,6DAEjDhD,EAAS,CAAEoB,KAAMuP,EAAWE,YAAa/O,QAASkE,IAFD,EAKflG,EAAKK,KAA/B2C,EALyC,EAKzCA,IAAKpD,EALoC,EAKpCA,OAAQyE,EAL4B,EAK5BA,SACrB3B,EAAOyI,KAAK,aAAZ,2BAA+BjF,GAA/B,IAAoC7F,KAAM,CAAE2C,MAAKpD,SAAQyE,eANR,kBAUvC2I,YAAY,UAAW9G,EAAKlG,EAAKqF,OAVM,OAavCiM,EAAkB,CACpB/P,GAAIvB,EAAKK,KAAK2C,IACdmE,KAAM,0BACNiG,WAAY,CAAClH,EAAI+D,WACjB3C,IAAI,YAAD,OAAcpB,EAAI+D,WACrBgC,QAAS/F,EAAIiB,KACbmG,MAAOtN,EAAKK,KAAKT,QAIrBM,EAASqN,YAAa,CAAErH,IAAKoL,EAAiBtR,OAAM0C,YAvBP,kDA2B7CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OA7BK,0DAA3B,uDAiCbqL,EAAmB,SAAC,GAAD,IAAEvR,EAAF,EAAEA,KAAF,IAAQ+E,YAAR,MAAe,EAAf,gDAAsB,WAAO7E,GAAP,iBAAAgD,EAAA,+EAE5BkC,YAAW,uBAAD,OAA+B,EAAPL,GAAY/E,EAAKqF,OAFvB,OAExCC,EAFwC,OAI1CwE,EAAS,GACbxE,EAAIJ,KAAKsM,cAAcvM,SAAQ,SAAAlC,GAC3BA,EAAKqK,WAAWnI,SAAQ,SAAAwM,GACjBA,EAAGzO,MAAQhD,EAAKK,KAAK2C,KACpB8G,EAAOwB,KAAP,2BAAgBmG,GAAhB,IAAoBtK,KAAMpE,EAAKoE,KAAMC,MAAOrE,EAAKqE,MAAOM,KAAM3E,EAAK2E,cAK/ExH,EAAS,CACLoB,KAAMuP,EAAWG,kBACjBhP,QAAS,CAAC8H,SAAQjF,OAAQS,EAAIJ,KAAKL,UAfO,gDAmB9C3E,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAnBxB,yDAAtB,uDAuBnBkE,EAAc,SAAC,GAAD,IAAEpK,EAAF,EAAEA,KAAMuB,EAAR,EAAQA,GAAR,IAAYwD,YAAZ,MAAmB,EAAnB,gDAA0B,WAAO7E,GAAP,iBAAAgD,EAAA,+EAE3BkC,YAAW,WAAD,OAAY7D,EAAZ,kBAA+B,EAAPwD,GAAY/E,EAAKqF,OAFxB,OAEvCC,EAFuC,OAGvCrB,EAHuC,2BAGzBqB,EAAIJ,MAHqB,IAGfmE,SAAU/D,EAAIJ,KAAKmE,SAASqI,YAE1DxR,EAAS,CAACoB,KAAMuP,EAAWI,aAAcjP,QAAQ,2BAAKiC,GAAN,IAAejB,IAAKzB,EAAIwD,WAL3B,gDAO7C7E,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAPzB,yDAA1B,uDAWd0E,EAAmB,SAAC,GAAD,IAAE5K,EAAF,EAAEA,KAAMuB,EAAR,EAAQA,GAAR,IAAYwD,YAAZ,MAAmB,EAAnB,gDAA0B,WAAO7E,GAAP,iBAAAgD,EAAA,+EAEhCkC,YAAW,WAAD,OAAY7D,EAAZ,kBAA+B,EAAPwD,GAAY/E,EAAKqF,OAFnB,OAE5CC,EAF4C,OAG5CrB,EAH4C,2BAG9BqB,EAAIJ,MAH0B,IAGpBmE,SAAU/D,EAAIJ,KAAKmE,SAASqI,YAE1DxR,EAAS,CAACoB,KAAMuP,EAAWK,gBAAiBlP,QAAQ,2BAAKiC,GAAN,IAAejB,IAAKzB,EAAIwD,WALzB,gDAOlD7E,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAPpB,yDAA1B,uDAWnBgB,EAAiB,SAAC,GAAD,IAAEhB,EAAF,EAAEA,IAAKhB,EAAP,EAAOA,KAAMlF,EAAb,EAAaA,KAAb,8CAAuB,WAAOE,GAAP,eAAAgD,EAAA,6DAC3Ce,EAAU0N,YAAWzM,EAAMgB,EAAIlD,KACrC9C,EAAS,CAACoB,KAAMuP,EAAWM,gBAAiBnP,QAAS,CAACiC,UAASjB,IAAKkD,EAAI+D,aAFvB,kBAIvC8E,YAAc,WAAD,OAAY7I,EAAIlD,KAAOhD,EAAKqF,OAJF,uDAM7CnF,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OANzB,yDAAvB,uDAUjBmF,EAAqB,SAAC,GAAD,IAAErL,EAAF,EAAEA,KAAMuB,EAAR,EAAQA,GAAR,8CAAgB,WAAOrB,GAAP,SAAAgD,EAAA,6DAC9ChD,EAAS,CAACoB,KAAMuP,EAAWO,oBAAqBpP,QAAST,IADX,kBAGpCwN,YAAc,gBAAD,OAAiBxN,GAAMvB,EAAKqF,OAHL,sDAK1CnF,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAL5B,wDAAhB,wD,gCCzGnB,QAA0B,qC,yECsE1BxC,IAjEE,SAAC,GAAoF,IAAnFkO,EAAkF,EAAlFA,SAAUvR,EAAwE,EAAxEA,KAAMwR,EAAkE,EAAlEA,OAAQC,EAA0D,EAA1DA,YAAatO,EAA6C,EAA7CA,iBAAkBI,EAA2B,EAA3BA,iBAAkBsC,EAAS,EAATA,IAEhFjG,EAAUH,aAAY,SAAAC,GAAK,OAAIA,KAA/BE,MAoCR,OACI,sBAAKU,UAAS,sEAAiEkR,GAA/E,UACI,8BACI,eAAC,IAAD,CAAME,GAAE,mBAAc1R,EAAK2C,KAAOpC,QArCvB,WAChBkR,GAAaA,IACbtO,GAAkBA,GAAiB,GACnCI,GAAkBA,GAAiB,IAmC9BjD,UAAU,4BADV,UAGI,cAAC,IAAD,CAAQK,IAAKX,EAAKT,OAAQwE,KAAK,eAE/B,sBAAKzD,UAAU,OAAOS,MAAO,CAAC4Q,UAAW,oBAAzC,UACI,sBAAMrR,UAAU,UAAhB,SAA2BN,EAAKgE,WAEhC,uBAAOjD,MAAO,CAACsK,QAAS,IAAxB,SAEQxF,EAzCZ,SAAC7F,GACb,OACI,qCACI,qBAAKe,MAAO,CAACC,OAAQpB,EAAQ,YAAc,aAA3C,SACKI,EAAK8G,OAGN9G,EAAK+G,MAAM/E,OAAS,GACpB,gCACKhC,EAAK+G,MAAM/E,OADhB,IACwB,mBAAG1B,UAAU,oBAKrCN,EAAKqH,MACL,sBAAM/G,UAAU,iBAAhB,SAE4B,IAApBN,EAAKqH,KAAKK,MACR1H,EAAKqH,KAAKM,MAAQ,eAAiB,iBACnC3H,EAAKqH,KAAKM,MAAQ,qBAAuB,YAuBrCiK,CAAQ5R,GACRA,EAAKgE,mBAO1BuN,O,kJCpDEM,EAXE,WACb,OACI,qBAAKvR,UAAU,oBAAoBS,MAAO,CAAC+Q,UAAW,sBAAtD,SACI,oBAAIxR,UAAU,mCACdS,MAAO,CAACgR,IAAK,MAAOC,KAAM,MAAOL,UAAW,yBAD5C,iC,OC2BGM,EAjBI,WAAO,IAAD,EACFlM,cAAZrB,EADc,EACdA,KAAMxD,EADQ,EACRA,GAGTgR,EAAW,GAUf,OAZiBzS,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KAIAqF,QAEAkN,EADDhR,EACS,UAAMwD,EAAN,SAEA,UAAMA,IApBL,SAACwN,GAGlB,IACI,OAAOC,IAAMC,cAHOC,OAAQ,YAAYH,IAAYI,SAItD,MAAO/Q,GACL,OAAO,cAAC,EAAD,KAkBJgR,CAAaL,I,OCtBTM,EALO,SAACC,GAEnB,OADmBC,aAAaC,QAAQ,cACpB,cAAC,IAAD,eAAWF,IAAY,cAAC,IAAD,CAAUf,GAAG,O,+BCa7CkB,EAfC,WACZ,OACI,qBAAKtS,UAAU,iDACfS,MAAO,CAACuG,WAAY,QAASG,MAAO,QAASsK,IAAK,EAAGC,KAAM,EAAGa,OAAQ,IADtE,SAGI,sBAAKC,MAAM,MAAM5H,OAAO,MAAM6H,QAAQ,YAAtC,UACI,yBAASC,OAAO,OAAOC,YAAY,IAAIC,KAAK,OAC5CC,OAAO,oBACP,sBAAMD,KAAK,OAAOE,EAAE,IAAIC,EAAE,KAA1B,2BCWDC,EAnBD,SAAC,GAAgC,IAA/BzN,EAA8B,EAA9BA,IAAK0N,EAAyB,EAAzBA,WAAYC,EAAa,EAAbA,QAC7B,OACI,sBAAKlT,UAAS,+CAA0CkT,GACxDzS,MAAO,CAACgR,IAAK,MAAO0B,MAAO,MAAOC,SAAU,QAASb,OAAQ,IAD7D,UAEI,sBAAKvS,UAAS,kCAA6BkT,GAA3C,UACI,wBAAQlT,UAAU,qBAAlB,SAAwCuF,EAAImH,QAC5C,wBAAQ1M,UAAU,6BAClBqT,eAAa,QAAQ5S,MAAO,CAAC6S,QAAS,QACtCrT,QAASgT,EAFT,qBAMJ,qBAAKjT,UAAU,aAAf,SACKuF,EAAIgO,WCiBNC,EAzBA,WAAO,IACVC,EAAUtU,aAAY,SAAAC,GAAK,OAAIA,KAA/BqU,MACFlU,EAAWC,cAEjB,OACI,gCACKiU,EAAM1N,SAAW,cAAC,EAAD,IAGd0N,EAAMnS,OACN,cAAC,EAAD,CAAOiE,IAAK,CAACmH,MAAO,QAAS6G,KAAME,EAAMnS,OACzC2R,WAAY,kBAAM1T,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,MAC9D6R,QAAQ,cAIRO,EAAMjH,SACN,cAAC,EAAD,CAAOjH,IAAK,CAACmH,MAAO,UAAW6G,KAAME,EAAMjH,SAC3CyG,WAAY,kBAAM1T,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,MAC9D6R,QAAQ,mB,yCC2ETQ,EA7FK,WAAO,IAAD,EACGvU,aAAY,SAAAC,GAAK,OAAIA,KAAtCC,EADc,EACdA,KAAM2P,EADQ,EACRA,OACRzP,EAAWC,cAMXmU,EAAc,WAChBpU,EAAS,CAACoB,KAAM8N,IAAaK,aAAczN,SAAU2N,EAAO4E,SAYhE,OACI,sBAAKnT,MAAO,CAAC2S,SAAU,SAAvB,UACI,sBAAKpT,UAAU,yDAAf,UACI,8CAEIgP,EAAO4E,MACL,mBAAG5T,UAAU,0BACfS,MAAO,CAACyG,SAAU,SAAUuD,OAAQ,WACpCxK,QAAS0T,IAEP,mBAAG3T,UAAU,gCACfS,MAAO,CAACyG,SAAU,SAAUuD,OAAQ,WACpCxK,QAAS0T,OAGjB,oBAAI3T,UAAU,SAGa,IAAvBgP,EAAOzK,KAAK7C,QACZ,qBAAKrB,IChDN,qoLDgDqBG,IAAI,WAAWR,UAAU,UAGjD,qBAAKS,MAAO,CAACoT,UAAW,sBAAuBC,SAAU,QAAzD,SAEQ9E,EAAOzK,KAAKzB,KAAI,SAACyC,EAAKmB,GAAN,OACZ,sBAAiB1G,UAAU,YAA3B,UACI,eAAC,IAAD,CAAMoR,GAAE,UAAK7L,EAAIoB,KAAO3G,UAAU,sCAClCC,QAAS,kBA5CZ,SAACsF,GAClBhG,EAAS4P,YAAa,CAAC5J,MAAKlG,UA2CO0U,CAAaxO,IAD5B,UAEI,cAAC/B,EAAA,EAAD,CAAQnD,IAAKkF,EAAI7F,KAAKT,OAAQwE,KAAK,eAEnC,sBAAKzD,UAAU,iBAAf,UACI,gCACI,wBAAQA,UAAU,OAAlB,SAA0BuF,EAAI7F,KAAKgE,WACnC,+BAAO6B,EAAIiB,UAEdjB,EAAI+F,SAAW,kCAAQ/F,EAAI+F,QAAQ0I,MAAM,EAAE,IAA5B,YAIhBzO,EAAIoH,OACJ,qBAAKlM,MAAO,CAAC+R,MAAO,QAApB,SAEQjN,EAAIoH,MAAM/F,MAAM,UACd,uBAAOvG,IAAKkF,EAAIoH,MAAO6F,MAAM,SAC7B,cAAChP,EAAA,EAAD,CAAQnD,IAAKkF,EAAIoH,MAAOlJ,KAAK,uBAM/C,wBAAOzD,UAAU,iDAAjB,UACKiU,IAAO1O,EAAIgC,WAAW2M,WAElB3O,EAAI6J,QAAU,mBAAGpP,UAAU,oCA5B9B0G,QAqCtB,oBAAI1G,UAAU,SACd,qBAAKA,UAAU,8BAA8BS,MAAO,CAACgK,OAAQ,WAC7DxK,QAzEgB,WACpB,IAAMkJ,EAAS6F,EAAOzK,KAAK7D,QAAO,SAAA0B,GAAI,OAAoB,IAAhBA,EAAKgN,UAC/C,OAAqB,IAAlBjG,EAAOzH,QAEP2E,OAAOC,QAAP,mBAA2B6C,EAAOzH,OAAlC,0DAF4BnC,EAAS8P,YAAkBhQ,EAAKqF,aAE/D,GAoEI,4BEsCGyP,EAzHF,WACT,IAAM5U,EAAWC,cADF,EAEiBL,aAAY,SAAAC,GAAK,OAAIA,KAA7CC,EAFO,EAEPA,KAAMC,EAFC,EAEDA,MAAO0P,EAFN,EAEMA,OAEboF,EAAaC,cAAbD,SAOFE,EAAW,SAACC,GACd,GAAIA,IAAOH,EAAU,MAAO,UAIhC,OACI,qBAAKpU,UAAU,OAAf,SACI,qBAAIA,UAAU,sBAAd,UAZS,CACb,CAAEwU,MAAO,OAAQC,KAAM,OAAQC,KAAM,KACrC,CAAEF,MAAO,UAAWC,KAAM,UAAWC,KAAM,aAWzB5R,KAAI,SAAC6R,EAAMjO,GAAP,OACV,oBAAI1G,UAAS,wBAAmBsU,EAASK,EAAKD,OAA9C,SACI,cAAC,IAAD,CACI1U,UAAU,WACVoR,GAAIuD,EAAKD,MAAQ,IACjBzU,QAAS,SAACL,GAEF+U,EAAK1U,UACLL,EAAEO,iBACFwU,EAAK1U,YAPjB,SAWK0U,EAAKF,KAAKG,WAAW,MAClB,mBAAG5U,UAAW2U,EAAKF,OAEnB,sBAAMzU,UAAU,iBAAhB,SAAkC2U,EAAKF,UAfS/N,MAqBhE,qBAAI1G,UAAU,oBAAoBS,MAAO,CAAEsK,QAAS,GAApD,UACI,uBAAM/K,UAAU,6BAA6BY,GAAG,iBAC5CiU,KAAK,SAASC,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAD5E,UAEI,sBAAMhV,UAAU,iBACZS,MAAO,CAAE0G,MAAO6H,EAAOzK,KAAK7C,OAAS,EAAI,UAAY,IADzD,sBAIA,sBAAM1B,UAAU,gBAAhB,SAAiCgP,EAAOzK,KAAK7C,YAEjD,qBAAK1B,UAAU,gBAAgBiV,kBAAgB,iBAC3CxU,MAAO,CAAE4Q,UAAW,oBADxB,SAEI,cAAC,EAAD,SAKPhS,EAAKK,KACF,qBAAIM,UAAU,oBAAoBS,MAAO,CAAEsK,QAAS,GAApD,UACI,sBAAM/K,UAAU,2BAA2BY,GAAG,iBAC1CiU,KAAK,SAASC,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QAD5E,SAEI,cAACxR,EAAA,EAAD,CAAQnD,IAAKhB,EAAKK,KAAKT,OAAQwE,KAAK,oBAExC,sBAAKzD,UAAU,gBAAgBiV,kBAAgB,iBAA/C,UAGI,cAAC,IAAD,CAAMjV,UAAU,gBAAgBoR,GAAG,WAAnC,kBACA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,yBAAnC,sBAEA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,SAAnC,mBAKoB,UAAnB/R,EAAKK,KAAKmV,MACP,qCAEI,qBAAK7U,UAAU,gBAAgBC,QAAS,kBAAMV,EAAS,CAAEoB,KAAMQ,IAAY+T,OAAQ7T,SAAS,KAA5F,iCAIA,cAAC,IAAD,CAAMrB,UAAU,gBAAgBoR,GAAG,SAAnC,mBACA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,eAAnC,gCACA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,gBAAnC,oCACA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,8BAAnC,oCAKR,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAE,mBAAc/R,EAAKK,KAAK2C,KAA1D,qBAGA,uBAAOd,QAAQ,QAAQvB,UAAU,gBAC7BC,QAAS,kBAAMV,EAAS,CAAEoB,KAAMQ,IAAYgU,MAAO9T,SAAU/B,KADjE,SAEKA,EAAQ,aAAe,cAI5B,qBAAKU,UAAU,qBACf,cAAC,IAAD,CAAMA,UAAU,gBAAgBoR,GAAG,IAAInR,QAAS,kBAAMV,EAAS6V,gBAA/D,+BAOR,sBAAKpV,UAAU,gCAAf,UACI,mBAAGA,UAAU,wBAAwB8U,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,UAC/F,sBAAKhV,UAAU,gBAAf,UACI,cAAC,IAAD,CAAMA,UAAU,gBAAgBoR,GAAG,yBAAnC,6BACA,cAAC,IAAD,CAAMpR,UAAU,gBAAgBoR,GAAG,SAAnC,0BACA,qBAAKpR,UAAU,qBACf,cAAC,IAAD,CAAMA,UAAU,gBAAgBoR,GAAG,YAAnC,oC,uBCjDbiE,EAjEA,WAAO,IAAD,EACW3W,mBAAS,IADpB,mBACV4W,EADU,KACFC,EADE,OAES7W,mBAAS,IAFlB,mBAEV+D,EAFU,KAEH+S,EAFG,KAITnW,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACFE,EAAWC,cALA,EAMOd,oBAAS,GANhB,mBAMVsD,EANU,KAMJC,EANI,KASXwT,EAAY,uCAAG,WAAO7V,GAAP,eAAA2C,EAAA,yDACjB3C,EAAEO,iBACEmV,EAFa,iEAKbrT,GAAQ,GALK,SAMKwC,YAAW,mBAAD,OAAoB6Q,GAAUjW,EAAKqF,OANlD,OAMPC,EANO,OAOb6Q,EAAS7Q,EAAIJ,KAAK9B,OAClBR,GAAQ,GARK,kDAUb1C,EAAS,CACLoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAXnD,0DAAH,sDAgBZ4L,EAAc,WAChBoE,EAAU,IACVC,EAAS,KAGb,OACI,uBAAMxV,UAAU,cAAcE,SAAUuV,EAAxC,UACI,uBAAO9U,KAAK,OAAOb,KAAK,SAASC,MAAOuV,EAAQ1U,GAAG,SAAS8L,MAAM,kBAClE5L,SAAU,SAAAlB,GAAC,OAAI2V,EAAU3V,EAAEC,OAAOE,MAAM2V,cAAcC,QAAQ,KAAM,QAEpE,sBAAK3V,UAAU,cAAcS,MAAO,CAACsK,QAASuK,EAAS,EAAI,IAA3D,UACI,sBAAMtV,UAAU,iBAAhB,oBACA,mDAGJ,qBAAKA,UAAU,eAAeC,QAASkR,EACvC1Q,MAAO,CAACsK,QAA0B,IAAjBtI,EAAMf,OAAe,EAAI,GAD1C,kBAKA,wBAAQf,KAAK,SAASF,MAAO,CAACuK,QAAS,QAAvC,oBAEEhJ,GAAQ,qBAAKhC,UAAU,UAAUK,IAAK0E,IAAUvE,IAAI,YAEtD,qBAAKR,UAAU,QAAf,SAEQsV,GAAU7S,EAAMK,KAAI,SAAApD,GAAI,OACpB,cAACqD,EAAA,EAAD,CAEArD,KAAMA,EACNwR,OAAO,SACPC,YAAaA,GAHRzR,EAAK2C,cC7BnBuT,EA1BA,WACX,OACI,qBAAK5V,UAAU,kBAAf,SACI,sBAAKA,UAAU,sFAAf,UAGI,eAAC,IAAD,CAAMoR,GAAG,IAAIpR,UAAU,iCACnBC,QAAS,kBAAMoG,OAAOwP,SAAS,CAAEpE,IAAK,KAD1C,UAGI,qBACIpR,IAAI,mBACJG,IAAI,eACJC,MAAO,CAAEmK,OAAQ,OAAQkL,YAAa,UAE1C,oBAAI9V,UAAU,sCAAd,+BAKJ,cAAC,EAAD,IACA,cAAC,EAAD,U,wBCkTD+V,EAhUK,WAAO,IAAD,EACmB5W,aAAY,SAACC,GAAD,OAAWA,KAAxDC,EADc,EACdA,KAAMC,EADQ,EACRA,MAAOyC,EADC,EACDA,OAAQgL,EADP,EACOA,OAEvBxN,EAAWC,cAEXwW,EAAe,CAEjBtJ,MAAO,GACPiI,KAAM,GACNtH,YAAa,GACbC,MAAO,GACPE,OAAQ,GACRD,eAAgB,GAEhBE,SAAU,IAdQ,EAoBU/O,mBAASsX,GApBnB,mBAoBf7J,EApBe,KAoBL8J,EApBK,OAqBMvX,mBAAS,IArBf,mBAqBf0N,EArBe,KAqBP8J,EArBO,OAwBMxX,oBAAS,GAxBf,mBAwBfyX,EAxBe,KAwBPC,EAxBO,KAyBhBC,EAAWlO,mBACXmO,EAAYnO,mBA1BI,EA2BMzJ,mBAAS,IA3Bf,mBA2Bf6X,EA3Be,KA2BPC,EA3BO,KAgChBC,EAAoB,SAAA7W,GAAM,IAAD,EACHA,EAAEC,OAAlBC,EADmB,EACnBA,KAAMC,EADa,EACbA,MACdkW,GAAY,SAAAS,GAAI,kCACTA,GADS,kBAEX5W,EAAOC,QA2GhB,OAvBAN,qBAAU,WACNkX,QAAQC,IAAI,uBAAwB7J,IACpC,OAAIA,QAAJ,IAAIA,OAAJ,EAAIA,EAAQ5J,UACR8S,EAAY,CACRvJ,MAAOK,EAAOL,OAAS,GAEvBW,YAAaN,EAAOM,aAAe,GACnCC,MAAOP,EAAOO,OAAS,GACvBC,eAAgBR,EAAOQ,gBAAkB,GACzCC,OAAQT,EAAOS,QAAU,GACzBmH,KAAM5H,EAAO4H,MAAQ,GAErBlH,SAAUV,EAAOU,UAAY,KAIjCyI,EAAUnJ,EAAOX,QAAU,OAIhC,CAACW,IAIA,qBAAK/M,UAAU,eAAf,SACI,uBAAME,SA/CO,SAACN,GAGlB,GAFAA,EAAEO,iBAEoB,IAAlBiM,EAAO1K,OACP,OAAOnC,EAAS,CACZoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,wCAItByL,EAAO5J,OACP5D,EAASuN,YAAW,CAAEX,WAAUC,SAAQ/M,OAAM0N,YAE9CxN,EAAS2M,YAAW,CAAEC,WAAUC,SAAQ/M,OAAM0C,YAGlDkU,EAAYD,GACZE,EAAU,IACNK,GAAQA,EAAOM,OACnBtX,EAAS,CAAEoB,KAAMQ,IAAY+T,OAAQ7T,SAAS,KA4B1C,UACI,sBAAKrB,UAAU,gBAAf,UACI,oBAAIA,UAAU,MAAd,6BACA,sBAAMC,QAAS,kBAAMV,EAAS,CAC1BoB,KAAMQ,IAAY+T,OAAQ7T,SAAS,KADvC,qBAMJ,qBAAKrB,UAAU,aAAf,SACI,yBACIF,KAAK,QACLC,MAAOoM,EAASO,MAChB5L,SAAU2V,EACVzW,UAAU,eAJd,UAMI,wBAAQD,MAAM,GAAd,yCACA,wBAAQA,MAAM,oBAAd,+BACA,wBAAQA,MAAM,yBAAd,kDACA,wBAAQA,MAAM,MAAd,kCACA,wBAAQA,MAAM,iBAAd,kCACA,wBAAQA,MAAM,eAAd,0BACA,wBAAQA,MAAM,gBAAd,wCACA,wBAAQA,MAAM,8BAAd,yCACA,wBAAQA,MAAM,uBAAd,kCACA,wBAAQA,MAAM,qBAAd,qCAGR,qBAAKC,UAAU,aAAf,SACI,uBACIW,KAAK,OACLb,KAAK,OACLqL,YAAY,OACZpL,MAAOoM,EAASwI,KAChB3U,UAAU,eACVc,SAAU2V,MAIlB,sBAAKzW,UAAU,cAAf,UACI,0BAAUF,KAAK,cAAcC,MAAOoM,EAASkB,YACzClC,YAAY,cACZrK,SAAU2V,EACVhW,MAAO,CACHC,OAAQpB,EAAQ,YAAc,YAC9B6H,MAAO7H,EAAQ,QAAU,OACzB0H,WAAY1H,EAAQ,kBAAoB,MAGhD,qBAAKU,UAAU,aAAf,SACI,uBACIW,KAAK,SACLb,KAAK,QACLqL,YAAY,SACZpL,MAAOoM,EAASmB,MAChBtN,UAAU,eACVc,SAAU2V,MAIlB,qBAAKzW,UAAU,aAAf,SACI,yBACIuL,UAAU,EACVzL,KAAK,iBACLC,MAAOoM,EAASoB,eAChBzM,SAAU2V,EACVzW,UAAU,eALd,UAOI,sDACA,wBAAQD,MAAM,KAAd,gBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,WAAd,sBACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,oBAAd,mCAKR,qBAAKC,UAAU,aAAf,SACI,yBACIuL,UAAU,EACVzL,KAAK,SACLC,MAAOoM,EAASqB,OAChB1M,SAAU2V,EACVzW,UAAU,eALd,UAOI,kDACA,wBAAQD,MAAM,OAAd,kBACA,wBAAQA,MAAM,gBAAd,2BACA,wBAAQA,MAAM,SAAd,yBAMR,qBAAKC,UAAU,aAAf,SACI,uBACIW,KAAK,OACLb,KAAK,WACLqL,YAAY,WACZpL,MAAOoM,EAASsB,SAChBzN,UAAU,eACVc,SAAU2V,MAIlB,qBAAKzW,UAAU,cAAf,SAEQoM,EAAOtJ,KAAI,SAACmK,EAAKvG,GAAN,OACP,sBAAiB9F,GAAG,WAApB,UAEQqM,EAAI6J,OAAShQ,YAAUmG,EAAI6J,OAAQxX,GAC7B2N,EAAItG,IACA,mCAEMsG,EAAItG,IAAIC,MAAM,UACRC,YAAUoG,EAAItG,IAAKrH,GACnBwH,YAAUmG,EAAItG,IAAKrH,KAG/B,mCAEM2N,EAAItM,KAAKiG,MAAM,UACTC,YAAUvG,IAAIC,gBAAgB0M,GAAM3N,GACpCwH,YAAUxG,IAAIC,gBAAgB0M,GAAM3N,KAI9D,sBAAMW,QAAS,kBApN1B,SAACyG,GAClB,IAAMyC,EAAM,YAAOiD,GACnBjD,EAAO8B,OAAOvE,EAAO,GACrBwP,EAAU/M,GAiNuC4N,CAAarQ,IAAlC,oBAnBMA,QA0BlByP,GACA,sBAAKnW,UAAU,2BAAf,UACI,uBAAOgX,UAAQ,EAACC,OAAK,EAACpM,IAAKwL,EAAU7D,MAAM,OAAO5H,OAAO,OACrDnK,MAAO,CAAEC,OAAQpB,EAAQ,YAAc,eAE3C,sBAAMW,QA/LL,WACrBsW,EAAOM,OACPT,GAAU,IA6LU,kBACA,wBAAQvL,IAAKyL,EAAW7V,MAAO,CAAEuK,QAAS,aAIlD,qBAAKhL,UAAU,eAAf,SAEQmW,EACM,mBAAGnW,UAAU,gBAAgBC,QApNrC,WAClB,IAAMuS,EAAQ6D,EAASzN,QAAQsO,YACzBtM,EAASyL,EAASzN,QAAQuO,aAEhCb,EAAU1N,QAAQwO,aAAa,QAAS5E,GACxC8D,EAAU1N,QAAQwO,aAAa,SAAUxM,GAE7B0L,EAAU1N,QAAQyO,WAAW,MACrCC,UAAUjB,EAASzN,QAAS,EAAG,EAAG4J,EAAO5H,GAC7C,IAAItK,EAAMgW,EAAU1N,QAAQ2O,YAC5BrB,EAAU,GAAD,mBAAK9J,GAAL,CAAa,CAAE0K,OAAQxW,SA2MN,qCACE,mBAAGN,UAAU,gBAAgBC,QApOxC,WACjBmW,GAAU,GACNoB,UAAUC,cAAgBD,UAAUC,aAAaC,cACjDF,UAAUC,aAAaC,aAAa,CAAErQ,OAAO,IACxCjC,MAAK,SAAAuS,GACFtB,EAASzN,QAAQgP,UAAYD,EAC7BtB,EAASzN,QAAQiP,OAEjB,IAAMC,EAAQH,EAAYI,YAC1BvB,EAAUsB,EAAM,OACjBzS,OAAM,SAAApE,GAAG,OAAI0V,QAAQC,IAAI3V,SA4NR,sBAAKjB,UAAU,cAAf,UACI,mBAAGA,UAAU,iBACb,uBAAOW,KAAK,OAAOb,KAAK,OAAOc,GAAG,OAC9B2K,UAAQ,EAAC1K,OAAO,kBAAkBC,SAlQ/C,SAAAlB,GACvB,IAAMoB,EAAK,YAAOpB,EAAEC,OAAOmB,OACvBC,EAAM,GACN+W,EAAY,GAEhBhX,EAAMsD,SAAQ,SAAAvD,GACV,OAAKA,EAEDA,EAAK0C,KAAO,QACLxC,EAAM,kCAGV+W,EAAUrN,KAAK5J,GANJE,EAAM,0BASxBA,GAAK1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEC,MAAOL,KAC/DiV,EAAU,GAAD,mBAAK9J,GAAW4L,kBA2PjB,qBAAKhY,UAAU,gBAAf,SACI,wBAAQA,UAAU,0BAA0BW,KAAK,SAAjD,0BC9TPsX,EACA,iBADAA,EAEE,mB,0BCLA,MAA0B,4CCoM1BC,EA9KM,WAAO,IAAD,EACwB/Y,aAAY,SAAAC,GAAK,OAAIA,KAA5DC,EADe,EACfA,KAAM0C,EADS,EACTA,OAAQiN,EADC,EACDA,OAAQmJ,EADP,EACOA,OAAQpR,EADf,EACeA,KAChCxH,EAAWC,cAEX4Y,EAAWjQ,mBAiKjB,OA9JA1I,qBAAU,WACNsC,EAAOyI,KAAK,WAAYnL,EAAKK,QAC/B,CAACqC,EAAQ1C,EAAKK,OAGhBD,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,gBAAgB,SAAA9L,GACtBhN,EAAS,CAACoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,OAG9C,kBAAMxK,EAAOuW,IAAI,mBAC1B,CAACvW,EAAQxC,IAEXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,kBAAkB,SAAA9L,GACxBhN,EAAS,CAACoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,OAG9C,kBAAMxK,EAAOuW,IAAI,qBAC1B,CAACvW,EAAQxC,IAIXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,yBAAyB,SAAA9L,GAC/BhN,EAAS,CAACoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,OAG9C,kBAAMxK,EAAOuW,IAAI,4BAC1B,CAACvW,EAAQxC,IAEXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,yBAAyB,SAAA9L,GAC/BhN,EAAS,CAACoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,OAG9C,kBAAMxK,EAAOuW,IAAI,4BAC1B,CAACvW,EAAQxC,IAIXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,kBAAkB,SAAArP,GACxBzJ,EAAS,CAACoB,KAAMQ,IAAYoN,KAAMlN,QAAQ,2BAAKhC,GAAN,IAAYK,KAAMsJ,SAGxD,kBAAMjH,EAAOuW,IAAI,qBAC1B,CAACvW,EAAQxC,EAAUF,IAErBI,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,oBAAoB,SAAArP,GAC1BzJ,EAAS,CAACoB,KAAMQ,IAAYoN,KAAMlN,QAAQ,2BAAKhC,GAAN,IAAYK,KAAMsJ,SAGxD,kBAAMjH,EAAOuW,IAAI,uBAC1B,CAACvW,EAAQxC,EAAUF,IAIrBI,qBAAU,WAaN,OAZAsC,EAAOsW,GAAG,wBAAwB,SAAA9S,GA/EhB,IAACgO,EAAMkB,EAAM9N,EAgF3BpH,EAAS,CAACoB,KAAM8N,IAAaE,cAAetN,QAASkE,IAElDyJ,EAAO4E,OAAOwE,EAASxP,QAAQiP,OAlFnBtE,EAoFXhO,EAAI7F,KAAKgE,SAAW,IAAM6B,EAAIiB,KApFbiO,EAqFjBlP,EAAI7F,KAAKT,OArFc0H,EAsFvBpB,EAAIoB,IAlFR,IAAI4R,aAmFA,aAtFE,CACVhF,OAAMkB,SAIR+D,QAAU,SAAA5Y,GACRA,EAAEO,iBACFkG,OAAOiE,KAAK3D,EAAK,cAmFV,kBAAM5E,EAAOuW,IAAI,2BAC1B,CAACvW,EAAQxC,EAAUyP,EAAO4E,QAE5BnU,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,wBAAwB,SAAA9S,GAC9BhG,EAAS,CAACoB,KAAM8N,IAAaG,cAAevN,QAASkE,OAGlD,kBAAMxD,EAAOuW,IAAI,2BAC1B,CAACvW,EAAQxC,IAIXE,qBAAU,WAcN,OAbAsC,EAAOsW,GAAG,sBAAsB,SAAA9S,GAC5BhG,EAAS,CAACoB,KAAMuP,IAAWE,YAAa/O,QAASkE,IAEjDhG,EAAS,CACLoB,KAAMuP,IAAWC,SACjB9O,QAAQ,2BACDkE,EAAI7F,MADJ,IAEH8G,KAAMjB,EAAIiB,KACVC,MAAOlB,EAAIkB,aAKhB,kBAAM1E,EAAOuW,IAAI,yBAC1B,CAACvW,EAAQxC,IAGXE,qBAAU,WACNsC,EAAOyI,KAAK,kBAAmBnL,EAAKK,QACtC,CAACqC,EAAQ1C,EAAKK,OAEhBD,qBAAU,WASN,OARAsC,EAAOsW,GAAG,uBAAuB,SAAA9T,GAC7BA,EAAKD,SAAQ,SAAAlC,GACL+V,EAAOM,SAASrW,EAAKxB,KACrBrB,EAAS,CAACoB,KAAMQ,IAAYuX,OAAQrX,QAASe,EAAKxB,WAKvD,kBAAMmB,EAAOuW,IAAI,0BAC1B,CAACvW,EAAQxC,EAAU4Y,IAErB1Y,qBAAU,WAON,OANAsC,EAAOsW,GAAG,2BAA2B,SAAAzX,GAC7BuX,EAAOM,SAAS7X,IAChBrB,EAAS,CAACoB,KAAMQ,IAAYuX,OAAQrX,QAAST,OAI9C,kBAAMmB,EAAOuW,IAAI,8BAC1B,CAACvW,EAAQxC,EAAU4Y,IAGrB1Y,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,oBAAoB,SAAAzX,GAC1BrB,EAAS,CAACoB,KAAMQ,IAAYwX,QAAStX,QAAST,OAG3C,kBAAMmB,EAAOuW,IAAI,uBAC1B,CAACvW,EAAQxC,IAIXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,oBAAoB,SAAA9T,GAC1BhF,EAAS,CAACoB,KAAMQ,IAAYiJ,KAAM/I,QAASkD,OAGxC,kBAAMxC,EAAOuW,IAAI,uBAC1B,CAACvW,EAAQxC,IAEXE,qBAAU,WAKN,OAJAsC,EAAOsW,GAAG,YAAY,SAAA9T,GAClBhF,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAM,GAAD,OAAKyF,EAAKrD,SAAV,mBAG/C,kBAAM3B,EAAOuW,IAAI,eAC1B,CAACvW,EAAQxC,EAAUwH,IAKjB,mCACI,uBAAO6R,UAAQ,EAAC/N,IAAKuN,EAAU3X,MAAO,CAACuK,QAAS,QAAhD,SACI,wBAAQ3K,IAAKwY,EAAWlY,KAAK,mBC9L9B,MAA0B,qCCsR1BmY,EA/QG,WAAO,IAAD,EACwB3Z,aAAY,SAAAC,GAAK,OAAIA,KAAzD2H,EADY,EACZA,KAAM1H,EADM,EACNA,KAAMuI,EADA,EACAA,KAAM7F,EADN,EACMA,OAAQzC,EADd,EACcA,MAC5BC,EAAWC,cAFG,EAIMd,mBAAS,GAJf,mBAIbqa,EAJa,KAINC,EAJM,OAKIta,mBAAS,GALb,mBAKbua,EALa,KAKPC,EALO,OAMQxa,mBAAS,GANjB,mBAMbya,EANa,KAMLC,EANK,OAOM1a,mBAAS,GAPf,mBAObuH,EAPa,KAONoT,EAPM,OASQ3a,oBAAS,GATjB,mBASb4a,EATa,KASLC,EATK,KAUdC,EAAWrR,mBACXsR,EAAatR,mBAXC,EAYQzJ,mBAAS,MAZjB,mBAYb6X,EAZa,KAYLC,EAZK,OAaU9X,mBAAS,MAbnB,mBAabgb,EAba,KAaJC,EAbI,KAgBpBla,qBAAU,WAON,OANgB,SAAVma,IACFP,GAAS,SAAAQ,GAAC,OAAIA,EAAI,KAClBlR,WAAWiR,EAAS,KAExBA,GAEO,kBAAMP,EAAS,MACxB,IAEF5Z,qBAAU,WACN2Z,EAAUnT,EAAM,IAChBiT,EAAQhT,SAASD,EAAM,KACvB+S,EAAS9S,SAASD,EAAM,SAC1B,CAACA,IAIH,IAAM6T,EAAiBC,uBAAY,SAAChT,EAAMK,EAAO4S,GAC7C,GAAGjT,EAAKuC,YAAcjK,EAAKK,KAAK2C,KAAO2X,EAAW,CAC9C,IAAMzU,EAAM,CACR8D,OAAQtC,EAAKsC,OACbC,UAAWvC,EAAKuC,UAChB9C,KAAM,GACNC,MAAO,GACPM,KAAM,CAACM,MAAON,EAAKM,MAAOD,SAC1BG,WAAW,IAAID,MAAOiC,eAE1BhK,EAASiK,YAAW,CAACjE,MAAKlG,OAAM0C,eAEtC,CAAC1C,EAAME,EAAUwC,IAEbkY,EAAgB,WAClB1D,GAAUA,EAAOjS,SAAQ,SAAAwT,GAAK,OAAIA,EAAMjB,UACrC6C,GAASA,EAAQQ,QACpB,IAAI9S,EAAQkS,EAASrT,EAAQ,EAC7BlE,EAAOyI,KAAK,UAAZ,2BAA2BzD,GAA3B,IAAiCK,WAEjC0S,EAAe/S,EAAMK,GACrB7H,EAAS,CAACoB,KAAMQ,IAAYiJ,KAAM/I,QAAS,QAG/C5B,qBAAU,WACN,IAAG6Z,EAEE,CACD,IAAMa,EAAQxR,YAAW,WACrB5G,EAAOyI,KAAK,UAAZ,2BAA2BzD,GAA3B,IAAiCK,MAAO,KACxC0S,EAAe/S,EAAM,GACrBxH,EAAS,CAACoB,KAAMQ,IAAYiJ,KAAM/I,QAAS,SAC5C,MAEH,OAAO,kBAAM+Y,aAAaD,IAR1Bd,EAAS,KAWf,CAAC9Z,EAAU+Z,EAAQvS,EAAMhF,EAAQ+X,IAEnCra,qBAAU,WAQN,OAPAsC,EAAOsW,GAAG,mBAAmB,SAAA9T,GACzBgS,GAAUA,EAAOjS,SAAQ,SAAAwT,GAAK,OAAIA,EAAMjB,UACrC6C,GAASA,EAAQQ,QACpBJ,EAAevV,EAAMA,EAAK6C,OAC1B7H,EAAS,CAAEoB,KAAMQ,IAAYiJ,KAAM/I,QAAS,UAGzC,kBAAMU,EAAOuW,IAAI,sBAC1B,CAACvW,EAAQxC,EAAUgX,EAAQuD,EAAgBJ,IAI7C,IAAMW,EAAa,SAAChT,GAChB,IAAMiT,EAAS,CAAEC,OAAO,EAAMlT,SAC9B,OAAOmQ,UAAUC,aAAaC,aAAa4C,IAGzCE,EAAa,SAACC,EAAKtE,GACrB,IAAI9O,EAAQoT,EACZpT,EAAMuQ,UAAYzB,EAClB9O,EAAMwQ,QAIJ6C,EAAe,WACjBL,EAAWtT,EAAKM,OAAOjC,MAAK,SAAA+Q,GACxBqE,EAAWhB,EAAS5Q,QAASuN,GAC7B,IAAM2B,EAAQ3B,EAAO4B,YACrBvB,EAAUsB,GAEV,IAAM4B,EAAU9R,EAAKb,KAAKA,EAAKwD,OAAQ4L,GACvCuD,EAAQrB,GAAG,UAAU,SAASsC,GAC1BH,EAAWf,EAAW7Q,QAAS+R,MAEnCpB,GAAU,GACVI,EAAWD,OAInBja,qBAAU,WAmBN,OAlBAmI,EAAKyQ,GAAG,QAAQ,SAAAqB,GACZW,EAAWtT,EAAKM,OAAOjC,MAAK,SAAA+Q,GACrBqD,EAAS5Q,SACR4R,EAAWhB,EAAS5Q,QAASuN,GAEjC,IAAM2B,EAAQ3B,EAAO4B,YACrBvB,EAAUsB,GAEV4B,EAAQJ,OAAOnD,GACfuD,EAAQrB,GAAG,UAAU,SAASsC,GACvBlB,EAAW7Q,SACV4R,EAAWf,EAAW7Q,QAAS+R,MAGvCpB,GAAU,GACVI,EAAWD,SAGZ,kBAAM9R,EAAKgT,eAAe,WACnC,CAAChT,EAAMb,EAAKM,QAGd5H,qBAAU,WAeN,OAdAsC,EAAOsW,GAAG,oBAAoB,WAC1B9B,GAAUA,EAAOjS,SAAQ,SAAAwT,GAAK,OAAIA,EAAMjB,UACrC6C,GAASA,EAAQQ,QAEpBJ,EAAe/S,EADHuS,EAASrT,EAAQ,GACD,GAE5B1G,EAAS,CAACoB,KAAMQ,IAAYiJ,KAAM/I,QAAS,OAE3C9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAM,OAAD,OAASyF,EAAKrD,SAAd,qBAIhB,kBAAM3B,EAAOuW,IAAI,uBAC1B,CAACvW,EAAQwU,EAAQhX,EAAUwH,EAAM+S,EAAgBR,EAAQrT,EAAOyT,IAGlE,IAIMmB,EAAa,SAACC,GAChBA,EAASC,QACTD,EAASE,YAAc,GAe3B,OAZAvb,qBAAU,WACN,IAAIqb,EAAW,IAAIG,MAAMC,GAOzB,OANG5B,EACCuB,EAAWC,GAZD,SAACA,GACfA,EAASjD,OAaLsD,CAAUL,GAGP,kBAAMD,EAAWC,MAC1B,CAACxB,IAIC,sBAAKtZ,UAAU,aAAf,UACI,sBAAKA,UAAU,WAAWS,MAAO,CAC7BuK,QAAUsO,GAAUvS,EAAKM,MAAS,OAAS,QAD/C,UAII,sBAAKrH,UAAU,cAAcS,MAAO,CAAC2a,QAAS,UAA9C,UACI,cAAC5X,EAAA,EAAD,CAAQnD,IAAK0G,EAAK9H,OAAQwE,KAAK,kBAC/B,6BAAKsD,EAAKrD,WACV,6BAAKqD,EAAKoD,WAGNmP,EACE,gCACE,+BAAQP,EAAM5S,WAAWzE,OAAS,EAAI,IAAMqX,EAAQA,IACpD,qCACA,+BAAQE,EAAK9S,WAAWzE,OAAS,EAAI,IAAMuX,EAAOA,IAClD,qCACA,+BAAQE,EAAOhT,WAAWzE,OAAS,EAAI,IAAMyX,EAASA,OAExD,8BAEMpS,EAAKM,MACH,oDACA,0DAQbiS,GACD,sBAAKtZ,UAAU,QAAf,UACI,gCAASiZ,EAAK9S,WAAWzE,OAAS,EAAI,IAAMuX,EAAOA,IACnD,sCACA,gCAASE,EAAOhT,WAAWzE,OAAS,EAAI,IAAMyX,EAASA,OAK/D,sBAAKnZ,UAAU,YAAf,UACI,wBAAQA,UAAU,6BAClBC,QAASga,EADT,sBAMKlT,EAAKuC,YAAcjK,EAAKK,KAAK2C,MAAQiX,GACtC,mCAEQvS,EAAKM,MACH,wBAAQrH,UAAU,8BACpBC,QAASya,EADP,sBAIA,wBAAQ1a,UAAU,8BACpBC,QAASya,EADP,0BAYtB,sBAAK1a,UAAU,aAAaS,MAAO,CAC/BsK,QAAUuO,GAAUvS,EAAKM,MAAS,IAAM,IACxC3G,OAAQpB,EAAQ,YAAc,aAFlC,UAKI,uBAAOuL,IAAK2O,EAAUxZ,UAAU,YAAYqb,aAAW,EAACpE,OAAK,IAC7D,uBAAOpM,IAAK4O,EAAYzZ,UAAU,cAAcqb,aAAW,IAE3D,sBAAKrb,UAAU,aAAf,UACI,+BAAQ+Y,EAAM5S,WAAWzE,OAAS,EAAI,IAAMqX,EAAQA,IACpD,qCACA,+BAAQE,EAAK9S,WAAWzE,OAAS,EAAI,IAAMuX,EAAOA,IAClD,qCACA,+BAAQE,EAAOhT,WAAWzE,OAAS,EAAI,IAAMyX,EAASA,OAG1D,wBAAQnZ,UAAU,sCAClBC,QAASga,EADT,6B,sECvEDqB,OAhKf,WAAgB,IAAD,EAC4Cnc,aAAY,SAAAC,GAAK,OAAIA,KAAtEC,EADK,EACLA,KAAM0N,EADD,EACCA,OAAQwO,EADT,EACSA,MAAOxU,EADhB,EACgBA,KAAOyU,EADvB,EACuBA,iBAC9Bjc,EAAWC,cACbgJ,EAAUC,cAGR/D,EAAQrF,EAAKqF,MANN,EAoBgBhG,oBAAS,GAA5B+c,EApBG,oBAsBPC,EAAyB,uCAAG,8BAAAnZ,EAAA,sEACLiV,UAAUmE,cAAcC,MADnB,cAC1BC,EAD0B,gBAELA,EAAaC,YAAYC,kBAFpB,OAE1BC,EAF0B,OAGhCP,IAAkBO,GAHc,2CAAH,qDAO/Bvc,qBAAU,WACJ,kBAAmB+X,WAAa,gBAAiBnR,QACnDqV,MAED,IAIH,IAAMO,EAAcT,EAAiBU,aAAa/Z,MAAK,SAAA8Z,GAAW,aAAIA,EAAYvc,KAAK2C,OAAjB,UAAyBhD,EAAKK,YAA9B,aAAyB,EAAW2C,QAC1G5C,qBAAU,WACJwc,GACFzT,EAAQmC,KAAK,eAEd,CAACsR,EAAazT,IAGjB/I,qBAAU,WAERF,EAAS4c,eACT,IAAMpa,EAASqa,MAEf,OADA7c,EAAS,CAAEoB,KAAMQ,IAAYkb,OAAQhb,QAASU,IACvC,kBAAMA,EAAOmY,WACnB,CAAC3a,IAKJE,qBAAU,WACRF,EAASsN,eACLxN,EAAKqF,QAEPnF,ELxFwB,SAACmF,GAAD,8CAAW,WAAOnF,GAAP,eAAAgD,EAAA,sEAEjChD,EAAS,CAAEoB,KAAMsX,EAAsB5W,SAAS,IAFf,SAIfoD,YAAW,kBAAmBC,GAJf,OAI3BC,EAJ2B,OAKjCpF,EAAS,CAAEoB,KAAMsX,EAAwB5W,QAASsD,EAAIJ,OAEtDhF,EAAS,CAAEoB,KAAMsX,EAAsB5W,SAAS,IAPf,gDAUjC9B,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAVrC,yDAAX,sDKwFf+W,CAAejd,EAAKqF,QAC7BnF,EAAS0P,YAAY5P,EAAKqF,QAC1BnF,EAASgd,aAASld,EAAKqF,QACvBnF,EAASid,aAAgBnd,EAAKqF,WAG/B,CAACnF,EAAUF,EAAKqF,QAGnB,IAAM+X,EAAkB,uCAAG,kCAAAla,EAAA,+EAGAkC,YAAW,mBAAoBC,GAH/B,UAGjBY,EAHiB,OAIvBqR,QAAQC,IAAI,uBAAwBtR,GAE/BA,GAAaA,EAASf,MAASe,EAASf,KAAKmY,UAN3B,sBAOf,IAAI/M,MAAM,+CAPK,cAUjB+M,EAAYpX,EAASf,KAAKmY,UAVT,UAaIlF,UAAUmE,cAAcC,MAb5B,eAajBC,EAbiB,iBAgBIA,EAAaC,YAAYa,UAAU,CAC5DC,iBAAiB,EACjBC,qBAAsBC,EAAsBJ,KAlBvB,eAgBjBV,EAhBiB,iBAsBjB3P,YAAY,oBAAqB,CAAE2P,gBAAgBtX,GAtBlC,QAuBvBiS,QAAQC,IAAI,sCAvBW,kDAyBvBD,QAAQrV,MAAM,wBAAyB,KAAIqG,SAzBpB,0DAAH,qDA+BxB,SAASmV,EAAsBC,GAC7B,IACMC,GAAUD,EADA,IAAIE,QAAQ,EAAIF,EAAarb,OAAS,GAAK,IAExDiU,QAAQ,KAAM,KACdA,QAAQ,KAAM,KACXuH,EAAU7W,OAAO8W,KAAKH,GAC5B,OAAOI,WAAWC,KAAK,YAAIH,GAASpa,KAAI,SAAAwa,GAAI,OAAIA,EAAKC,WAAW,OAKlE,OACE,eAAC,IAAD,WACE,cAACC,EAAD,IACA,uBAAO7c,KAAK,WAAWC,GAAG,UAC1B,qBAAKZ,UAAS,eAAU+M,GAAUwO,IAAU,QAA5C,SACE,sBAAKvb,UAAU,OAAf,WACKic,GAAe,cAAC,EAAD,IAEjB,wBACChc,QAAO,sBAAE,sBAAAsC,EAAA,sEACkBgW,aAAakF,oBAD/B,UAEY,YAFZ,uCAGChB,IAHD,6BAKLhJ,MAAM,wCALD,2CAQThI,UAAWpM,EAAKqF,MATjB,oCAaD,wBAAQzE,QA5HU,WACxBuX,UAAUkG,YAAYC,oBACpB,SAAAC,OAGA,SAAAtc,GACEqV,QAAQrV,MAAMA,OAsHZ,kCAGCyL,GAAU,cAAC,EAAD,IACV1N,EAAKqF,OAAS,cAAC,EAAD,IACdqC,GAAQ,cAAC,EAAD,IAIP,cAAC,IAAD,CAAO8W,OAAK,EAACnJ,KAAK,IAAIoJ,UAAWC,YACjC,cAAC,IAAD,CAAOF,OAAK,EAACnJ,KAAK,YAAYoJ,UAAWE,YACzC,cAAC,IAAD,CAAOH,OAAK,EAACnJ,KAAK,SAASoJ,UAAWG,YACtC,cAAC,IAAD,CAAOJ,OAAK,EAACnJ,KAAK,yBAAyBoJ,UAAWI,aACtD,cAAC,IAAD,CAAOL,OAAK,EAACnJ,KAAK,SAASoJ,UAAWze,EAAKqF,MAAQyZ,UAAQF,YAC3D,cAAC,IAAD,CAAOJ,OAAK,EAACnJ,KAAK,eAAeoJ,UAAWze,EAAKqF,MAAQ0Z,UAAeH,YACxE,cAAC,IAAD,CAAOJ,OAAK,EAACnJ,KAAK,gBAAgBoJ,UAAWze,EAAKqF,MAAQ2Z,WAAeJ,YACzE,cAAC,IAAD,CAAOJ,OAAK,EAACnJ,KAAK,2BAA2BoJ,UAAWze,EAAKqF,MAAQ4Z,WAA6BL,YAClG,cAAC,IAAD,CAAOJ,OAAK,EAACnJ,KAAK,YAAYoJ,UAAWze,EAAKqF,MAAQ6Z,WAAWN,YAEjE,cAAC,EAAD,CAAeJ,OAAK,EAACnJ,KAAK,SAASoJ,UAAWnM,IAC9C,cAAC,EAAD,CAAekM,OAAK,EAACnJ,KAAK,aAAaoJ,UAAWnM,aChL/C6M,GAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,8BAAqBtZ,MAAK,YAAkD,IAA/CuZ,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,O,mBCLRO,GAAe,GAYNC,GAVK,WAAmC,IAAlC7f,EAAiC,uDAAzB4f,GAAcE,EAAW,uCAClD,OAAQA,EAAOve,MACX,KAAKQ,IAAYoN,KACb,OAAO2Q,EAAO7d,QAClB,QACI,OAAOjC,ICPb4f,GAAe,GAYNG,GAVM,WAAmC,IAAlC/f,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACnD,OAAQA,EAAOve,MACX,KAAKQ,IAAYC,MACb,OAAO8d,EAAO7d,QAClB,QACI,OAAOjC,ICKJggB,GAVM,WAAmC,IAAlChgB,EAAiC,wDAAX8f,EAAW,uCACnD,OAAQA,EAAOve,MACX,KAAKQ,IAAYgU,MACb,OAAO+J,EAAO7d,QAClB,QACI,OAAOjC,I,SCNb4f,GAAe,CACjBjZ,SAAS,EACTH,IAAK,GACLnD,MAAO,GACPuB,MAAO,IA6CIqb,GA1CQ,WAAmC,IAAlCjgB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACrD,OAAQA,EAAOve,MACX,KAAKiE,KAAc0a,QACf,OAAO,2BACAlgB,GADP,IAEI2G,QAASmZ,EAAO7d,UAExB,KAAKuD,KAAc2a,SACf,OAAO,2BACAngB,GADP,IAEIqD,MAAM,GAAD,mBAAMrD,EAAMqD,OAAZ,CAAmByc,EAAO7d,QAAQ3B,SAE/C,KAAKkF,KAAc4a,OAKnB,KAAK5a,KAAc6a,SACf,OAAO,2BACArgB,GADP,IAEIqD,MAAOid,YAAStgB,EAAMqD,MAAOyc,EAAO7d,QAAQgB,IAAK6c,EAAO7d,WAEhE,KAAKuD,KAAc+a,OACf,OAAO,2BACAvgB,GADP,IAEIwG,IAAI,GAAD,mBAAMxG,EAAMwG,KAAZ,CAAiBsZ,EAAO7d,YAEnC,KAAKuD,KAAcmH,UACf,OAAO,2BACA3M,GADP,IAEI4E,MAAM,GAAD,mBAAM5E,EAAM4E,OAAZ,CAAmBkb,EAAO7d,YAEvC,KAAKuD,KAAcC,YACf,OAAO,2BACAzF,GADP,IAEI4E,MAAO0b,YAAStgB,EAAM4E,MAAOkb,EAAO7d,QAAQgB,IAAK6c,EAAO7d,WAEhE,QACI,OAAOjC,ICnCJwgB,GAVO,WAA4B,IAA3BxgB,EAA0B,wDAAX8f,EAAW,uCAC7C,OAAQA,EAAOve,MACX,KAAKQ,IAAY+T,OACb,OAAOgK,EAAO7d,QAClB,QACI,OAAOjC,ICLb4f,GAAe,CACjBjZ,SAAS,EACT/B,MAAO,GACPE,OAAQ,EACRE,KAAM,GAqCKyb,GAlCK,WAAmC,IAAlCzgB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCAClD,OAAQA,EAAOve,MACX,KAAKiL,IAAWC,YACZ,OAAO,2BACAzM,GADP,IAEI4E,MAAM,CAAEkb,EAAO7d,SAAV,mBAAsBjC,EAAM4E,UAEzC,KAAK4H,IAAWE,aACZ,OAAO,2BACA1M,GADP,IAEI2G,QAASmZ,EAAO7d,UAExB,KAAKuK,IAAWG,UACZ,OAAO,2BACA3M,GADP,IAEI4E,MAAOkb,EAAO7d,QAAQ2C,MACtBE,OAAQgb,EAAO7d,QAAQ6C,OACvBE,KAAM8a,EAAO7d,QAAQ+C,OAE7B,KAAKwH,IAAW/G,YACZ,OAAO,2BACAzF,GADP,IAEI4E,MAAO0b,YAAStgB,EAAM4E,MAAOkb,EAAO7d,QAAQgB,IAAK6c,EAAO7d,WAEhE,KAAKuK,IAAWK,YACZ,OAAO,2BACA7M,GADP,IAEI4E,MAAOgN,YAAW5R,EAAM4E,MAAOkb,EAAO7d,QAAQgB,OAEtD,QACI,OAAOjD,IC1BJ0gB,GAVM,WAAmC,IAAlC1gB,EAAiC,wDAAX8f,EAAW,uCACnD,OAAQA,EAAOve,MACX,KAAKQ,IAAYoC,MACb,OAAO2b,EAAO7d,QAClB,QACI,OAAOjC,ICMJ2gB,GAZW,WAAyB,IAAxB3gB,EAAuB,uDAAf,GAAI8f,EAAW,uCAC9C,OAAQA,EAAOve,MACX,KAAKiL,IAAWI,SACZ,MAAM,GAAN,mBAAW5M,GAAX,CAAkB8f,EAAO7d,UAC7B,KAAKuK,IAAW/G,YACZ,OAAO6a,YAAStgB,EAAO8f,EAAO7d,QAAQgB,IAAK6c,EAAO7d,SACtD,QACI,OAAOjC,I,SCRb4f,GAAe,CACjBjZ,SAAS,EACT/B,MAAO,GACPE,OAAQ,EACRE,KAAM,EACN4b,WAAW,GA6BAC,GA1BS,WAAmC,IAAlC7gB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACtD,OAAQA,EAAOve,MACX,KAAKuf,KAAeZ,QAChB,OAAO,2BACAlgB,GADP,IAEI2G,QAASmZ,EAAO7d,UAExB,KAAK6e,KAAenU,UAChB,OAAO,2BACA3M,GADP,IAEI4E,MAAOkb,EAAO7d,QAAQ2C,MACtBE,OAAQgb,EAAO7d,QAAQ6C,OACvB8b,WAAW,IAEnB,KAAKE,KAAerb,YAChB,OAAO,2BACAzF,GADP,IAEI4E,MAAOkb,EAAO7d,QAAQ2C,MACtBE,OAAQgb,EAAO7d,QAAQ6C,OACvBE,KAAMhF,EAAMgF,KAAO,IAE3B,QACI,OAAOhF,IC9Bb4f,GAAe,CACjBjZ,SAAS,EACTtD,MAAO,IAqBI0d,GAjBY,WAAmC,IAAlC/gB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACzD,OAAQA,EAAOve,MACX,KAAKsX,EACD,OAAO,2BACA7Y,GADP,IAEI2G,QAASmZ,EAAO7d,UAExB,KAAK4W,EACD,OAAO,2BACA7Y,GADP,IAEIqD,MAAOyc,EAAO7d,QAAQoB,QAE9B,QACI,OAAOrD,ICRJghB,GAVO,WAAyB,IAAxBhhB,EAAuB,uDAAf,GAAI8f,EAAW,uCAC1C,OAAQA,EAAOve,MACX,KAAKQ,IAAYkb,OACb,OAAO6C,EAAO7d,QAClB,QACI,OAAOjC,ICLb4f,GAAe,CACjBjZ,SAAS,EACTxB,KAAM,GACNqP,OAAO,GA2CIyM,GAxCO,WAAmC,IAAlCjhB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACpD,OAAQA,EAAOve,MACX,KAAK8N,IAAaC,aACd,OAAO,2BACAtP,GADP,IAEImF,KAAM2a,EAAO7d,UAErB,KAAKoN,IAAaE,cACd,OAAO,2BACAvP,GADP,IAEImF,KAAK,CAAE2a,EAAO7d,SAAV,mBAAsBjC,EAAMmF,SAExC,KAAKkK,IAAaG,cACd,OAAO,2BACAxP,GADP,IAEImF,KAAMnF,EAAMmF,KAAK7D,QAAO,SAAA0B,GAAI,OACxBA,EAAKxB,KAAOse,EAAO7d,QAAQT,IAAMwB,EAAKuE,MAAQuY,EAAO7d,QAAQsF,SAGzE,KAAK8H,IAAaI,cACd,OAAO,2BACAzP,GADP,IAEImF,KAAMmb,YAAStgB,EAAMmF,KAAM2a,EAAO7d,QAAQgB,IAAK6c,EAAO7d,WAE9D,KAAKoN,IAAaK,aACd,OAAO,2BACA1P,GADP,IAEIwU,MAAOsL,EAAO7d,UAEtB,KAAKoN,IAAaM,oBACd,OAAO,2BACA3P,GADP,IAEImF,KAAM2a,EAAO7d,UAErB,QACI,OAAOjC,ICzCb4f,GAAe,CACjBvc,MAAO,GACP6d,YAAa,EACb/b,KAAM,GACNyb,WAAW,GAkFAO,GA/EQ,WAAmC,IAAlCnhB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACrD,OAAQA,EAAOve,MACX,KAAKuP,IAAWC,SACZ,OAAG/Q,EAAMqD,MAAMoD,OAAM,SAAAzD,GAAI,OAAIA,EAAKC,MAAQ6c,EAAO7d,QAAQgB,OAC9C,2BACAjD,GADP,IAEIqD,MAAM,CAAEyc,EAAO7d,SAAV,mBAAsBjC,EAAMqD,UAGlCrD,EACX,KAAK8Q,IAAWE,YACZ,OAAO,2BACAhR,GADP,IAEImF,KAAMnF,EAAMmF,KAAKzB,KAAI,SAAAV,GAAI,OACrBA,EAAKC,MAAQ6c,EAAO7d,QAAQiI,WAAalH,EAAKC,MAAQ6c,EAAO7d,QAAQgI,OAArE,2BAEOjH,GAFP,IAGIsG,SAAS,GAAD,mBAAMtG,EAAKsG,UAAX,CAAqBwW,EAAO7d,UACpC6C,OAAQ9B,EAAK8B,OAAS,IAExB9B,KAENK,MAAOrD,EAAMqD,MAAMK,KAAI,SAAApD,GAAI,OACvBA,EAAK2C,MAAQ6c,EAAO7d,QAAQiI,WAAa5J,EAAK2C,MAAQ6c,EAAO7d,QAAQgI,OAArE,2BAEO3J,GAFP,IAGI8G,KAAM0Y,EAAO7d,QAAQmF,KACrBC,MAAOyY,EAAO7d,QAAQoF,MACtBM,KAAMmY,EAAO7d,QAAQ0F,OAEvBrH,OAGd,KAAKwQ,IAAWG,kBACZ,OAAO,2BACAjR,GADP,IAEIqD,MAAOyc,EAAO7d,QAAQ8H,OACtBmX,YAAapB,EAAO7d,QAAQ6C,OAC5B8b,WAAW,IAEnB,KAAK9P,IAAWI,aACZ,OAAO,2BACAlR,GADP,IAEImF,KAAK,GAAD,mBAAMnF,EAAMmF,MAAZ,CAAkB2a,EAAO7d,YAErC,KAAK6O,IAAWK,gBACZ,OAAO,2BACAnR,GADP,IAEImF,KAAMmb,YAAStgB,EAAMmF,KAAM2a,EAAO7d,QAAQgB,IAAK6c,EAAO7d,WAE9D,KAAK6O,IAAWM,gBACZ,OAAO,2BACApR,GADP,IAEImF,KAAMnF,EAAMmF,KAAKzB,KAAI,SAAAV,GAAI,OACrBA,EAAKC,MAAQ6c,EAAO7d,QAAQgB,IAA5B,2BACMD,GADN,IACYsG,SAAUwW,EAAO7d,QAAQiC,UACnClB,OAGd,KAAK8N,IAAWO,oBACZ,OAAO,2BACArR,GADP,IAEIqD,MAAOuO,YAAW5R,EAAMqD,MAAOyc,EAAO7d,SACtCkD,KAAMyM,YAAW5R,EAAMmF,KAAM2a,EAAO7d,WAE5C,KAAK6O,IAAWQ,qBACZ,OAAO,2BACAtR,GADP,IAEIqD,MAAOrD,EAAMqD,MAAMK,KAAI,SAAApD,GAAI,OACvBwf,EAAO7d,QAAQoX,SAAS/Y,EAAK2C,KAA7B,2BACM3C,GADN,IACYyY,QAAQ,IADpB,2BAEMzY,GAFN,IAEYyY,QAAQ,SAGhC,QACI,OAAO/Y,ICtEJohB,GAZO,WAAyB,IAAxBphB,EAAuB,uDAAf,GAAI8f,EAAW,uCAC1C,OAAQA,EAAOve,MACX,KAAKQ,IAAYuX,OACb,MAAM,GAAN,mBAAWtZ,GAAX,CAAkB8f,EAAO7d,UAC7B,KAAKF,IAAYwX,QACb,OAAOvZ,EAAMsB,QAAO,SAAA0B,GAAI,OAAIA,IAAS8c,EAAO7d,WAChD,QACI,OAAOjC,ICGJqhB,GAVK,WAA2B,IAA1BrhB,EAAyB,uDAAjB,KAAM8f,EAAW,uCAC1C,OAAQA,EAAOve,MACX,KAAKQ,IAAYiJ,KACb,OAAO8U,EAAO7d,QAClB,QACI,OAAOjC,ICKJshB,GAVK,WAA2B,IAA1BthB,EAAyB,uDAAjB,KAAM8f,EAAW,uCAC1C,OAAQA,EAAOve,MACX,KAAKQ,IAAYwf,KACb,OAAOzB,EAAO7d,QAClB,QACI,OAAOjC,ICNb4f,GAAe,CACjBjZ,SAAS,EACTtD,MAAO,GACPme,UAAW,GACXC,mBAAoB,GACpBC,kBAAmB,GACnBC,WAAY,EACZ7c,OAAQ,EACRE,KAAM,EACN9C,MAAO,MAwEI0f,GArEK,WAAmC,IAAlC5hB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCAClD,OAAQA,EAAOve,MACX,KAAKsgB,KAAWC,aACZ,OAAO,2BAAK9hB,GAAZ,IAAmB2G,QAASmZ,EAAO7d,UAEvC,KAAK4f,KAAWE,sBACZ,OAAO,2BAAK/hB,GAAZ,IAAmB2hB,WAAY7B,EAAO7d,UAE1C,KAAK4f,KAAWG,UACZ,OAAO,2BACAhiB,GADP,IAEIqD,MAAOyc,EAAO7d,QAAQoB,MACtByB,OAAQgb,EAAO7d,QAAQ6C,OACvBE,KAAM8a,EAAO7d,QAAQ+C,OAG7B,KAAK6c,KAAWI,YACZ,OAAO,2BACAjiB,GADP,IAEIqD,MAAOrD,EAAMqD,MAAMK,KAAI,SAAApD,GAAI,OACvBA,EAAK2C,MAAQ6c,EAAO7d,QAAQgB,IAAM6c,EAAO7d,QAAU3B,OAI/D,KAAKuhB,KAAWK,YACZ,OAAO,2BACAliB,GADP,IAEIqD,MAAOrD,EAAMqD,MAAM/B,QAAO,SAAAhB,GAAI,OAAIA,EAAK2C,MAAQ6c,EAAO7d,aAI9D,KAAK4f,KAAWM,0BACZ,OAAO,2BACAniB,GADP,IAEIyhB,mBAAoB3B,EAAO7d,UAGnC,KAAK4f,KAAWO,yBACZ,OAAO,2BACApiB,GADP,IAEI0hB,kBAAmB5B,EAAO7d,UAGlC,KAAK4f,KAAWQ,mBACZ,OAAO,2BACAriB,GADP,IAEIqD,MAAOrD,EAAMqD,MAAMK,KAAI,SAAApD,GAAI,OACvBA,EAAK2C,MAAQ6c,EAAO7d,QAAQqgB,OAA5B,2BAA0ChiB,GAA1C,IAAgDqN,OAAQmS,EAAO7d,QAAQsgB,YAAcjiB,OAIjG,KAAKuhB,KAAWW,eACZ,OAAO,2BACAxiB,GADP,IAEIwhB,UAAU,CAAE1B,EAAO7d,SAAV,mBAAsBjC,EAAMwhB,YACrC7a,SAAS,IAGjB,KAAKkb,KAAWY,cACZ,OAAO,2BACAziB,GADP,IAEIwhB,UAAW1B,EAAO7d,UAG1B,QACI,OAAOjC,IC7Eb4f,GAAe,CACjB9C,aAAc,GACdnW,SAAS,EACT3B,KAAM,EACNF,OAAQ,GAmCGsX,GA/BU,WAAmC,IAAlCpc,EAAiC,uDAAzB4f,GAAcE,EAAW,uCACvD,OAAQA,EAAOve,MACX,KAAKmhB,KAAiBZ,aAClB,OAAO,2BACA9hB,GADP,IAEI2G,QAASmZ,EAAO7d,UAGpB,KAAKygB,KAAiBC,WAClB,OAAO,2BACA3iB,GADP,IAEI8c,aAAcgD,EAAO7d,UAGjC,KAAKygB,KAAiBE,aAClB,OAAO,2BACA5iB,GADP,IAEI8c,aAAc9c,EAAM8c,aAAaxb,QAAO,SAAAhB,GAAI,OAAIA,EAAK2C,MAAQ6c,EAAO7d,QAAQgB,SAGhF,KAAKyf,KAAiBG,gBAClB,OAAO,2BACF7iB,GADL,IAEE8c,aAAcgD,EAAO7d,QAAQ6a,eAGvC,QACI,OAAO9c,I,SCjCb4f,GAAe,CACnBnK,KAAM,GACNnV,KAAM,MAgDOwiB,GA7CM,WAAmC,IAAlC9iB,EAAiC,uDAAzB4f,GAAcE,EAAW,uCAEnD,OAAQA,EAAOve,MAEX,KAAKwhB,KAAYC,UACf,OAAO,2BACFhjB,GADL,IAEEyV,KAAM,OACNnV,KAAMwf,EAAO7d,QAAQ3B,OAGzB,KAAKyiB,KAAYE,eACf,OAAO,2BACFjjB,GADL,IAEEyV,KAAM,YACNnV,KAAMwf,EAAO7d,QAAQ3B,OAGzB,KAAKyiB,KAAYG,eACf,OAAO,2BACFljB,GADL,IAEEyV,KAAM,aACNnV,KAAMwf,EAAO7d,QAAQ3B,OAGvB,KAAKyiB,KAAYI,WACf,OAAO,2BACFnjB,GADL,IAEEyV,KAAM,QACNnV,KAAMwf,EAAO7d,QAAQ3B,OAGvB,KAAKyiB,KAAYK,WACf,OAAO,2BACFpjB,GADL,IAEEyV,KAAM,QACNnV,KAAMwf,EAAO7d,QAAQ3B,OAG7B,QACE,OAAON,IC1BFqjB,8BAAgB,CAC3BpjB,QACAoU,SACAnU,SACAwC,WACAiL,UACA2V,aACAnH,SACArN,cACAyU,YACAC,eACA7gB,UACAiN,UACArH,WACAwQ,UACApR,QACAa,QAAKib,aAAWrH,oBAAiBsH,iB,UC/B/BC,GAAQC,uBACVC,GACAC,+BAAoBC,2BAAgBC,QAWzBC,GARM,SAAC,GAAgB,IAAfpS,EAAc,EAAdA,SACnB,OACI,cAAC,IAAD,CAAU8R,MAAOA,GAAjB,SACK9R,KCNbqS,IAASC,OAEL,cAAC,IAAMC,WAAP,UACE,cAAC,GAAD,UACE,cAAC,GAAD,QAINC,SAASC,eAAe,SChBpB,kBAAmBlM,WAErBnR,OAAOsd,iBAAiB,QAAQ,WAC9BnM,UAAUmE,cAAciI,SAAS,UAC9Bxe,MAAK,SAAAyW,GACJlF,QAAQC,IAAI,0CAAwCiF,EAAagI,UAElExe,OAAM,SAAA/D,GACLqV,QAAQC,IAAI,wCAAyCtV,SDe3D,kBAAmBkW,WACrBnR,OAAOsd,iBAAiB,QAAQ,WAC9BnM,UAAUmE,cAAciI,SAAS,UAC9Bxe,MAAK,SAAAyW,GACJlF,QAAQC,IAAI,0CAAwCiF,MAErDxW,OAAM,SAAA/D,GACLqV,QAAQC,IAAI,wCAAyCtV,SAK7Dkd,M,oMEhCayC,EAAa,CACtBC,aAAc,eACdE,UAAW,YACXC,YAAa,cACb9B,SAAU,WACV+B,YAAa,cACbC,0BAA2B,4BAC3BC,yBAA0B,2BAC1BL,sBAAuB,wBACvB2C,qBAAsB,uBACtBrC,mBAAoB,qBACpBG,eAAgB,iBAChBC,cAAe,iBA0CNtF,EAAW,SAAC7X,GAAD,IAAQN,EAAR,uDAAe,EAAG2f,EAAlB,uDAA0B,EAA1B,8CAAgC,WAAOxkB,GAAP,eAAAgD,EAAA,sEAEhDhD,EAAS,CAAEoB,KAAMsgB,EAAWC,aAAc7f,SAAS,IAFH,SAG9BoD,YAAW,cAAD,OAAeL,EAAf,kBAA6B2f,GAASrf,GAHlB,OAG1CC,EAH0C,OAKhDpF,EAAS,CACLoB,KAAMsgB,EAAWG,UACjB/f,QAAS,CAAEoB,MAAOkC,EAAIJ,KAAK9B,MAAOyB,OAAQS,EAAIJ,KAAKL,OAAQE,KAAMA,EAAO,KAG5E7E,EAAS,CAAEoB,KAAMsgB,EAAWC,aAAc7f,SAAS,IAVH,gDAYhD9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAdQ,yDAAhC,uDAiEXye,EAAa,SAAC,GAAD,IAAGtkB,EAAH,EAAGA,KAAML,EAAT,EAASA,KAAM0C,EAAf,EAAeA,OAAf,8CAA4B,WAAOxC,GAAP,iBAAAgD,EAAA,6DAClDhD,EAAS,CAAEoB,KAAMsgB,EAAWK,YAAajgB,QAAS3B,IADA,kBAI5B0O,YAAc,QAAD,OAAS1O,EAAK2C,KAAOhD,EAAKqF,OAJX,OAIxCC,EAJwC,OAOxCY,EAAM,CACR3E,GAAIlB,EAAK2C,IACTmE,KAAM,oBACNiG,WAAY9H,EAAIJ,KAAKyE,QAAQtJ,KAAKiE,UAClCgD,IAAI,SAAD,OAAWjH,EAAK2C,MAEvB9C,EAASyO,YAAa,CAAEzI,MAAKlG,OAAM0C,YAbW,gDAgB9CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAlBM,yDAA5B,wD,yDChHX/B,IATA,SAAC,GAAiB,IAAhBnD,EAAe,EAAfA,IAAKoD,EAAU,EAAVA,KACVnE,EAAUH,aAAY,SAAAC,GAAK,OAAIA,KAA/BE,MAER,OACI,qBAAKe,IAAKA,EAAKG,IAAI,SAASR,UAAWyD,EACvChD,MAAO,CAACC,OAAO,GAAD,OAAKpB,EAAQ,YAAc,kB,iRCFpCsF,EAAgB,CACzB0a,QAAS,kBACTC,SAAU,mBACVC,OAAQ,SACRC,SAAU,WACVE,OAAQ,iBACR5T,UAAW,oBACXlH,YAAa,uBAIJiB,EAAkB,SAAC,GAAD,IAAElF,EAAF,EAAEA,GAAIvB,EAAN,EAAMA,KAAN,8CAAgB,WAAOE,GAAP,qBAAAgD,EAAA,6DAC3ChD,EAAS,CAACoB,KAAMiE,EAAc+a,OAAQte,QAAST,IADJ,SAIvCrB,EAAS,CAACoB,KAAMiE,EAAc0a,QAASje,SAAS,IAC1CsD,EAAMF,YAAW,SAAD,OAAU7D,GAAMvB,EAAKqF,OACrCuf,EAAOxf,YAAW,eAAD,OAAgB7D,GAAMvB,EAAKqF,OANX,SAQnBC,EARmB,cAQjClC,EARiC,iBASnBwhB,EATmB,QASjCjgB,EATiC,OAWvCzE,EAAS,CACLoB,KAAMiE,EAAc2a,SACpBle,QAASoB,EAAM8B,OAGnBhF,EAAS,CACLoB,KAAMiE,EAAcmH,UACpB1K,QAAQ,2BAAK2C,EAAMO,MAAZ,IAAkBlC,IAAKzB,EAAIwD,KAAM,MAG5C7E,EAAS,CAACoB,KAAMiE,EAAc0a,QAASje,SAAS,IArBT,kDAuBvC9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAzBA,0DAAhB,uDAgClBnF,EAAoB,SAAC,GAAD,IAAErB,EAAF,EAAEA,SAAUE,EAAZ,EAAYA,OAAQI,EAApB,EAAoBA,KAApB,8CAA8B,WAAOE,GAAP,iBAAAgD,EAAA,yDACvDxD,EAAS2E,SAD8C,yCAEpDnE,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,iCAFA,YAIxDvC,EAAS2E,SAAShC,OAAS,IAJ6B,yCAKpDnC,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,+BALA,YAOxDvC,EAASD,MAAM4C,OAAS,KAPgC,yCAQpDnC,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,2BARA,mBAYvD/B,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,MAEnD9G,EAdoD,kCAc9BmK,YAAY,CAACnK,IAdiB,QAc5CwH,EAd4C,gCAgBrCiH,YAAa,OAAD,YAAC,eACxB3O,GADuB,IAE1BE,OAAQA,EAASwH,EAAM,GAAGE,IAAMtH,EAAKK,KAAKT,SAC3CI,EAAKqF,OAnB+C,QAgBjDC,EAhBiD,OAqBvDpF,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAQ,2BACDhC,GADA,IAEHK,KAAK,uCACEL,EAAKK,MAASX,GADjB,IAEAE,OAAQA,EAASwH,EAAM,GAAGE,IAAMtH,EAAKK,KAAKT,aAKtDM,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACmL,QAAS7H,EAAIJ,KAAKgB,OAhCR,kDAkCvDhG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OApCgB,0DAA9B,uDAyCpB/C,EAAS,SAAC,GAAD,IAAEC,EAAF,EAAEA,MAAO/C,EAAT,EAASA,KAAML,EAAf,EAAeA,KAAM0C,EAArB,EAAqBA,OAArB,8CAAiC,WAAOxC,GAAP,mBAAAgD,EAAA,6DAGhDE,EAAMoD,OAAM,SAAAzD,GAAI,OAAIA,EAAKC,MAAQ3C,EAAK2C,OACrC2G,EAAO,2BAAOtJ,GAAP,IAAaiE,UAAU,GAAD,mBAAMjE,EAAKiE,WAAX,CAAsBtE,EAAKK,SAExD+C,EAAM6B,SAAQ,SAAAlC,GACPA,EAAKC,MAAQ3C,EAAK2C,MACjB2G,EAAO,2BAAO5G,GAAP,IAAauB,UAAU,GAAD,mBAAMvB,EAAKuB,WAAX,CAAsBtE,EAAKK,aAKpEH,EAAS,CAAEoB,KAAMiE,EAAc4a,OAAQne,QAAS2H,IAEhDzJ,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAQ,2BACDhC,GADA,IAEHK,KAAK,2BAAKL,EAAKK,MAAX,IAAiBwC,UAAU,GAAD,mBAAM7C,EAAKK,KAAKwC,WAAhB,CAA2B8G,UAnBd,kBAyB7B0E,YAAa,QAAD,OAAShO,EAAK2C,IAAd,WAA4B,KAAMhD,EAAKqF,OAzBtB,OAyBzCC,EAzByC,OA0B/C5C,EAAOyI,KAAK,SAAU7F,EAAIJ,KAAKyE,SAGzBzD,EAAM,CACR3E,GAAIvB,EAAKK,KAAK2C,IACdmE,KAAM,6BACNiG,WAAY,CAACzD,EAAQ3G,KACrBsE,IAAI,YAAD,OAActH,EAAKK,KAAK2C,MAG/B9C,EAASqN,YAAa,CAACrH,MAAKlG,OAAM0C,YApCa,kDAuC/CxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAzCQ,0DAAjC,uDA8CT5C,EAAW,SAAC,GAAD,IAAEF,EAAF,EAAEA,MAAO/C,EAAT,EAASA,KAAML,EAAf,EAAeA,KAAM0C,EAArB,EAAqBA,OAArB,8CAAiC,WAAOxC,GAAP,mBAAAgD,EAAA,6DAIlDE,EAAMoD,OAAM,SAAAzD,GAAI,OAAIA,EAAKC,MAAQ3C,EAAK2C,OACrC2G,EAAO,2BAAOtJ,GAAP,IAAaiE,UAAWqN,YAAWtR,EAAKiE,UAAWtE,EAAKK,KAAK2C,OAEpEI,EAAM6B,SAAQ,SAAAlC,GACPA,EAAKC,MAAQ3C,EAAK2C,MACjB2G,EAAO,2BAAO5G,GAAP,IAAauB,UAAWqN,YAAW5O,EAAKuB,UAAWtE,EAAKK,KAAK2C,WAKhF9C,EAAS,CAAEoB,KAAMiE,EAAc6a,SAAUpe,QAAS2H,IAElDzJ,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAQ,2BACDhC,GADA,IAEHK,KAAK,2BACEL,EAAKK,MADR,IAEAwC,UAAW8O,YAAW3R,EAAKK,KAAKwC,UAAW8G,EAAQ3G,WAtBV,kBA6B/BqL,YAAa,QAAD,OAAShO,EAAK2C,IAAd,aAA8B,KAAMhD,EAAKqF,OA7BtB,OA6B3CC,EA7B2C,OA8BjD5C,EAAOyI,KAAK,WAAY7F,EAAIJ,KAAKyE,SAG3BzD,EAAM,CACR3E,GAAIvB,EAAKK,KAAK2C,IACdmE,KAAM,6BACNiG,WAAY,CAACzD,EAAQ3G,KACrBsE,IAAI,YAAD,OAActH,EAAKK,KAAK2C,MAG/B9C,EAASyO,YAAa,CAACzI,MAAKlG,OAAM0C,YAxCe,kDA2CjDxC,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OA7CU,0DAAjC,wD,gDCtHTP,IAhBK,SAAC,GAA0C,IAAzCd,EAAwC,EAAxCA,OAAQE,EAAgC,EAAhCA,KAAMpC,EAA0B,EAA1BA,KAAMwC,EAAoB,EAApBA,eACtC,OACI,mCAEQN,EAAS,GAAKE,EAAO,GAAK,IAEzBpC,GAAQ,wBAAQhC,UAAU,+BAC3BC,QAASuE,EADA,2B,+GCRZsC,EAAY,SAACzG,EAAKf,GAC3B,OACI,qBAAKe,IAAKA,EAAKG,IAAI,SAASR,UAAU,gBACtCS,MAAO,CAACC,OAAQpB,EAAQ,YAAc,gBAIjCuH,EAAY,SAACxG,EAAKf,GAC3B,OACI,uBAAOsZ,UAAQ,EAACvY,IAAKA,EAAKG,IAAI,SAASR,UAAU,gBACjDS,MAAO,CAACC,OAAQpB,EAAQ,YAAc,iB,4RCRjC6iB,EAAc,CACzB7C,QAAS,UACT8C,UAAW,YACXC,eAAgB,iBAChBC,eAAgB,iBAChBC,WAAY,aACZC,WAAY,cAKD0B,EAAsB,SAACxkB,EAAML,GAAP,8CAAgB,WAAOE,GAAP,eAAAgD,EAAA,sEAE/ChD,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAFA,SAG7BqM,YAAa,QAAD,OAAShO,EAAK2C,IAAd,aAA8B,CAAEwS,KAAM,QAAUxV,EAAKqF,OAHpC,OAGzCC,EAHyC,OAI/CpF,EAAS,CACPoB,KAAMwhB,EAAYC,UAClB/gB,QAAS,CAAE3B,OAAMiF,IAAKA,EAAIJ,QAG5BhF,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAC/C9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OAVlB,kDAY/ChG,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAdS,0DAAhB,uDAoBtB4e,EAAgB,SAACzkB,EAAML,GAAP,8CAAgB,WAAOE,GAAP,eAAAgD,EAAA,sEAEzChD,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAFN,SAIvBqM,YAAa,QAAD,OAAShO,EAAK2C,IAAd,kBAAmC,CAAEwS,KAAM,aAAexV,EAAKqF,OAJpD,OAInCC,EAJmC,OAMzCpF,EAAS,CACPoB,KAAMwhB,EAAYE,eAClBhhB,QAAS,CAAE3B,KAAK,2BAAMA,GAAP,IAAamV,KAAM,iBAGpCtV,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OACjEhG,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAZN,kDAczC9B,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAEtChG,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAlBN,0DAAhB,uDAsBhB+iB,EAAgB,SAAC1kB,EAAML,GAAP,8CAAgB,WAAOE,GAAP,eAAAgD,EAAA,sEAEzChD,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAFN,SAGvBqM,YAAa,QAAD,OAAShO,EAAK2C,IAAd,kBAAmC,CAAEwS,KAAM,aAAexV,EAAKqF,OAHpD,OAGnCC,EAHmC,OAKzCpF,EAAS,CACPoB,KAAMwhB,EAAYG,eAClBjhB,QAAS,CAAE3B,OAAMiF,IAAKA,EAAIJ,QAE5BhF,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAC/C9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OAVxB,kDAYzChG,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAdG,0DAAhB,uDAkBhB8e,EAAY,SAAC3kB,EAAML,GAAP,8CAAgB,WAAOE,GAAP,eAAAgD,EAAA,sEAErChD,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAFV,SAGnBqM,YAAa,QAAD,OAAShO,EAAK2C,IAAd,cAA+B,CAAEwS,KAAM,SAAWxV,EAAKqF,OAHhD,OAG/BC,EAH+B,OAKrCpF,EAAS,CACPoB,KAAMwhB,EAAYI,WAClBlhB,QAAS,CAAE3B,OAAMiF,IAAKA,EAAIJ,QAE5BhF,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAC/C9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OAV5B,kDAYrChG,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAdD,0DAAhB,uDAmBZ+e,EAAY,SAAC5kB,EAAML,GAAP,8CAAgB,WAAOE,GAAP,eAAAgD,EAAA,sEAErChD,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAFV,SAGnBqM,YAAa,QAAD,OAAShO,EAAK2C,IAAd,cAA+B,CAAEwS,KAAM,SAAWxV,EAAKqF,OAHhD,OAG/BC,EAH+B,OAKrCpF,EAAS,CACPoB,KAAMwhB,EAAYK,WAClBnhB,QAAS,CAAE3B,OAAMiF,IAAKA,EAAIJ,QAE5BhF,EAAS,CAAEoB,KAAMwhB,EAAY7C,QAASje,SAAS,IAC/C9B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAEmL,QAAS7H,EAAIJ,KAAKgB,OAV5B,kDAYrChG,EAAS,CACPoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,MAAO,KAAIgE,SAASf,KAAKgB,OAdD,0DAAhB,wD,wIChFZrE,EAAa,SAACF,GACzB,IAAIC,EAAM,GACV,IAAKD,GAA0B,IAAjBA,EAAMU,OAAc,MAAa,qBAG/C,GAAIV,EAAMU,OAAS,EAEjB,OADAT,EAAM,sCAOR,IAHA,IAAMsjB,EAAoB,CAAC,OAAQ,MAAO,OACpCC,EAAoB,CAAC,MAAO,OAEzBC,EAAI,EAAGA,EAAIzjB,EAAMU,OAAQ+iB,IAAK,CACrC,IAAM1jB,EAAOC,EAAMyjB,GACnB,GAAI1jB,EAAK0C,KAAO,QAEd,OADAxC,EAAM,iCAIR,IAAMyjB,EAAgB3jB,EAAKjB,KAAK6kB,MAAM,KAAKC,MAAMlP,cACjD,IAAK6O,EAAkB9L,SAASiM,GAE9B,OADAzjB,EAAM,6BAIR,GAAIujB,EAAkB/L,SAASiM,GAE7B,OADAzjB,EAAM,yBAKV,OAAOA,GAKImI,EAAW,uCAAG,WAAOgD,GAAP,2BAAA7J,EAAA,sDACnBsiB,EAAS,GADU,cAELzY,GAFK,gEAEbhK,EAFa,QAGb0iB,EAAW,IAAIC,SAGlB3iB,EAAK0U,OACJgO,EAASE,OAAO,OAAQ5iB,EAAK0U,QAE7BgO,EAASE,OAAO,OAAQ5iB,GAG5B0iB,EAASE,OAAO,gBAAiB,YACjCF,EAASE,OAAO,aAAc,cAbX,UAeDC,MAAM,0DAA2D,CAC/EC,OAAQ,OACR3R,KAAMuR,IAjBS,eAebngB,EAfa,iBAoBAA,EAAIwgB,OApBJ,QAoBb5gB,EApBa,OAqBnBsgB,EAAOla,KAAK,CAACya,UAAW7gB,EAAK6gB,UAAWze,IAAKpC,EAAK8gB,aArB/B,wKAwBhBR,GAxBgB,gEAAH,uD,wNC9CX/C,EAAmB,CAC5BZ,aAAc,eACda,WAAY,aACZC,aAAc,eACdC,gBAAiB,mBAGRqD,EAAkB,SAAC,GAAD,IAAGjmB,EAAH,EAAGA,KAAMkmB,EAAT,EAASA,aAAc7lB,EAAvB,EAAuBA,KAAvB,8CAAkC,WAAOH,GAAP,mBAAAgD,EAAA,sEAGzDhD,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KAHE,SAIlC2H,YAAa,QAAD,OAAShO,EAAK2C,IAAd,UAA2B,CAC1DmjB,OAAQD,EAAaC,OACrBla,QAASia,EAAaja,QACtBma,YAAaF,EAAaE,YAC1BC,aAAcH,EAAaG,cAC5BrmB,EAAKqF,OATiD,OAInDY,EAJmD,OAWzD/F,EAAS,CACLoB,KAAMmhB,EAAiBC,WACvB1gB,QAASiE,EAASf,KAAKwE,QAE3BxJ,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KACvDxG,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACmL,QAASlH,EAASf,KAAKgB,OAhBZ,kDAmBzDhG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,OAAO,eAAIgE,gBAAJ,mBAAcf,YAAd,eAAoBgB,MAAO,+BArBQ,0DAAlC,uDA2BlBogB,EAAc,SAAC,GAAD,IAAGjmB,EAAH,EAAGA,KAAML,EAAT,EAASA,KAAT,8CAAoB,WAAOE,GAAP,mBAAAgD,EAAA,sEACpChD,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KADnB,SAGhB2H,YAAa,QAAD,OAAShO,EAAK2C,IAAd,YAA6B,GAAIhD,EAAKqF,OAHlC,OAGjCY,EAHiC,OAKvC/F,EAAS,CACLoB,KAAMmhB,EAAiBE,aACvB3gB,QAASiE,EAASf,OAEtBhF,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KACvDxG,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACmL,QAASlH,EAASf,KAAKgB,OAV9B,kDAYvChG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,OAAO,eAAIgE,gBAAJ,mBAAcf,YAAd,eAAoBgB,MAAO,kCAdV,0DAApB,uDAoBdiX,EAAkB,SAAC9X,GAAD,8CAAW,WAAOnF,GAAP,mBAAAgD,EAAA,sEAElChD,EAAS,CAAEoB,KAAMmhB,EAAiBZ,aAAc7f,SAAS,IAFvB,SAIhBoD,YAAW,cAAeC,GAJV,OAI5BC,EAJ4B,OAMlCpF,EAAS,CACLoB,KAAMmhB,EAAiBG,gBACvB5gB,QAAQ,2BAAMsD,EAAIJ,MAAX,IAAiBH,KAAM,MAGlC7E,EAAS,CAAEoB,KAAMmhB,EAAiBZ,aAAc7f,SAAS,IAXvB,gDAalC9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CAAEC,OAAO,eAAIgE,gBAAJ,mBAAcf,YAAd,eAAoBgB,MAAO,0CAff,yDAAX,wD,8GCmChB0Y,UAtFD,WAGV,IAHgB,EAIgBvf,mBADX,CAAEkF,MAAO,GAAIgiB,SAAU,KAH5B,mBAIT7mB,EAJS,KAICC,EAJD,KAKR4E,EAAoB7E,EAApB6E,MAAOgiB,EAAa7mB,EAAb6mB,SALC,EAOgBlnB,oBAAS,GAPzB,mBAOTmnB,EAPS,KAOCC,EAPD,KASRzmB,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACFE,EAAWC,cACXgJ,EAAUC,cAEhBhJ,qBAAU,WACFJ,EAAKqF,OAAO8D,EAAQmC,KAAK,OAC9B,CAACtL,EAAKqF,MAAO8D,IAEhB,IAAMiO,EAAoB,SAAC7W,GAAO,IAAD,EACLA,EAAEC,OAAlBC,EADqB,EACrBA,KAAMC,EADe,EACfA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAOC,MAQvC,OACI,qBAAKC,UAAU,YAAf,SACI,uBAAME,SAPO,SAACN,GAClBA,EAAEO,iBACFZ,EAASwmB,YAAMhnB,KAKX,UACI,oBAAIiB,UAAU,kCAAd,4BAKA,sBAAKA,UAAU,aAAf,UACI,uBAAOuB,QAAQ,QAAf,oBACA,uBACIZ,KAAK,QACLX,UAAU,eACVY,GAAG,QACHd,KAAK,QACLkmB,mBAAiB,YACjBllB,SAAU2V,EACV1W,MAAO6D,EACPqiB,aAAa,gBAMrB,sBAAKjmB,UAAU,aAAf,UACI,uBAAOuB,QAAQ,WAAf,0BACA,sBAAKvB,UAAU,OAAf,UACI,uBACIW,KAAMklB,EAAW,OAAS,WAC1B7lB,UAAU,eACVY,GAAG,WACHd,KAAK,WACLgB,SAAU2V,EACV1W,MAAO6lB,EACPK,aAAa,qBAEjB,uBAAOhmB,QAAS,kBAAM6lB,GAAaD,IAAnC,SACKA,EAAW,QAAS,gBAMjC,wBAAQllB,KAAK,SAASX,UAAU,qBAAqByL,UAAW7H,IAAUgiB,EAA1E,uBAKA,oBAAG5lB,UAAU,OAAb,sCAEI,cAAC,IAAD,CAAMoR,GAAG,YAAY3Q,MAAO,CAAE0G,MAAO,WAArC,iD,+BCnFpB,sGAAO,IAAMhG,EAAc,CACvBoN,KAAM,OACNnN,MAAO,QACP+T,MAAO,QACPD,OAAQ,SACR3R,MAAO,QACP8Y,OAAQ,SACR3D,OAAQ,SACRC,QAAS,UACTvO,KAAM,OACNuW,KAAM,QAGGjB,EAAW,SAACnb,EAAM3D,EAAIgN,GAI/B,OAHgBrJ,EAAKzB,KAAI,SAAAV,GAAI,OACxBA,EAAKC,MAAQzB,EAAKgN,EAAOxL,MAKrB4O,EAAa,SAACzM,EAAM3D,GAE7B,OADgB2D,EAAK7D,QAAO,SAAA0B,GAAI,OAAIA,EAAKC,MAAQzB,O,iNCoBtCslB,MAzCD,SAAC,GAAgD,IAA7CxiB,EAA4C,EAA5CA,SAAUE,EAAkC,EAAlCA,MAAOgiB,EAA2B,EAA3BA,SAAUO,EAAiB,EAAjBA,YACnCllB,EAAM,GA0BZ,OAtBIyC,EAEKA,EAASiS,QAAQ,KAAM,IAAIjU,OAAS,KACzCT,EAAIyC,SAAW,0CAFfzC,EAAIyC,SAAW,6BAKfE,EAwBR,SAAuBA,GAGnB,MADW,4JACDwiB,KAAKxiB,GAzBLyiB,CAAcziB,KACpB3C,EAAI2C,MAAQ,8BAFZ3C,EAAI2C,MAAQ,yBAKZgiB,EAEKA,EAASlkB,OAAS,IACvBT,EAAI2kB,SAAW,2CAFf3kB,EAAI2kB,SAAW,4BAKhBA,IAAaO,IACZllB,EAAIklB,YAAc,mCAGf,CACHG,OAAQrlB,EACRslB,UAAWzW,OAAOD,KAAK5O,GAAKS,SCxBvBqkB,EAAQ,SAACxhB,GAAD,8CAAU,WAAOhF,GAAP,eAAAgD,EAAA,sEAEvBhD,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KAFhC,SAGLsG,YAAY,QAAS9H,GAHhB,OAGjBI,EAHiB,OAIvBpF,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAS,CACLqD,MAAOC,EAAIJ,KAAKiiB,aAChB9mB,KAAMiF,EAAIJ,KAAK7E,QAIvB0S,aAAaqU,QAAQ,cAAc,GACnClnB,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLmL,QAAS7H,EAAIJ,KAAKgB,OAhBH,kDAqBvBhG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLC,MAAO,KAAIgE,SAASf,KAAKgB,OAxBV,0DAAV,uDA+BR4W,EAAe,yDAAM,WAAO5c,GAAP,eAAAgD,EAAA,0DACX6P,aAAaC,QAAQ,cADV,wBAG1B9S,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KAH7B,kBAMJsG,YAAY,iBANR,OAMhB1H,EANgB,OAOtBpF,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAS,CACLqD,MAAOC,EAAIJ,KAAKiiB,aAChB9mB,KAAMiF,EAAIJ,KAAK7E,QAIvBH,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,KAfvB,kDAkBtB9B,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLC,MAAO,KAAIgE,SAASf,KAAKgB,OArBX,0DAAN,uDA4Bfqe,EAAW,SAACrf,GAAD,8CAAU,WAAOhF,GAAP,iBAAAgD,EAAA,4DACxBmkB,EAAQR,EAAM3hB,IACXgiB,UAAY,GAFS,yCAGvBhnB,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAASqlB,EAAMJ,UAH3B,uBAM1B/mB,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAAC0E,SAAS,KAN5B,SAQRsG,YAAY,WAAY9H,GARhB,OAQpBI,EARoB,OAS1BpF,EAAS,CACLoB,KAAMQ,IAAYoN,KAClBlN,QAAS,CACLqD,MAAOC,EAAIJ,KAAKiiB,aAChB9mB,KAAMiF,EAAIJ,KAAK7E,QAIvB0S,aAAaqU,QAAQ,cAAc,GACnClnB,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLmL,QAAS7H,EAAIJ,KAAKgB,OArBA,kDAyB1BhG,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLC,MAAO,KAAIgE,SAASf,KAAKgB,OA5BP,0DAAV,uDAmCX6P,EAAS,yDAAM,WAAO7V,GAAP,SAAAgD,EAAA,sEAEpB6P,aAAauU,WAAW,cAFJ,SAGdta,YAAY,UAHE,OAIpBhG,OAAOugB,SAAS/iB,KAAO,IAJH,gDAMpBtE,EAAS,CACLoB,KAAMQ,IAAYC,MAClBC,QAAS,CACLC,MAAO,KAAIgE,SAASf,KAAKgB,OATb,yDAAN,wD,6IChGT2a,EAAiB,CAC1BZ,QAAS,mBACTvT,UAAW,qBACXlH,YAAa,wBAGJgiB,EAAmB,SAACniB,GAAD,8CAAW,WAAOnF,GAAP,eAAAgD,EAAA,sEAEnChD,EAAS,CAACoB,KAAMuf,EAAeZ,QAASje,SAAS,IAFd,SAIjBoD,YAAW,gBAAiBC,GAJX,OAI7BC,EAJ6B,OAKnCpF,EAAS,CAACoB,KAAMuf,EAAenU,UAAW1K,QAASsD,EAAIJ,OAEvDhF,EAAS,CAACoB,KAAMuf,EAAeZ,QAASje,SAAS,IAPd,gDAUnC9B,EAAS,CAACoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAVnC,yDAAX,wD,iEC4BjBT,IAjCG,SAAC,GAAqB,IAApBd,EAAmB,EAAnBA,MAAOE,EAAY,EAAZA,OACf5E,EAAUH,aAAY,SAAAC,GAAK,OAAIA,KAA/BE,MAER,OAAc,IAAX4E,EAAqB,oBAAIlE,UAAU,0BAAd,qBAGpB,qBAAKA,UAAU,aAAf,SAEQgE,EAAMlB,KAAI,SAAA8K,GAAI,OACV,cAAC,IAAD,CAAqBwD,GAAE,gBAAWxD,EAAKvL,KAAvC,SACI,sBAAKrC,UAAU,qBAAf,UAGQ4N,EAAKxB,OAAO,GAAGzF,IAAIC,MAAM,UACxB,uBAAOgS,UAAQ,EAACvY,IAAKuN,EAAKxB,OAAO,GAAGzF,IAAKnG,IAAKoN,EAAKxB,OAAO,GAAGzF,IAC9DlG,MAAO,CAACC,OAAQpB,EAAQ,YAAc,eAErC,qBAAKe,IAAKuN,EAAKxB,OAAO,GAAGzF,IAAKnG,IAAKoN,EAAKxB,OAAO,GAAGzF,IACnDlG,MAAO,CAACC,OAAQpB,EAAQ,YAAc,eAG1C,sBAAKU,UAAU,kBAAf,UACI,mBAAGA,UAAU,eAAb,SAA6B4N,EAAKC,MAAMnM,SACxC,mBAAG1B,UAAU,iBAAb,SAA+B4N,EAAKkZ,SAASplB,gBAd9CkM,EAAKvL,Y,iECWrB0kB,UArBC,WACZ,OACI,sBAAK/mB,UAAU,iBAAf,UACI,qBAAKA,UAAU,6BAAf,SACI,cAAC,IAAD,MAGJ,qBAAKA,UAAU,2BAAf,SACI,sBAAKA,UAAU,sEAAf,UAGI,mBAAGA,UAAU,yCACbS,MAAO,CAACyG,SAAU,UAClB,qD,8GC0HL8W,UAnIE,WAAO,IAAD,EAGK7e,aAAY,SAAAC,GAAK,OAAIA,KAArCC,EAHW,EAGXA,KAAMoU,EAHK,EAGLA,MACRlU,EAAWC,cACXgJ,EAAUC,cALG,EAUa/J,mBAHX,CACjBgF,SAAU,GAAIE,MAAO,GAAIgiB,SAAU,GAAIO,YAAa,KARrC,mBAUZpnB,EAVY,KAUFC,EAVE,KAWX0E,EAA2C3E,EAA3C2E,SAAUE,EAAiC7E,EAAjC6E,MAAOgiB,EAA0B7mB,EAA1B6mB,SAAUO,EAAgBpnB,EAAhBonB,YAXhB,EAaaznB,oBAAS,GAbtB,mBAaZmnB,EAbY,KAaFC,EAbE,OAciBpnB,oBAAS,GAd1B,mBAcZsoB,EAdY,KAcAC,EAdA,KAgBnBxnB,qBAAU,WACFJ,EAAKqF,OAAO8D,EAAQmC,KAAK,OAC9B,CAACtL,EAAKqF,MAAO8D,IAGhB,IAAMiO,EAAoB,SAAA7W,GAAM,IAAD,EACHA,EAAEC,OAAlBC,EADmB,EACnBA,KAAMC,EADa,EACbA,MACdf,EAAY,2BAAKD,GAAN,kBAAiBe,EAAOC,MAQvC,OACI,qBAAKC,UAAU,YAAf,SACI,uBAAME,SAPO,SAAAN,GACjBA,EAAEO,iBACFZ,EAASqkB,YAAS7kB,KAKd,UACI,oBAAIiB,UAAU,kCAAd,8BAIA,uBAAOuB,QAAQ,QAAf,iBACA,sBAAKvB,UAAU,aAAf,UACI,uBACIW,KAAK,OACLX,UAAU,eACVY,GAAG,WACHd,KAAK,WACLgB,SAAU2V,EACV1W,MAAO2D,EAASgS,cAAcC,QAAQ,KAAM,IAC5ClV,MAAO,CAAEuG,WAAYyM,EAAM/P,SAAW,YAAc,MAExD,uBAAO1D,UAAU,wBAAjB,SACKyT,EAAM/P,UAAY,QAK3B,sBAAK1D,UAAU,aAAf,UACI,uBAAOuB,QAAQ,QAAf,oBACA,uBACIZ,KAAK,QACLX,UAAU,eACVY,GAAG,QACHd,KAAK,QACLgB,SAAU2V,EACV1W,MAAO6D,EACPnD,MAAO,CAAEuG,WAAYyM,EAAM7P,MAAQ,YAAc,MAErD,uBAAO5D,UAAU,wBAAjB,SACKyT,EAAM7P,OAAS,QAKxB,sBAAK5D,UAAU,aAAf,UACI,uBAAOuB,QAAQ,WAAf,0BACA,sBAAKvB,UAAU,OAAf,UACI,uBACIW,KAAMklB,EAAW,OAAS,WAC1B7lB,UAAU,eACVY,GAAG,WACHd,KAAK,WACLgB,SAAU2V,EACV1W,MAAO6lB,EACPnlB,MAAO,CAAEuG,WAAYyM,EAAMmS,SAAW,YAAc,MAExD,uBAAO3lB,QAAS,kBAAM6lB,GAAaD,IAAnC,SACKA,EAAW,QAAU,YAG9B,uBAAO7lB,UAAU,wBAAjB,SACKyT,EAAMmS,UAAY,QAK3B,sBAAK5lB,UAAU,aAAf,UACI,uBAAOuB,QAAQ,cAAf,0BACA,sBAAKvB,UAAU,OAAf,UACI,uBACIW,KAAMqmB,EAAa,OAAS,WAC5BhnB,UAAU,eACVY,GAAG,cACHd,KAAK,cACLgB,SAAU2V,EACV1W,MAAOomB,EACP1lB,MAAO,CAAEuG,WAAYyM,EAAM0S,YAAc,YAAc,MAE3D,wBAAOlmB,QAAS,kBAAMgnB,GAAeD,IAArC,UACKnB,EAAW,QAAU,OAD1B,cAGJ,uBAAO7lB,UAAU,wBAAjB,SACKyT,EAAM0S,aAAe,QAK9B,wBAAQxlB,KAAK,SAASX,UAAU,qBAAhC,wBAKA,oBAAGA,UAAU,OAAb,sCAEI,cAAC,IAAD,CAAMoR,GAAG,IAAI3Q,MAAO,CAAE0G,MAAO,WAA7B,4C,mKC1BL+f,EAnGS,SAAC,GAAiC,IAA/BC,EAA8B,EAA9BA,kBAAmBznB,EAAW,EAAXA,KACpCL,EAASF,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KACFE,EAAWC,cAFsC,EAIfd,mBAAS,CAC/C8mB,OAAQ,GACRla,QAAS,GACToa,aAAc,GACdD,YAAa,KARwC,mBAIhDF,EAJgD,KAIlC6B,EAJkC,KAWjD3Q,EAAoB,SAAC7W,GAAO,IAAD,EACPA,EAAEC,OAAlBC,EADuB,EACvBA,KAAMC,EADiB,EACjBA,MACdqnB,EAAgB,2BAAK7B,GAAN,kBAAqBzlB,EAAOC,MA8B7C,OACE,qBAAKC,UAAU,gBAAf,SACE,qBAAKA,UAAU,uBAAf,SACE,sBAAKA,UAAU,uBAAf,UACE,sBAAKA,UAAU,uBAAf,UACE,oBAAIA,UAAU,sBAAd,+BACA,wBAAQW,KAAK,SAASX,UAAU,4BAA4BC,QAAS,kBAAMknB,GAAkB,IAA7F,uBAEF,uBAAMjnB,SAnCQ,SAACN,GACrBA,EAAEO,iBADyB,IAGnBqlB,EAAsCD,EAAtCC,OAAQE,EAA8BH,EAA9BG,aAAcD,EAAgBF,EAAhBE,YAE9B,GAAKD,GAAWE,GAAiBD,EAAjC,CAKA,IAAM4B,EAAS,IAAI/f,KAAKoe,GAClB4B,EAAS,IAAIhgB,KAAKme,GAGpB4B,EAFU,IAAI/f,KAGhBmM,MAAM,6DAIJ6T,GAAUD,EACZ5T,MAAM,4EAIRlU,EAAS+lB,YAAgB,CAAEjmB,OAAMkmB,eAAc7lB,eAlB7C+T,MAAM,kEA6BF,UACE,sBAAKzT,UAAU,qBAAf,UACE,sBAAKA,UAAU,sBAAf,UACE,sDACA,yBAAQA,UAAU,uBAAuBF,KAAK,SAASC,MAAOwlB,EAAaC,OAAQ1kB,SAAU2V,EAAmB8Q,UAAQ,EAAxH,UACE,wBAAQxnB,MAAM,GAAd,sCACA,wBAAQA,MAAM,GAAd,6CACA,wBAAQA,MAAM,GAAd,0CACA,wBAAQA,MAAM,GAAd,mKACA,wBAAQA,MAAM,GAAd,+DACA,wBAAQA,MAAM,sBAAd,+DACA,wBAAQA,MAAM,OAAd,uHACA,wBAAQA,MAAM,yCAAd,kIACA,wBAAQA,MAAM,oBAAd,+DACA,wBAAQA,MAAM,SAAd,kDACA,wBAAQA,MAAM,2BAAd,iFACA,wBAAQA,MAAM,yBAAd,wFACA,wBAAQA,MAAM,gCAAd,mGACA,wBAAQA,MAAM,0BAAd,uFACA,wBAAQA,MAAM,uBAAd,qEACA,wBAAQA,MAAM,QAAd,4CAIJ,sBAAKC,UAAU,aAAf,UACE,yDACA,0BAAUF,KAAK,UAAUC,MAAOwlB,EAAaja,QAASxK,SAAU2V,EAAmBtL,YAAY,0DAAuDnL,UAAU,oBAElK,sBAAKA,UAAU,aAAf,UACE,gEACA,uBAAOW,KAAK,iBAAiBX,UAAU,eAAeF,KAAK,eAAeC,MAAOwlB,EAAaG,aAAc5kB,SAAU2V,OAExH,sBAAKzW,UAAU,aAAf,UACE,gEACA,uBAAOW,KAAK,iBAAiBX,UAAU,eAAeF,KAAK,cAAcC,MAAOwlB,EAAaE,YAAa3kB,SAAU2V,UAGxH,sBAAKzW,UAAU,eAAf,UACE,wBAAQW,KAAK,SAASX,UAAU,iBAAhC,sBACA,wBAAQW,KAAK,SAASX,UAAU,oBAAoBC,QAAS,kBAAMknB,GAAkB,IAArF,kCC0ECK,EA/JM,WAAO,IAAD,EACIroB,aAAY,SAACC,GAAD,OAAWA,KAA5CyjB,EADiB,EACjBA,UAAYxjB,EADK,EACLA,KAEdE,EAAWC,cAHQ,EAIDd,oBAAS,GAJR,mBAIlBsD,EAJkB,KAIZC,EAJY,OAKLvD,mBAAS,IAAtB4W,EALkB,sBAMiB5W,mBAASmkB,EAAUpgB,OAAS,IAN7C,mBAMlBglB,EANkB,KAMHC,EANG,OAOmBhpB,oBAAS,GAP5B,mBAOlBipB,EAPkB,KAOFR,EAPE,OAQezoB,mBAAS,MARxB,mBAQlBkpB,EARkB,KAQJC,EARI,KAyBnBrjB,EAAc,uCAAG,4BAAAjC,EAAA,6DACrBN,GAAQ,GADa,SAEHwC,YAAW,eAAD,OAAiC,EAAjBoe,EAAUze,MAAY/E,EAAKqF,OAFlD,OAEfC,EAFe,OAGrBpF,EAAS,CACPoB,KAAMsgB,IAAWG,UACjB/f,QAAQ,2BAAMsD,EAAIJ,MAAX,IAAiBH,KAAMye,EAAUze,KAAO,MAEjDnC,GAAQ,GAPa,2CAAH,qDAUpBxC,qBAAU,WACRioB,EAAiB7E,EAAUpgB,OAAS,MACnC,CAACogB,EAAUpgB,QAEd,IAAMqlB,EAAkBL,EAAc/mB,QACpC,SAAChB,GAAD,OACEA,EAAKgE,SAASgS,cAAc+C,SAASnD,EAAOI,gBAC5ChW,EAAKkE,MAAM8R,cAAc+C,SAASnD,EAAOI,kBAIvCqS,EAAe,SAACC,GACpB,IAAIC,EAAW,YAAOpF,EAAUpgB,OAEhC,OAAQulB,GACN,IAAK,eACHC,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAWA,EAAEC,aAAe,IAAM7lB,EAAE6lB,aAAe,MACpE,MACF,IAAK,YACHH,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAU,IAAI7gB,KAAK6gB,EAAEE,WAAa,IAAI/gB,KAAK/E,EAAE8lB,cAC9D,MACF,QACEJ,EAAcpF,EAAUpgB,MAG5BilB,EAAiBO,IAGnB,OACE,gCAEF,gCACE,sBAAKjoB,UAAU,gBAAf,uBAEE,wBAAQA,UAAU,kCAAkCW,KAAK,SAAS2nB,iBAAe,WAAjF,qBAGA,qBAAItoB,UAAU,gBAAd,UACE,6BAAI,wBAAQA,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,iBAA9D,+CACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,cAA9D,4DACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,UAA9D,8CAIR,wBAAO/nB,UAAU,sBAAjB,UACE,gCACE,+BACE,mCACA,yCACA,0CACA,iDACA,wCALF,IAME,0CACA,+CACA,8CACA,+CAGJ,gCACH8nB,EAAgBhlB,KAAI,SAACpD,EAAMgH,GAAP,OACnB,+BACE,6BAAKA,EAAQ,IACb,6BAAI,cAAC3D,EAAA,EAAD,CAAUrD,KAAMA,MACpB,6BAAK,IAAI4H,KAAK5H,EAAK6H,WAAWghB,uBAC9B,6BAAK,IAAIjhB,KAAK5H,EAAK2oB,WAAWE,uBAC9B,6BACG7oB,EAAK8oB,YACJ,sBAAMxoB,UAAU,cAAhB,oCAEA,sBAAMA,UAAU,eAAhB,6BAKJ,6BAAKN,EAAK+oB,OAAO/G,QAAU,QAC3B,6BAAKhiB,EAAK+oB,OAAOC,YAAc,QAC/B,6BAAKhpB,EAAKipB,QAAU,gBACpB,6BACE,sBAAK3oB,UAAU,kBAAkBS,MAAO,CAAEmd,SAAU,YAApD,UACE,wBAAQ5d,UAAU,iCAAiCW,KAAK,SAAS2nB,iBAAe,WAAhF,uBAGA,sBAAKtoB,UAAU,gBAAf,UACE,yBAAQA,UAAU,6BAA6BC,QAAS,kBA5G1C,SAACP,GACvBmoB,EAAgBnoB,GAChBynB,GAAkB,GA0GoDyB,CAAgBlpB,IAA9E,UACGA,EAAK8oB,YAAc,2BAAmB,wBADzC,OAGA,wBAAQxoB,UAAU,gBAAlB,iCACA,wBACUA,UAAU,4BACVC,QAAS,SAACL,GACRA,EAAEO,iBACFP,EAAEipB,kBAhHC,SAACnpB,GACpB2G,OAAOC,QAAQ,+CACjB/G,EAASykB,YAAW,CAAEtkB,OAAML,UA+GVypB,CAAiBppB,IAL7B,yCAUA,wBAAQM,UAAU,6BAAlB,oCACA,wBAAQA,UAAU,gBAAlB,yCACA,wBAAQA,UAAU,gBAAlB,qCACA,wBAAQA,UAAU,gBAAlB,uCACA,wBAAQA,UAAU,0BAAlB,mEAzCCN,EAAK2C,aAkDbL,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,iBACrD,cAACgF,EAAA,EAAD,CAAad,OAAQ2e,EAAU3e,OAAQE,KAAMye,EAAUze,KAAMpC,KAAMA,EAAMwC,eAAgBA,OAI1FmjB,GACC,cAAC,EAAD,CAAiBjoB,KAAMkoB,EAAcT,kBAlId,WACvBA,GAAkB,GAClBU,EAAgB,aCpBLxJ,UATM,WACnB,OAEE,8BACI,cAAC,EAAD,Q,mJCiKO0K,EA9JK,WAAO,IAAD,EACI5pB,aAAY,SAACC,GAAD,OAAWA,KAA3CyjB,EADgB,EAChBA,UAAWxjB,EADK,EACLA,KACbE,EAAWC,cAFO,EAGAd,oBAAS,GAHT,mBAGjBsD,EAHiB,KAGXC,EAHW,OAIJvD,mBAAS,IAAtB4W,EAJiB,sBAKkB5W,mBAASmkB,EAAUpgB,OAAS,IAL9C,mBAKjBglB,EALiB,KAKFC,EALE,KAOlBljB,EAAc,uCAAG,4BAAAjC,EAAA,6DACrBN,GAAQ,GADa,SAEHwC,YAAW,eAAD,OAAiC,EAAjBoe,EAAUze,MAAY/E,EAAKqF,OAFlD,OAEfC,EAFe,OAGrBpF,EAAS,CACPoB,KAAMsgB,IAAWG,UACjB/f,QAAQ,2BAAMsD,EAAIJ,MAAX,IAAiBH,KAAMye,EAAUze,KAAO,MAEjDnC,GAAQ,GAPa,2CAAH,qDAUpBxC,qBAAU,WACRioB,EAAiB7E,EAAUpgB,OAAS,MACnC,CAACogB,EAAUpgB,QAEd,IAAMqlB,EAAkBL,EAAc/mB,QACpC,SAAChB,GAAD,OACEA,EAAKgE,SAASgS,cAAc+C,SAASnD,EAAOI,gBAC5ChW,EAAKkE,MAAM8R,cAAc+C,SAASnD,EAAOI,kBAWvCqS,EAAe,SAACC,GACpB,IAAIC,EAAW,YAAOpF,EAAUpgB,OAEhC,OAAQulB,GACN,IAAK,gBACHC,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAEjmB,UAAUR,OAASa,EAAEL,UAAUR,UAC5D,MACF,IAAK,gBACHumB,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAExkB,UAAUjC,OAASa,EAAEoB,UAAUjC,UAC5D,MACF,IAAK,YACHumB,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAEnkB,MAAMtC,OAASa,EAAEyB,MAAMtC,UACpD,MACF,IAAK,oBACHumB,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAEa,mBAAqBzmB,EAAEymB,sBACpD,MACF,IAAK,iBACHf,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAEc,WAAa1mB,EAAE0mB,cAC5C,MACF,IAAK,mBACHhB,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAUA,EAAEe,aAAe3mB,EAAE2mB,gBAC9C,MACF,IAAK,YACHjB,EAAYC,MAAK,SAAC3lB,EAAG4lB,GAAJ,OAAU,IAAI7gB,KAAK6gB,EAAEE,WAAa,IAAI/gB,KAAK/E,EAAE8lB,cAC9D,MACF,QACEJ,EAAcpF,EAAUpgB,MAG5BilB,EAAiBO,IAGnB,OACE,gCACE,sBAAKjoB,UAAU,gBAAf,UACE,wBAAQA,UAAU,kCAAkCW,KAAK,SAAS2nB,iBAAe,WAAjF,8BAGA,qBAAItoB,UAAU,gBAAd,UACE,6BAAI,wBAAQA,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,kBAA9D,6CACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,kBAA9D,6CACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,cAA9D,yCACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,sBAA9D,mDACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,mBAA9D,+CACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,qBAA9D,sDACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,cAA9D,4DACJ,6BAAI,wBAAQ/nB,UAAU,gBAAgBC,QAAS,kBAAM8nB,EAAa,UAA9D,8CAIR,wBAAO/nB,UAAU,sBAAjB,UACE,gCACE,+BACE,mCACA,yCACA,0CACA,uCACA,uCACA,0CACA,4CACA,iDACA,oDACA,uDACA,2CACA,4CACA,+CAGJ,gCACG8nB,EAAgBhlB,KAAI,SAACpD,EAAMgH,GAAP,OACnB,+BACE,6BAAKA,EAAQ,IACb,6BAAI,cAAC3D,EAAA,EAAD,CAAUrD,KAAMA,MACpB,6BAAK,IAAI4H,KAAK5H,EAAK6H,WAAWghB,uBAC9B,6BAAK,IAAIjhB,KAAK5H,EAAK2oB,WAAWE,uBAC9B,6BAAK7oB,EAAKsE,MAAMtC,SAChB,6BAAKhC,EAAK+oB,OAAO/mB,SACjB,6BAAKhC,EAAKupB,aACV,6BAAKvpB,EAAKspB,qBACV,6BAAKtpB,EAAKwpB,eACV,6BAAKxpB,EAAKypB,wBACV,6BAAKzpB,EAAK0pB,iBACV,6BAAK1pB,EAAK2pB,iBACV,6BACE,sBAAKrpB,UAAU,kBAAkBS,MAAO,CAAEmd,SAAU,YAApD,UACE,wBAAQ5d,UAAU,iCAAiCW,KAAK,SAAS2nB,iBAAe,WAAhF,uBAGA,sBAAKtoB,UAAU,gBAAgBspB,oBAAkB,QAAjD,UACE,wBAAQtpB,UAAU,gBAAlB,iCAEA,wBACEA,UAAU,4BACVC,QAAS,SAACL,GACRA,EAAEO,iBACFP,EAAEipB,kBAtGC,SAACnpB,GACpB2G,OAAOC,QAAQ,+CACjB/G,EAASykB,YAAW,CAAEtkB,OAAML,UAqGVypB,CAAiBppB,IALrB,yCAaA,wBAAQM,UAAU,6BAAlB,mCACA,wBAAQA,UAAU,6BAAlB,oCACA,wBAAQA,UAAU,gBAAlB,yCACA,wBAAQA,UAAU,gBAAlB,qCACA,wBAAQA,UAAU,gBAAlB,uCACA,wBAAQA,UAAU,0BAAlB,mEAvCCN,EAAK2C,aA+CnBL,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,iBACrD,cAACgF,EAAA,EAAD,CAAad,OAAQ2e,EAAU3e,OAAQE,KAAMye,EAAUze,KAAMpC,KAAMA,EAAMwC,eAAgBA,QCvJhF4Z,UATM,WACnB,OAEE,8BACI,cAAC,EAAD,Q,gECkDOmL,EAtDG,WAAO,IAAD,UACepqB,aAAY,SAAAC,GAAK,OAAIA,KAAhDC,EADY,EACZA,KAAMmc,EADM,EACNA,iBACR9b,EAAOL,EAAKK,KAGZ8pB,EAAYhO,EAAiBU,aAAauN,MAAK,SAAAxN,GAAW,OAAIA,EAAYvc,KAAK2C,MAAQ3C,EAAK2C,KAAO4Z,EAAYuM,eAUrH,OARA/oB,qBAAU,WACDJ,EAAKqF,OAENiS,QAAQC,IAAI,6BAEjB,CAACvX,EAAKqF,QAIL,qBAAK1E,UAAU,oBAAf,SACKwpB,EACG,sBAAKxpB,UAAU,eAAf,UACI,8JACA,sBAAKA,UAAU,eAAf,UACI,sBAAKA,UAAU,eAAf,UACI,sBAAMA,UAAU,QAAhB,mFACA,sBAAMA,UAAU,QAAhB,SAAyBN,EAAKgE,cAElC,sBAAK1D,UAAU,eAAf,UACI,sBAAMA,UAAU,QAAhB,iEACA,sBAAMA,UAAU,QAAhB,UAAyB,UAAAwb,EAAiBU,aAAa/Z,MAAK,SAAA8Z,GAAW,OAAIA,EAAYvc,KAAK2C,MAAQ3C,EAAK2C,cAAhF,eAAsFmjB,SAAU,qBAE7H,sBAAKxlB,UAAU,eAAf,UACI,sBAAMA,UAAU,QAAhB,6EACA,sBAAMA,UAAU,QAAhB,SACK,IAAIsH,KAAJ,UAASkU,EAAiBU,aAAa/Z,MAAK,SAAA8Z,GAAW,OAAIA,EAAYvc,KAAK2C,MAAQ3C,EAAK2C,cAAzF,aAAS,EAAsFqjB,cAAc6C,sBAAwB,qBAG9I,sBAAKvoB,UAAU,eAAf,UACI,sBAAMA,UAAU,QAAhB,wHACA,sBAAMA,UAAU,QAAhB,UACK,UAAAwb,EAAiBU,aAAa/Z,MAAK,SAAA8Z,GAAW,OAAIA,EAAYvc,KAAK2C,MAAQ3C,EAAK2C,cAAhF,eAAsFojB,aACjF,IAAIne,KAAJ,UAASkU,EAAiBU,aAAa/Z,MAAK,SAAA8Z,GAAW,OAAIA,EAAYvc,KAAK2C,MAAQ3C,EAAK2C,cAAzF,aAAS,EAAsFojB,aAAa8C,qBAC5G,2BAMtB,qBAAKvoB,UAAU,eAAf,SACI,+DCvCLue,UARE,WACf,OACE,8BACE,cAAC,EAAD,Q,4ICyCSxa,EArCD,WAAO,IAAD,EACmB5E,aAAY,SAAAC,GAAK,OAAIA,KAAhDsjB,EADQ,EACRA,UAAWrjB,EADH,EACGA,KAAMC,EADT,EACSA,MACnBC,EAAWC,cAFD,EAIQd,oBAAS,GAJjB,mBAITsD,EAJS,KAIHC,EAJG,KAMVuC,EAAc,uCAAG,4BAAAjC,EAAA,6DACnBN,GAAQ,GADW,SAEDwC,YAAW,eAAD,OAAiC,EAAjBie,EAAUte,MAAY/E,EAAKqF,OAFpD,OAEbC,EAFa,OAInBpF,EAAS,CACLoB,KAAMiL,IAAWG,UACjB1K,QAAQ,2BAAKsD,EAAIJ,MAAV,IAAgBH,KAAMse,EAAUte,KAAO,MAGlDnC,GAAQ,GATW,2CAAH,qDAYpB,OACI,sBAAKjC,UAAU,aAAf,UAEQ0iB,EAAU1e,MAAMlB,KAAI,SAAA8K,GAAI,OACpB,cAAC8b,EAAA,EAAD,CAAyB9b,KAAMA,EAAMtO,MAAOA,GAA7BsO,EAAKvL,QAKxBL,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,oBAIxD,cAACgF,EAAA,EAAD,CAAad,OAAQwe,EAAUxe,OAAQE,KAAMse,EAAUte,KACvDpC,KAAMA,EAAMwC,eAAgBA,QClCpCmlB,EAAS,EAsCE5L,UApCF,WAAO,IACR2E,EAAcvjB,aAAY,SAAAC,GAAK,OAAIA,KAAnCsjB,UAeR,OAbArc,OAAOsd,iBAAiB,UAAU,WAC9B,GAAgC,MAA7Btd,OAAOugB,SAASxS,SAEf,OADAuV,EAAStjB,OAAOujB,eAKxBnqB,qBAAU,WACNkJ,YAAW,WACPtC,OAAOwP,SAAS,CAACpE,IAAKkY,EAAQ7gB,SAAU,aACzC,OACL,IAGE,qBAAK9I,UAAU,gBAAf,SAKY0iB,EAAU3c,QACR,qBAAK1F,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,oBACtB,IAArB0iB,EAAUxe,QAA2C,IAA3Bwe,EAAU1e,MAAMtC,OACvC,oBAAI1B,UAAU,cAAd,qBACA,cAAC,EAAD,Q,kDC6GX6pB,G,KA/IQ,WACrB,OACE,gCACA,sBAAK7pB,UAAU,iBAAf,UACA,oBAAIA,UAAU,aAAd,8CACE,0BAASA,UAAU,eAAnB,UACE,gFACA,iZAWF,0BAASA,UAAU,eAAnB,UACE,wDACA,8MAMF,0BAASA,UAAU,eAAnB,UACE,uEACA,6TASF,oBAAIA,UAAU,aAAd,gHACA,0BAASA,UAAU,eAAnB,UACE,uJACA,2pCAQF,0BAASA,UAAU,eAAnB,UACE,6HACA,qBAAIA,UAAU,YAAd,UACE,+BAAI,gHAAJ,0IACA,+BAAI,4JAAJ,4MACA,+BAAI,0JAAJ,yIACA,+BAAI,6FAAJ,iOACA,+BAAI,qJAAJ,gJACA,+BAAI,sHAAJ,gMACA,+BAAI,sFAAJ,wPAIJ,0BAASA,UAAU,eAAnB,UACE,yFACA,0lBAMF,0BAASA,UAAU,eAAnB,UACE,8HACA,w2BAOF,oBAAIA,UAAU,aAAd,2DAEA,0BAASA,UAAU,eAAnB,UACE,+EACA,4aAWF,0BAASA,UAAU,eAAnB,UACE,mFACA,8OAKA,qBAAIA,UAAU,YAAd,UACE,+BAAI,0DAAJ,6DACA,+BAAI,kEAAJ,yDACA,+BAAI,kEAAJ,8DACA,+BAAI,0DAAJ,6DACA,+BAAI,+DAAJ,yEAKJ,0BAASA,UAAU,eAAnB,UACE,2DACA,oHAIA,qBAAIA,UAAU,YAAd,UACE,8FACA,4FACA,gGACA,+FACA,qGAKJ,0BAASA,UAAU,eAAnB,UACE,2DACA,2QAMA,iLC7HOke,UARe,WAC5B,OACE,8BACE,cAAC,EAAD,Q,wGCsFS4L,EAtFiB,WAC9B,IAAMvqB,EAAWC,cADmB,EAEDL,aAAY,SAACC,GAAD,OAAWA,KAAlDoc,EAF4B,EAE5BA,iBAAkBnc,EAFU,EAEVA,KAFU,EAIIX,mBAAS,IAJb,mBAI7Bwd,EAJ6B,KAIf6N,EAJe,KAOpCtqB,qBAAU,WACRsqB,EAAgBvO,EAAiBU,cAAgB,MAChD,CAACV,EAAiBU,eAErB,IAAM8N,EAAa,SAACC,GAAD,OAAWA,EAAOhW,IAAOgW,GAAMC,OAAO,oBAAsB,OAe/E,OACE,sBAAKlqB,UAAU,sBAAf,UACE,qBAAKA,UAAU,mBAAf,SACE,oBAAIA,UAAU,kBAAd,mCAEF,qBAAKA,UAAU,mBAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACE,+BACE,mCACA,yCACA,uCACA,oDACA,kDACA,iDACA,+CACA,6CACA,iDACA,+CAGJ,gCACGkc,EAAaxa,OAAS,EACrBwa,EAAapZ,KAAI,SAACiG,EAAOrC,GAAR,eACf,+BACE,6BAAKA,EAAQ,IACb,6BAAI,cAAC3D,EAAA,EAAD,CAAUrD,KAAMqJ,EAAMrJ,SAC1B,uCAAKqJ,EAAMrJ,YAAX,aAAK,EAAYkE,QACjB,6BAAKmF,EAAMyc,QAAU,oBACrB,6BAAKwE,EAAWjhB,EAAM2c,gBACtB,6BAAKsE,EAAWjhB,EAAM0c,eACtB,8BAAK,UAAA1c,EAAMohB,sBAAN,eAAsBzmB,WAAY,WACvC,6BAAKqF,EAAMqhB,UAAY,oBACvB,6BAAKrhB,EAAMshB,aAAe,QAC1B,6BACE,sBAAKrqB,UAAU,kBAAf,UACE,wBAAQA,UAAU,iCAAiCW,KAAK,SAAS2nB,iBAAe,WAAhF,uBAGA,qBAAKtoB,UAAU,gBAAf,SACE,wBAAQA,UAAU,gBAAgBC,QAAS,kBArDxC,SAACP,GACxB,IAAM4qB,EAAkB,CACtB9E,OAAQ,oBACRE,cAAc,IAAIpe,MAAOiC,cACzBkc,YAAa,MAGflmB,EAASomB,YAAY,CAAEtmB,OAAMirB,kBAAiB5qB,UAG9CqqB,GAAgB,SAACrT,GAAD,OAAUA,EAAKhW,QAAO,SAACqI,GAAD,OAAWA,EAAMrJ,KAAK2C,MAAQ3C,EAAK2C,UA2CJkoB,CAAiBxhB,EAAMrJ,OAAxE,kCAhBCqJ,EAAMrJ,KAAK2C,QAyBtB,6BACE,oBAAImoB,QAAQ,KAAZ,qDCpEDC,UAVoB,WACjC,OACE,8BACE,cAAC,EAAD,Q,6HC2FSC,EA7FA,WAAO,IAAD,EACSvrB,aAAY,SAAAC,GAAK,OAAIA,KAAzCyjB,EADW,EACXA,UAAWxjB,EADA,EACAA,KACbE,EAAWC,cAFE,EAGuBd,mBAAS,IAHhC,mBAGZisB,EAHY,KAGGC,EAHH,KAInBnrB,qBAAU,YACR,OAAIojB,QAAJ,IAAIA,OAAJ,EAAIA,EAAWpgB,QACbooB,EAAahI,EAAUpgB,SAExB,CAACogB,IAIJ,IAAMiI,EAAgB,uCAAG,WAAOprB,EAAMqrB,GAAb,SAAAxoB,EAAA,2DACfwoB,EADe,OAEhB,SAFgB,OAKhB,sBALgB,OAQhB,eARgB,OAWhB,UAXgB,QAcd,UAdc,wCAGbxrB,EAAS2kB,YAAoBxkB,EAAML,IAHtB,0DAMbE,EAAS4kB,YAAczkB,EAAML,IANhB,2DASbE,EAAS6kB,YAAc1kB,EAAML,IAThB,6DAYbE,EAAS8kB,YAAU3kB,EAAML,IAZZ,6DAeXE,EAAS+kB,YAAU5kB,EAAML,IAfd,wFAAH,wDAZH,EAoCeX,oBAAkB,OAATmkB,QAAS,IAATA,OAAA,EAAAA,EAAWpgB,QAAS,IApC5C,mBAoCZuoB,EApCY,KAoCDH,EApCC,KAuCbI,EAAgB,uCAAG,WAAOvrB,EAAMqrB,GAAb,SAAAxoB,EAAA,6DACvBqoB,GAAiB,SAAAlU,GAAI,kCAAUA,GAAV,kBAAiBhX,EAAK2C,IAAM0oB,OAD1B,SAEjBD,EAAiBprB,EAAMqrB,GAFN,OAKvBF,GAAa,SAAAK,GAAS,OACpBA,EAAUpoB,KAAI,SAAAqoB,GAAC,OAAKA,EAAE9oB,MAAQ3C,EAAK2C,IAAf,2BAA0B8oB,GAA1B,IAA6BtW,KAAMkW,IAAiBI,QANnD,2CAAH,wDAUtB,OACE,sBAAKnrB,UAAU,mBAAf,UACE,qBAAKA,UAAU,kBAAf,SACE,oBAAIA,UAAU,iBAAd,6BAEF,qBAAKA,UAAU,mBAAf,SACE,wBAAOA,UAAU,QAAjB,UACE,gCACE,+BACE,yCACA,4CACA,kDAGJ,gCACPgrB,EAAUloB,KAAI,SAACpD,EAAMgH,GAAP,OACb,+BACE,6BACE,cAAC3D,EAAA,EAAD,CAAUrD,KAAMA,MAElB,6BAAKA,EAAKmV,OACV,6BACE,yBACE7U,UAAU,oBACVc,SAAU,SAAClB,GAAD,OAAOqrB,EAAiBvrB,EAAME,EAAEC,OAAOE,QACjDA,MAAO4qB,EAAcjrB,EAAK2C,MAAQ3C,EAAKmV,KAHzC,UAKE,wBAAQ9U,MAAM,OAAd,0BACA,wBAAQA,MAAM,oBAAd,+BACA,wBAAQA,MAAM,aAAd,wBACA,wBAAQA,MAAM,QAAd,mBACA,wBAAQA,MAAM,QAAd,0BAfGL,EAAK2C,KAAOqE,iBC3DVyX,UARD,WACZ,OACE,8BACD,cAAC,EAAD,Q,gDC4BY/S,IAhCD,SAAC,GAAkC,IAAjCC,EAAgC,EAAhCA,WAAYC,EAAoB,EAApBA,QAAShM,EAAW,EAAXA,MAOjC,OACI,sBAAKU,UAAU,oBACfS,MAAO,CAAEsK,QAAS,EAAGrK,OAAQpB,EAAQ,YAAc,aADnD,UAGI,sBAAMU,UAAU,kCAAkCY,GAAG,iBACrDiU,KAAK,SAASC,cAAY,WAAWC,gBAAc,OAAOC,gBAAc,QADxE,SAEI,sBAAMvU,MAAO,CAACsK,QAAS,IAAvB,4BAGJ,qBAAK/K,UAAU,gBAAgBiV,kBAAgB,iBAA/C,SACI,qBAAKjV,UAAU,YAAf,SAhBM,CACd,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAC1C,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAC1C,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,eAAM,gBAehB8C,KAAI,SAAA2R,GAAI,OACd,sBAAiBxU,QAAS,kBAAMoL,EAAWC,EAAUmJ,IAArD,SACKA,GADMA,e,oICgHxB9I,IA7HE,WAAO,IAAD,EACexM,aAAY,SAAAC,GAAK,OAAIA,KAA/CC,EADW,EACXA,KAAMsI,EADK,EACLA,QAASwQ,EADJ,EACIA,OACjB5Y,EAAWC,cAFE,EAISd,mBAAS,IAJlB,mBAIZ4W,EAJY,KAIJC,EAJI,OAKmB7W,mBAAS,IAL5B,mBAKZ0sB,EALY,KAKCC,EALD,KAOb7iB,EAAUC,cACR7H,EAAO6E,cAAP7E,GAEFwH,EAAUD,mBAVG,EAWKzJ,mBAAS,GAXd,mBAWZ0F,EAXY,KAWNC,EAXM,KAcboR,EAAY,uCAAG,WAAM7V,GAAN,eAAA2C,EAAA,yDACjB3C,EAAEO,iBACEmV,EAFa,yCAEE+V,EAAe,KAFjB,gCAKK5mB,YAAW,mBAAD,OAAoB6Q,GAAUjW,EAAKqF,OALlD,OAKPC,EALO,OAMb0mB,EAAe1mB,EAAIJ,KAAK9B,OANX,kDAQblD,EAAS,CACLoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OATnD,0DAAH,sDAcZ+lB,EAAgB,SAAC5rB,GAKnB,OAJA6V,EAAU,IACV8V,EAAe,IACf9rB,EAAS,CAACoB,KAAMuP,IAAWC,SAAU9O,QAAQ,2BAAK3B,GAAN,IAAY8G,KAAM,GAAIC,MAAO,OACzElH,EAAS,CAACoB,KAAMuP,IAAWQ,qBAAsBrP,QAAS8W,IACnD3P,EAAQmC,KAAR,mBAAyBjL,EAAK2C,OAGnCiS,EAAW,SAAC5U,GACd,OAAGkB,IAAOlB,EAAK2C,IAAY,SACpB,IAmCX,OAhCA5C,qBAAU,WACHkI,EAAQqY,WACXzgB,EAASqR,YAAiB,CAACvR,YAC7B,CAACE,EAAUF,EAAMsI,EAAQqY,YAG3BvgB,qBAAU,WACW,IAAIkK,sBAAqB,SAAAC,GACnCA,EAAQ,GAAGC,gBACVxF,GAAQ,SAAAyF,GAAC,OAAIA,EAAI,OAEvB,CACEC,UAAW,KAGNC,QAAQ5B,EAAQQ,WAC3B,CAACvE,IAEH5E,qBAAU,WACHkI,EAAQ2Y,aAA4B,GAAZlc,EAAO,IAAUA,EAAO,GAC/C7E,EAASqR,YAAiB,CAACvR,OAAM+E,YAEvC,CAACuD,EAAQ2Y,YAAalc,EAAM/E,EAAME,IAIpCE,qBAAU,WACHkI,EAAQqY,WACPzgB,EAAS,CAACoB,KAAMuP,IAAWQ,qBAAsBrP,QAAS8W,MAEhE,CAACA,EAAQxQ,EAAQqY,UAAWzgB,IAG1B,qCACI,uBAAMS,UAAU,iBAAiBE,SAAUuV,EAA3C,UACI,uBAAO9U,KAAK,OAAOZ,MAAOuV,EAC1BnK,YAAY,6BACZrK,SAAU,SAAAlB,GAAC,OAAI2V,EAAU3V,EAAEC,OAAOE,MAAM2V,cAAcC,QAAQ,KAAM,QAEpE,wBAAQhV,KAAK,SAASF,MAAO,CAACuK,QAAS,QAAvC,uBAGJ,sBAAKhL,UAAU,oBAAf,UAE+B,IAAvBorB,EAAY1pB,OACT,mCAEK0pB,EAAYtoB,KAAI,SAAApD,GAAI,OAChB,qBAAoBM,UAAS,uBAAkBsU,EAAS5U,IACxDO,QAAS,kBAAMqrB,EAAc5rB,IAD7B,SAEI,cAAC,IAAD,CAAUA,KAAMA,KAFVA,EAAK2C,UAQzB,mCAEMsF,EAAQlF,MAAMK,KAAI,SAAApD,GAAI,OAClB,qBAAoBM,UAAS,uBAAkBsU,EAAS5U,IACxDO,QAAS,kBAAMqrB,EAAc5rB,IAD7B,SAEI,cAAC,IAAD,CAAUA,KAAMA,EAAM6F,KAAK,EAA3B,SAEQ7F,EAAKyY,OACH,mBAAGnY,UAAU,+BACbX,EAAKK,KAAKwC,UAAUC,MAAK,SAAAC,GAAI,OAC3BA,EAAKC,MAAQ3C,EAAK2C,QACjB,mBAAGrC,UAAU,qBARpBN,EAAK2C,UAmBhC,wBAAQwI,IAAKzC,EAAS3H,MAAO,CAACsK,QAAS,GAAvC,+B,uFClEAwgB,EA3DE,SAAC,GAAkB,IAAjBnf,EAAgB,EAAhBA,OAAQxL,EAAQ,EAARA,GACjB0T,EAAW,SAAA5N,GACb,GAAa,IAAVA,EAAa,MAAO,UAGnBpH,EAAUH,aAAY,SAAAC,GAAK,OAAIA,KAA/BE,MAER,OACI,sBAAKsB,GAAE,eAAUA,GAAMZ,UAAU,iBAAiBwrB,YAAU,WAA5D,UACI,oBAAIxrB,UAAU,sBAAsBS,MAAO,CAAC8R,OAAQ,GAApD,SAEQnG,EAAOtJ,KAAI,SAACmK,EAAKvG,GAAN,OACP,oBAAgB+kB,cAAA,gBAAsB7qB,GACtC8qB,gBAAehlB,EAAO1G,UAAWsU,EAAS5N,IADjCA,QAOrB,qBAAK1G,UAAU,iBAAf,SAEQoM,EAAOtJ,KAAI,SAACmK,EAAKvG,GAAN,OACP,qBAAiB1G,UAAS,wBAAmBsU,EAAS5N,IAAtD,SAEQuG,EAAItG,IAAIC,MAAM,UACZ,uBAAOgS,UAAQ,EAACvY,IAAK4M,EAAItG,IAAK3G,UAAU,gBAAgBQ,IAAKyM,EAAItG,IACnElG,MAAO,CAACC,OAAQpB,EAAQ,YAAc,eAEpC,qBAAKe,IAAK4M,EAAItG,IAAK3G,UAAU,gBAAgBQ,IAAKyM,EAAItG,IACxDlG,MAAO,CAACC,OAAQpB,EAAQ,YAAc,gBAPpCoH,QAiBlB0F,EAAO1K,OAAS,GAChB,qCACI,oBAAG1B,UAAU,wBAAwB6D,KAAI,gBAAWjD,GAAMiU,KAAK,SAAS8W,aAAW,OACnFlrB,MAAO,CAAC+R,MAAO,MADf,UAEI,sBAAMxS,UAAU,6BAA6B4rB,cAAY,SACzD,sBAAM5rB,UAAU,UAAhB,yBAGJ,oBAAGA,UAAU,wBAAwB6D,KAAI,gBAAWjD,GAAMiU,KAAK,SAAS8W,aAAW,OACnFlrB,MAAO,CAAC+R,MAAO,MADf,UAEI,sBAAMxS,UAAU,6BAA6B4rB,cAAY,SACzD,sBAAM5rB,UAAU,UAAhB,4B,gBC+HT6rB,EA7KU,SAAC,GAAc,IAAZje,EAAW,EAAXA,KAAW,EACPlP,oBAAS,GADF,mBAC5BotB,EAD4B,KACpBC,EADoB,OAEHrtB,oBAAS,GAFN,mBAE5BstB,EAF4B,KAElBC,EAFkB,OAGTvtB,oBAAS,GAHA,mBAG5B4P,EAH4B,KAGrB4d,EAHqB,OAIHxtB,oBAAS,GAJN,mBAI5BytB,EAJ4B,KAIlBC,EAJkB,OAKD1tB,oBAAS,GALR,mBAK5B2tB,EAL4B,KAKjBC,EALiB,KAO7B9jB,EAAUC,cAPmB,EAQVtJ,aAAY,SAAAC,GAAK,OAAIA,KAAtCC,EAR2B,EAQ3BA,KAAM0C,EARqB,EAQrBA,OACRxC,EAAWC,cAEjBC,qBAAU,WACFJ,EAAKK,MAAQkO,EAAKC,MAAM1L,MAAK,SAAA4L,GAAI,OAAIA,EAAK1L,MAAQhD,EAAKK,KAAK2C,OAC5D0pB,GAAU,GAEVA,GAAU,KAEf,CAACne,EAAKC,MAAOxO,EAAKK,OAErB,IAAM6sB,EAAU,uCAAG,sBAAAhqB,EAAA,yDACVlD,EAAKqF,MADK,yCACS4nB,GAAa,IADtB,WAEXN,EAFW,iDAIfC,GAAY,GACZ1sB,EAASoO,YAAS,CAAEC,OAAMvO,OAAM0C,YAChCkqB,GAAY,GANG,2CAAH,qDASVO,EAAY,uCAAG,sBAAAjqB,EAAA,yDACZlD,EAAKqF,MADO,yCACO4nB,GAAa,IADpB,WAEbN,EAFa,iDAIjBC,GAAY,GACZ1sB,EAASuO,YAAW,CAAEF,OAAMvO,OAAM0C,YAClCkqB,GAAY,GANK,2CAAH,qDASlBxsB,qBAAU,WACFJ,EAAKK,MAAQL,EAAKK,KAAK4O,MAAMnM,MAAK,SAAAvB,GAAE,OAAIA,IAAOgN,EAAKvL,OACpD6pB,GAAS,GAETA,GAAS,KAEd,CAAC7sB,EAAKK,KAAMkO,EAAKvL,MAEpB,IAAMoqB,EAAc,uCAAG,sBAAAlqB,EAAA,yDACdlD,EAAKqF,MADS,yCACK4nB,GAAa,IADlB,WAEfH,EAFe,wDAInBC,GAAY,GAJO,SAKb7sB,EAAS8O,YAAS,CAAET,OAAMvO,UALb,OAMnB+sB,GAAY,GANO,2CAAH,qDASdM,EAAgB,uCAAG,sBAAAnqB,EAAA,yDAChBlD,EAAKqF,MADW,yCACG4nB,GAAa,IADhB,WAEjBH,EAFiB,wDAIrBC,GAAY,GAJS,SAKf7sB,EAASiP,YAAW,CAAEZ,OAAMvO,UALb,OAMrB+sB,GAAY,GANS,2CAAH,qDAStB,OACI,gCACI,qBAAKpsB,UAAU,YAAf,SACK4N,EAAKxB,OAAO1K,OAAS,GAClB,sBAAK1B,UAAU,qBAAqBS,MAAO,CAAEmd,SAAU,YAAvD,UACI,qBACInd,MAAO,CACHmd,SAAU,WACVnM,IAAK,OACL0B,MAAO,OACPZ,OAAQ,EACR9H,OAAQ,UACRkiB,gBAAiB,2BACjB1lB,aAAc,MACdmU,QAAS,MACTpQ,QAAS,OACT4hB,WAAY,SACZC,eAAgB,UAEpB5sB,QAASqO,EAAQoe,EAAmBD,EAdxC,SAgBI,sBACIzsB,UAAU,iBACVS,MAAO,CACHyG,SAAU,OACVC,MAAOmH,EAAQ,UAAY,QAJnC,wBAWJ,sBACI7N,MAAO,CACHmd,SAAU,WACVnM,IAAK,OACLC,KAAM,OACNa,OAAQ,EACRvH,QAAS,OACT8hB,cAAe,MACfF,WAAY,UARpB,UAWI,sBACInsB,MAAO,CACHyG,SAAU,OACV6lB,WAAY,OACZ5lB,MAAO,MACP2O,YAAa,OALrB,SAQKlI,EAAKC,MAAMnM,SAGhB,qBACIjB,MAAO,CACHgK,OAAQ,UACRkiB,gBAAiB,2BACjB1lB,aAAc,MACdmU,QAAS,MACTpQ,QAAS,OACT4hB,WAAY,SACZC,eAAgB,UAEpB5sB,QAAS6rB,EAASU,EAAeD,EAVrC,SAYI,sBACIvsB,UAAU,iBACVS,MAAO,CACHyG,SAAU,OACVC,MAAO2kB,EAAS,MAAQ,QAJhC,2BAYR,qBAAK9rB,UAAU,OAAf,SACR,qBAAKA,UAAU,cAAcC,QAAS,kBAAMuI,EAAQmC,KAAR,gBAAsBiD,EAAKvL,OAAvE,SACI,cAAC,EAAD,CAAU+J,OAAQwB,EAAKxB,OAAQxL,GAAIgN,EAAKvL,eAO/CgqB,GACG,qBAAKrsB,UAAU,QAAf,SACI,sBAAKA,UAAU,gBAAf,UACI,uCACA,wCACA,sBAAKA,UAAU,gBAAf,UACI,wBAAQC,QAAS,kBAAMuI,EAAQmC,KAAK,WAApC,wBAGA,wBAAQ1K,QAAS,kBAAMuI,EAAQmC,KAAK,cAApC,sBAGA,wBAAQ1K,QAAS,kBAAMqsB,GAAa,IAApC,gC,wCCvJbU,EAfI,SAAC,GAAwC,IAAvClB,EAAsC,EAAtCA,OAAQS,EAA8B,EAA9BA,WAAYC,EAAkB,EAAlBA,aAC7BltB,EAAUH,aAAY,SAAAC,GAAK,OAAIA,KAA/BE,MAER,OACI,mCAEQwsB,EACE,mBAAG9rB,UAAU,2BAA2BC,QAASusB,EACnD/rB,MAAO,CAACC,OAAQpB,EAAQ,YAAc,eACpC,mBAAGU,UAAU,eAAeC,QAASssB,O,6BCuC1CU,EAAc,SAAC,GAAD,IAAEC,EAAF,EAAEA,QAAStf,EAAX,EAAWA,KAAMvO,EAAjB,EAAiBA,KAAjB,8CAA2B,WAAOE,GAAP,mBAAAgD,EAAA,6DAC5C4qB,EAD4C,2BAC3BD,GAD2B,IAClBrf,MAAM,GAAD,mBAAMqf,EAAQrf,OAAd,CAAqBxO,EAAKK,SAEzD0tB,EAAc1N,YAAS9R,EAAKkZ,SAAUoG,EAAQ7qB,IAAK8qB,GAEnD5gB,EAL4C,2BAK9BqB,GAL8B,IAKxBkZ,SAAUsG,IAEpC7tB,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IAPA,kBAUxCmB,YAAa,WAAD,OAAYwf,EAAQ7qB,IAApB,SAAgC,KAAMhD,EAAKqF,OAVf,uDAY9CnF,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAZzB,yDAA3B,uDAgBd8nB,EAAgB,SAAC,GAAD,IAAEH,EAAF,EAAEA,QAAStf,EAAX,EAAWA,KAAMvO,EAAjB,EAAiBA,KAAjB,8CAA2B,WAAOE,GAAP,mBAAAgD,EAAA,6DAE9C4qB,EAF8C,2BAE7BD,GAF6B,IAEpBrf,MAAOmD,YAAWkc,EAAQrf,MAAOxO,EAAKK,KAAK2C,OAErE+qB,EAAc1N,YAAS9R,EAAKkZ,SAAUoG,EAAQ7qB,IAAK8qB,GAEnD5gB,EAN8C,2BAMhCqB,GANgC,IAM1BkZ,SAAUsG,IAEpC7tB,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IARE,kBAW1CmB,YAAa,WAAD,OAAYwf,EAAQ7qB,IAApB,WAAkC,KAAMhD,EAAKqF,OAXf,uDAahDnF,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OAbvB,yDAA3B,uDCVd+nB,EArDK,SAAC,GAAgC,IAA/B1f,EAA8B,EAA9BA,KAAMsf,EAAwB,EAAxBA,QAASzuB,EAAe,EAAfA,UAAe,EAEvBU,aAAY,SAAAC,GAAK,OAAIA,KAAtCC,EAFwC,EAExCA,KAAM0C,EAFkC,EAElCA,OACRxC,EAAWC,cAEX+tB,EAAe,WACd3f,EAAKlO,KAAK2C,MAAQhD,EAAKK,KAAK2C,KAAO6qB,EAAQxtB,KAAK2C,MAAQhD,EAAKK,KAAK2C,KACjE9C,EDyEiB,SAAC,GAAD,IAAEqO,EAAF,EAAEA,KAAMsf,EAAR,EAAQA,QAAS7tB,EAAjB,EAAiBA,KAAM0C,EAAvB,EAAuBA,OAAvB,8CAAmC,WAAOxC,GAAP,iBAAAgD,EAAA,sDACtDirB,EADsD,sBACtC5f,EAAKkZ,SAASpmB,QAAO,SAAA+sB,GAAE,OAAIA,EAAGC,QAAUR,EAAQ7qB,QADV,CACgB6qB,IAEtE3gB,EAHsD,2BAIrDqB,GAJqD,IAKxDkZ,SAAUlZ,EAAKkZ,SAASpmB,QAAO,SAAA+sB,GAAE,OAAKD,EAAUrrB,MAAK,SAAAwrB,GAAE,OAAIF,EAAGprB,MAAQsrB,EAAGtrB,YAG7E9C,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IAElDxK,EAAOyI,KAAK,gBAAiB+B,GAC7B,IACGihB,EAAUlpB,SAAQ,SAAAlC,GACbgM,YAAc,WAAD,OAAYhM,EAAKC,KAAOhD,EAAKqF,OAE1C,IAAMa,EAAM,CACR3E,GAAIwB,EAAKC,IACTmE,KAAM0mB,EAAQQ,MAAQ,8BAAgC,8BACtDjhB,WAAYygB,EAAQQ,MAAQ,CAACR,EAAQzS,IAAIpY,KAAO,CAACuL,EAAKlO,KAAK2C,KAC3DsE,IAAI,SAAD,OAAWiH,EAAKvL,MAGvB9C,EAASyO,YAAa,CAACzI,MAAKlG,OAAM0C,eAExC,MAAOd,GACL1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAOL,EAAIqE,SAASf,KAAKgB,OAzBf,2CAAnC,sDCzERqoB,CAAc,CAAChgB,OAAMvO,OAAM6tB,UAASnrB,aAI/C8rB,EAAW,WACb,OACI,qCACI,sBAAK7tB,UAAU,gBAAgBC,QAAS,kBAAMxB,GAAU,IAAxD,UACI,sBAAMuB,UAAU,iBAAhB,oBADJ,WAGA,sBAAKA,UAAU,gBAAgBC,QAASstB,EAAxC,UACI,sBAAMvtB,UAAU,iBAAhB,4BADJ,iBAQZ,OACI,qBAAKA,UAAU,OAAf,UAES4N,EAAKlO,KAAK2C,MAAQhD,EAAKK,KAAK2C,KAAO6qB,EAAQxtB,KAAK2C,MAAQhD,EAAKK,KAAK2C,MACnE,sBAAKrC,UAAU,oBAAf,UACI,sBAAMA,UAAU,iBAAiBY,GAAG,WAAWkU,cAAY,WAA3D,uBAIA,qBAAK9U,UAAU,gBAAgBiV,kBAAgB,WAA/C,SAEQrH,EAAKlO,KAAK2C,MAAQhD,EAAKK,KAAK2C,IAC1B6qB,EAAQxtB,KAAK2C,MAAQhD,EAAKK,KAAK2C,IAC3BwrB,IACA,sBAAK7tB,UAAU,gBAAgBC,QAASstB,EAAxC,UACE,sBAAMvtB,UAAU,iBAAhB,4BADF,aAGJktB,EAAQxtB,KAAK2C,MAAQhD,EAAKK,KAAK2C,KAAOwrB,Y,QCQrDC,EAjDM,SAAC,GAA2C,IAA1C7c,EAAyC,EAAzCA,SAAUrD,EAA+B,EAA/BA,KAAMmgB,EAAyB,EAAzBA,QAASC,EAAgB,EAAhBA,WAAgB,EAC9BtvB,mBAAS,IADqB,mBACrD4M,EADqD,KAC5CD,EAD4C,OAG5BlM,aAAY,SAAAC,GAAK,OAAIA,KAA7CC,EAHoD,EAGpDA,KAAM0C,EAH8C,EAG9CA,OAAQzC,EAHsC,EAGtCA,MAChBC,EAAWC,cAyBjB,OACI,uBAAMQ,UAAU,4BAA4BE,SAxB3B,SAACN,GAElB,GADAA,EAAEO,kBACEmL,EAAQpC,OACR,OAAG8kB,EAAmBA,GAAW,QACjC,EAGJ3iB,EAAW,IAEX,IAAM8hB,EAAa,CACf7hB,UACAuC,MAAO,GACPnO,KAAML,EAAKK,KACX6H,WAAW,IAAID,MAAOiC,cACtBmkB,MAAOK,GAAWA,EAAQE,UAC1BxT,IAAKsT,GAAWA,EAAQruB,MAK5B,OAFAH,EFvBqB,SAAC,GAAD,IAAEqO,EAAF,EAAEA,KAAMuf,EAAR,EAAQA,WAAY9tB,EAApB,EAAoBA,KAAM0C,EAA1B,EAA0BA,OAA1B,8CAAsC,WAAOxC,GAAP,yBAAAgD,EAAA,6DACzDgK,EADyD,2BAC3CqB,GAD2C,IACrCkZ,SAAS,GAAD,mBAAMlZ,EAAKkZ,UAAX,CAAqBqG,MAEvD5tB,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IAHa,SAMrDhI,EANqD,2BAM1C4oB,GAN0C,IAM9Be,OAAQtgB,EAAKvL,IAAK8rB,WAAYvgB,EAAKlO,KAAK2C,MANV,SAOzCgK,YAAY,UAAW9H,EAAMlF,EAAKqF,OAPO,OAOrDC,EAPqD,OASrDrB,EATqD,2BASvCqB,EAAIJ,KAAK4oB,YAT8B,IASlBztB,KAAML,EAAKK,OAC9C6M,EAVqD,2BAUvCqB,GAVuC,IAUjCkZ,SAAS,GAAD,mBAAMlZ,EAAKkZ,UAAX,CAAqBxjB,MACvD/D,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IAGlDxK,EAAOyI,KAAK,gBAAiB+B,GAGvBhH,EAAM,CACR3E,GAAI+D,EAAIJ,KAAK4oB,WAAW9qB,IACxBmE,KAAM2mB,EAAWO,MAAQ,8BAAgC,8BACzDjhB,WAAY0gB,EAAWO,MAAQ,CAACP,EAAW1S,IAAIpY,KAAO,CAACuL,EAAKlO,KAAK2C,KACjEsE,IAAI,SAAD,OAAWiH,EAAKvL,KACnBiJ,QAASsC,EAAKtC,QACdqB,MAAOiB,EAAKxB,OAAO,GAAGzF,KAG1BpH,EAASqN,YAAa,CAACrH,MAAKlG,OAAM0C,YA1ByB,kDA6B3DxC,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAO,KAAIgE,SAASf,KAAKgB,OA7BZ,0DAAtC,sDEuBZ6oB,CAAc,CAACxgB,OAAMuf,aAAY9tB,OAAM0C,YAE7CisB,EAAmBA,GAAW,QAAjC,GAIA,UACK/c,EACD,uBAAOtQ,KAAK,OAAOwK,YAAY,uBAC/BpL,MAAOuL,EAASxK,SAAU,SAAAlB,GAAC,OAAIyL,EAAWzL,EAAEC,OAAOE,QACnDU,MAAO,CACHC,OAAQpB,EAAQ,YAAc,YAC9B6H,MAAO7H,EAAQ,QAAU,OACzB0H,WAAY1H,EAAQ,kBAAoB,MAG5C,cAAC8L,EAAA,EAAD,CAAOC,WAAYA,EAAYC,QAASA,EAAShM,MAAOA,IAExD,wBAAQqB,KAAK,SAASX,UAAU,UAAhC,sBCwHGquB,EA5JK,SAAC,GAA0C,IAAzCpd,EAAwC,EAAxCA,SAAUic,EAA8B,EAA9BA,QAAStf,EAAqB,EAArBA,KAAMqgB,EAAe,EAAfA,UAAe,EAClC9uB,aAAY,SAAAC,GAAK,OAAIA,KAArCC,EADkD,EAClDA,KAAMC,EAD4C,EAC5CA,MACRC,EAAWC,cAFyC,EAI5Bd,mBAAS,IAJmB,mBAInD4M,EAJmD,KAI1CD,EAJ0C,OAK1B3M,oBAAS,GALiB,mBAKnD4vB,EALmD,KAKzCC,EALyC,OAO9B7vB,oBAAS,GAPqB,mBAOnDyE,EAPmD,KAO3C1E,EAP2C,OAQ9BC,oBAAS,GARqB,mBAQnDotB,EARmD,KAQ3CC,EAR2C,OAS1BrtB,oBAAS,GATiB,mBASnDstB,EATmD,KASzCC,EATyC,OAW5BvtB,oBAAS,GAXmB,mBAWnDqvB,EAXmD,KAW1CC,EAX0C,KAc1DvuB,qBAAU,WACN4L,EAAW6hB,EAAQ5hB,SACnBygB,GAAU,GACViC,GAAW,GACRd,EAAQrf,MAAM1L,MAAK,SAAA4L,GAAI,OAAIA,EAAK1L,MAAQhD,EAAKK,KAAK2C,QACjD0pB,GAAU,KAEhB,CAACmB,EAAS7tB,EAAKK,KAAK2C,MAEtB,IAUMkqB,EAAU,uCAAG,sBAAAhqB,EAAA,0DACZypB,EADY,wDAEfD,GAAU,GAEVE,GAAY,GAJG,SAKT1sB,EAAS0tB,EAAY,CAACC,UAAStf,OAAMvO,UAL5B,OAMf4sB,GAAY,GANG,2CAAH,qDASVO,EAAY,uCAAG,sBAAAjqB,EAAA,0DACdypB,EADc,wDAEjBD,GAAU,GAEVE,GAAY,GAJK,SAKX1sB,EAAS8tB,EAAc,CAACH,UAAStf,OAAMvO,UAL5B,OAMjB4sB,GAAY,GANK,2CAAH,qDAeZuC,EAAY,CACdzjB,QAASmiB,EAAQ7qB,IAAM,EAAI,GAC3BosB,cAAevB,EAAQ7qB,IAAM,UAAY,QAG7C,OACI,sBAAKrC,UAAU,oBAAoBS,MAAO+tB,EAA1C,UACI,eAAC,IAAD,CAAMpd,GAAE,mBAAc8b,EAAQxtB,KAAK2C,KAAOrC,UAAU,mBAApD,UACI,cAACwD,EAAA,EAAD,CAAQnD,IAAK6sB,EAAQxtB,KAAKT,OAAQwE,KAAK,iBACvC,oBAAIzD,UAAU,OAAd,SAAsBktB,EAAQxtB,KAAKgE,cAGvC,sBAAK1D,UAAU,kBAAf,UACI,sBAAKA,UAAU,YACfS,MAAO,CACHC,OAAQpB,EAAQ,YAAc,YAC9B6H,MAAO7H,EAAQ,QAAU,QAH7B,UAMQ6D,EACE,0BAAU1B,KAAK,IAAI1B,MAAOuL,EAC5BxK,SAAU,SAAAlB,GAAC,OAAIyL,EAAWzL,EAAEC,OAAOE,UAEjC,gCAEMmtB,EAAQzS,KAAOyS,EAAQzS,IAAIpY,MAAQ6qB,EAAQxtB,KAAK2C,KAChD,eAAC,IAAD,CAAM+O,GAAE,mBAAc8b,EAAQzS,IAAIpY,KAAOrC,UAAU,OAAnD,cACMktB,EAAQzS,IAAI/W,YAGtB,+BAEQ4H,EAAQ5J,OAAS,IAAM4J,EACvBgjB,EAAWhjB,EAAU,IAAMA,EAAQ0I,MAAM,EAAG,KAAO,SAIvD1I,EAAQ5J,OAAS,KACjB,sBAAM1B,UAAU,WAAWC,QAAS,kBAAMsuB,GAAaD,IAAvD,SACKA,EAAW,eAAiB,iBAO7C,sBAAK7tB,MAAO,CAACgK,OAAQ,WAArB,UACI,uBAAOzK,UAAU,kBAAjB,SACKiU,IAAOiZ,EAAQ3lB,WAAW2M,YAG/B,wBAAOlU,UAAU,wBAAjB,UACKktB,EAAQrf,MAAMnM,OADnB,YAKIyB,EACE,qCACE,uBAAOnD,UAAU,wBACjBC,QA7FP,WACditB,EAAQ5hB,UAAYA,GACnB/L,EHGiB,SAAC,GAAD,IAAE2tB,EAAF,EAAEA,QAAStf,EAAX,EAAWA,KAAMtC,EAAjB,EAAiBA,QAASjM,EAA1B,EAA0BA,KAA1B,8CAAoC,WAAOE,GAAP,iBAAAgD,EAAA,sDACvD6qB,EAAc1N,YAAS9R,EAAKkZ,SAAUoG,EAAQ7qB,IAAxB,YAAC,eAAgC6qB,GAAjC,IAA0C5hB,aAChEiB,EAFuD,2BAEzCqB,GAFyC,IAEnCkZ,SAAUsG,IAEpC7tB,EAAS,CAAEoB,KAAMiL,IAAW/G,YAAaxD,QAASkL,IAClD,IACImB,YAAa,WAAD,OAAYwf,EAAQ7qB,KAAO,CAAEiJ,WAAWjM,EAAKqF,OAC3D,MAAOzD,GACL1B,EAAS,CAAEoB,KAAMQ,IAAYC,MAAOC,QAAS,CAACC,MAAOL,EAAIqE,SAASf,KAAKgB,OARd,2CAApC,sDGHRmpB,CAAc,CAACxB,UAAStf,OAAMtC,UAASjM,UAChDZ,GAAU,IAEVA,GAAU,IAuFU,oBAIA,uBAAOuB,UAAU,wBACjBC,QAAS,kBAAMxB,GAAU,IADzB,uBAMF,uBAAOuB,UAAU,wBACnBC,QA1EJ,WAChB,GAAG8tB,EAAS,OAAOC,GAAW,GAC9BA,EAAW,2BAAId,GAAL,IAAce,gBAuEF,SAEGF,EAAU,SAAU,gBASrC,sBAAK/tB,UAAU,iCAAiCS,MAAO,CAACgK,OAAQ,WAAhE,UACI,cAAC,EAAD,CAAamD,KAAMA,EAAMsf,QAASA,EAASzuB,UAAWA,IACtD,cAAC,EAAD,CAAYqtB,OAAQA,EAAQS,WAAYA,EAAYC,aAAcA,UAKtEuB,GACA,cAAC,EAAD,CAAcngB,KAAMA,EAAMmgB,QAASA,EAASC,WAAYA,EAAxD,SACI,eAAC,IAAD,CAAM5c,GAAE,mBAAc2c,EAAQruB,KAAK2C,KAAOrC,UAAU,OAApD,cACM+tB,EAAQruB,KAAKgE,SADnB,SAMPuN,MCpHE0d,EA3CQ,SAAC,GAA8B,IAA7BzB,EAA4B,EAA5BA,QAAStf,EAAmB,EAAnBA,KAAMghB,EAAa,EAAbA,QAAa,EACnBlwB,mBAAS,IADU,mBAC1CmwB,EAD0C,KACjCC,EADiC,OAEzBpwB,mBAAS,GAFgB,mBAE1CqwB,EAF0C,KAEpCC,EAFoC,KAQjD,OAJAvvB,qBAAU,WACNqvB,EAAWF,EAAQ5a,MAAM4a,EAAQltB,OAASqtB,MAC5C,CAACH,EAASG,IAGR,qBAAK/uB,UAAU,kBAAf,SACI,cAAC,EAAD,CAAaktB,QAASA,EAAStf,KAAMA,EAAMqgB,UAAWf,EAAQ7qB,IAA9D,SACI,sBAAKrC,UAAU,OAAf,UAEQ6uB,EAAQ/rB,KAAI,SAACV,EAAMsE,GAAP,OACRtE,EAAKsrB,OACL,cAAC,EAAD,CAEAR,QAAS9qB,EACTwL,KAAMA,EACNqgB,UAAWf,EAAQ7qB,KAHdqE,MASTkoB,EAAQltB,OAASqtB,EAAO,EACtB,qBAAKtuB,MAAO,CAACgK,OAAQ,UAAWtD,MAAO,WACzClH,QAAS,kBAAM+uB,EAAQD,EAAO,KAD5B,kCAKAH,EAAQltB,OAAS,GACnB,qBAAKjB,MAAO,CAACgK,OAAQ,UAAWtD,MAAO,WACvClH,QAAS,kBAAM+uB,EAAQ,IADvB,sCCcTC,EA9CE,SAAC,GAAY,IAAXrhB,EAAU,EAAVA,KAAU,EACOlP,mBAAS,IADhB,mBAClBooB,EADkB,KACRoI,EADQ,OAEexwB,mBAAS,IAFxB,mBAElBywB,EAFkB,KAEJC,EAFI,OAGD1wB,mBAAS,GAHR,mBAGlBqwB,EAHkB,KAGZC,EAHY,OAKiBtwB,mBAAS,IAL1B,mBAKlB2wB,EALkB,KAKHC,EALG,KAkBzB,OAXA7vB,qBAAU,WACN,IAAM8vB,EAAQ3hB,EAAKkZ,SAASpmB,QAAO,SAAA+sB,GAAE,OAAKA,EAAGC,SAC7CwB,EAAYK,GACZH,EAAgBG,EAAMvb,MAAMub,EAAM7tB,OAASqtB,MAC7C,CAACnhB,EAAKkZ,SAAUiI,IAElBtvB,qBAAU,WACN,IAAM+vB,EAAS5hB,EAAKkZ,SAASpmB,QAAO,SAAA+sB,GAAE,OAAIA,EAAGC,SAC7C4B,EAAiBE,KAClB,CAAC5hB,EAAKkZ,WAGL,sBAAK9mB,UAAU,WAAf,UAEQmvB,EAAarsB,KAAI,SAACoqB,EAASxmB,GAAV,OACb,cAAC,EAAD,CAA4BwmB,QAASA,EAAStf,KAAMA,EACpDghB,QAASS,EAAc3uB,QAAO,SAAA0B,GAAI,OAAIA,EAAKsrB,QAAUR,EAAQ7qB,QADxCqE,MAMzBogB,EAASplB,OAASqtB,EAAO,EACvB,qBAAK/uB,UAAU,iBACjBS,MAAO,CAACgK,OAAQ,UAAWtD,MAAO,WAClClH,QAAS,kBAAM+uB,EAAQD,EAAO,KAF5B,kCAMAjI,EAASplB,OAAS,GACpB,qBAAK1B,UAAU,iBACfS,MAAO,CAACgK,OAAQ,UAAWtD,MAAO,WAClClH,QAAS,kBAAM+uB,EAAQ,IAFvB,kCCiCDS,G,OAlEK,SAAC,GAAc,IAAZ7hB,EAAW,EAAXA,KACbpF,EAAUC,cAEVinB,EADWrb,cACaD,WAAT,gBAA+BxG,EAAKvL,KAEzD4R,IAAO0b,OAAO,MALgB,IAOtBtwB,EAASF,aAAY,SAACC,GAAD,OAAWA,KAAhCC,KAPsB,EAQIX,oBAAS,GARb,mBAQvB2tB,EARuB,KAQZC,EARY,KAkB9B,OAAIoD,EAAqB,KAGrB,qCACI,qBAAK1vB,UAAU,cAAf,SACI,sBAAKA,UAAU,iBAAf,UAEI,sBAAKA,UAAU,YAAf,UACI,uBAAMA,UAAU,OAAhB,UAAuB,mBAAGA,UAAU,iBAApC,QAEA,uBAAOA,UAAU,WAAjB,SACKiU,IAAOrG,EAAKrG,WAAW2M,eAKhC,qBAAIlU,UAAU,OAAOS,MAAO,CAAEgK,OAAQ,WAAaxK,QAxBxC,WAClBZ,EAAKqF,MAGN8D,EAAQmC,KAAR,gBAAsBiD,EAAKvL,MAF3BiqB,GAAa,IAsBL,UACI,+BAAM,mBAAGtsB,UAAU,8BADvB,OACgE,sBAAMA,UAAU,oBAAhB,+BAQvEqsB,GACG,qBAAKrsB,UAAU,QAAf,SACI,sBAAKA,UAAU,gBAAf,UACI,uCACA,wCACA,sBAAKA,UAAU,gBAAf,UACI,wBAAQC,QAAS,kBAAMuI,EAAQmC,KAAK,WAApC,wBAGA,wBAAQ1K,QAAS,kBAAMuI,EAAQmC,KAAK,cAApC,sBAGA,wBAAQ1K,QAAS,kBAAMqsB,GAAa,IAApC,iCCkGbsD,EA7JS,SAAC,GAAc,IAAZhiB,EAAW,EAAXA,KAAW,EACJlP,oBAAS,GADL,mBAC7B4vB,EAD6B,KACnBC,EADmB,KAmDpC,OACE,qBAAKvuB,UAAU,wBAAf,SACE,sBAAKA,UAAU,YAAf,UAEE,sBAAKA,UAAU,YAAf,UACA,mBAAGA,UAAU,4BACX,sBAAMA,UAAU,aAAhB,kBAFF,IAE2C,sBAAMA,UAAU,OAAhB,mBACzC,sBAAMA,UAAU,SAAhB,SAA0B4N,EAAKlB,WAIjC,sBAAK1M,UAAU,YAAf,UACE,mBAAGA,UAAU,wBACb,sBAAMA,UAAU,aAAhB,2BACA,uBAAMA,UAAU,aAAhB,UACG,IAAIsH,KAAKsG,EAAKrG,WAAWghB,qBAD5B,SACqD,IAAIjhB,KAAKsG,EAAKrG,WAAWC,4BAK9EoG,EAAKiiB,QAAU,IAAInuB,OAAS,GAC5B,sBAAK1B,UAAU,YAAf,UACE,mBAAGA,UAAU,eACb,sBAAMA,UAAU,aAAhB,kBACA,sBAAMA,UAAU,aAAhB,SAA8B4N,EAAKiiB,aAKrCjiB,EAAKC,OAAS,IAAInM,OAAS,GAC3B,sBAAK1B,UAAU,YAAf,UACE,mBAAGA,UAAU,qBACb,sBAAMA,UAAU,aAAhB,oBACA,sBAAMA,UAAU,aAAhB,SAA8B4N,EAAKC,MAAMnM,aAK3CkM,EAAKkZ,UAAY,IAAIplB,OAAS,GAC9B,sBAAK1B,UAAU,YAAf,UACE,mBAAGA,UAAU,oBACb,sBAAMA,UAAU,aAAhB,2BACA,sBAAMA,UAAU,aAAhB,UAA+B4N,EAAKkZ,UAAY,IAAIplB,YAKvDkM,EAAKP,aACJ,sBAAKrN,UAAU,YAAf,UACE,mBAAGA,UAAU,oBACb,sBAAMA,UAAU,kBAAhB,0BACA,sBAAMA,UAAU,aAAhB,SACE,sBAAKA,UAAU,oBAAf,UACE,+BACG4N,EAAKP,YAAY3L,OAAS,GACvBkM,EAAKP,YACLihB,EAAW1gB,EAAKP,YAAc,IAAMO,EAAKP,YAAY2G,MAAM,EAAG,IAAM,UAEzEpG,EAAKP,YAAY3L,OAAS,IACzB,sBAAM1B,UAAU,qBAAqBC,QAAS,kBAAMsuB,GAAaD,IAAjE,SACGA,EAAW,oBAAsB,uBAS5C1gB,EAAKJ,QAAU,IAAI9L,OAAS,GAC5B,sBAAK1B,UAAU,YAAf,UACE,mBAAGA,UAAU,oBACb,sBAAMA,UAAU,aAAhB,2BACA,sBAAMA,UAAU,aAAhB,UAA+B4N,EAAKJ,QAAU,IAAI9L,YAKpDkM,EAAK+G,MACL,sBAAK3U,UAAU,YAAf,UACI4N,EAAKlB,MADT,IAEE,sBAAM1M,UAAU,aAAhB,qBACA,mBACE6D,KAAM+J,EAAK+G,KAAKC,WAAW,QAAUhH,EAAK+G,KAApC,kBAAsD/G,EAAK+G,MACjE9U,OAAO,SACPiE,IAAI,sBACJ9D,UAAU,2BAJZ,SAMG4N,EAAKlB,YAMVkB,EAAKH,UAAY,IAAI/L,OAAS,GAC9B,sBAAK1B,UAAU,YAAf,UACE,mBAAGA,UAAU,qBADf,IAEE,sBAAMA,UAAU,aAAhB,8BACA,sBAAMA,UAAU,aAAhB,UAA+B4N,EAAKH,UAAY,IAAI/L,kBCzHjDouB,EA5BO,SAAC,GAAc,IAAZliB,EAAW,EAAXA,KAErB,OACI,qBAAK5N,UAAU,YAAf,SACI,qBAAKA,UAAU,cAAf,SAEQ,8BACI,sBAAKA,UAAU,aAAf,UAEA,mBAAGA,UAAU,yBAER,sBAAMA,UAAU,SAAhB,mBACC,qBAAKA,UAAU,SAAf,SAAyB4N,EAAKlB,kB,SC4D7CqjB,EAjEI,SAAC,GAAY,IAAXniB,EAAU,EAAVA,KAAU,EACFzO,aAAY,SAAAC,GAAK,OAAIA,KAAtCC,EADmB,EACnBA,KAAM0C,EADa,EACbA,OACRxC,EAAWC,cAEXgJ,EAAUC,cAiBhB,OACI,sBAAKzI,UAAU,cAAf,UACI,sBAAKA,UAAU,SAAf,UACI,cAACwD,EAAA,EAAD,CAAQnD,IAAKuN,EAAKlO,KAAKT,OAAQwE,KAAK,eAEpC,sBAAKzD,UAAU,YAAf,UACI,oBAAIA,UAAU,MAAd,SACI,cAAC,IAAD,CAAMoR,GAAE,mBAAcxD,EAAKlO,KAAK2C,KAAOrC,UAAU,YAAjD,SACK4N,EAAKlO,KAAKgE,aAGnB,uBAAO1D,UAAU,aAAjB,SACKiU,IAAOrG,EAAKrG,WAAW2M,kBAKpC,sBAAKlU,UAAU,oBAAf,UACI,sBAAMA,UAAU,iBAAiBY,GAAG,WAAWkU,cAAY,WAA3D,wBAIA,sBAAK9U,UAAU,gBAAf,UAEQX,EAAKK,KAAK2C,MAAQuL,EAAKlO,KAAK2C,KAC5B,qCACI,sBAAKrC,UAAU,gBAAgBC,QAzChC,WACnBV,EAAS,CAAEoB,KAAMQ,IAAY+T,OAAQ7T,QAAQ,2BAAKuM,GAAN,IAAYzK,QAAQ,OAwC5C,UACI,sBAAMnD,UAAU,iBAAhB,oBADJ,gBAGA,sBAAKA,UAAU,gBAAgBC,QAxC9B,WACrB,GAAGoG,OAAOC,QAAQ,0CAEd,OADA/G,EAAS4O,YAAW,CAACP,OAAMvO,OAAM0C,YAC1ByG,EAAQmC,KAAK,MAqCJ,UACI,sBAAM3K,UAAU,iBAAhB,4BADJ,qBAMR,sBAAKA,UAAU,gBAAgBC,QAvCxB,WACnBuX,UAAUwY,UAAUC,UAApB,UAAiCC,WAAjC,iBAAkDtiB,EAAKvL,OAsC3C,UACI,sBAAMrC,UAAU,iBAAhB,0BADJ,0BCVL0pB,IApCE,SAAC,GAAqB,IAAnB9b,EAAkB,EAAlBA,KAAMtO,EAAY,EAAZA,MAEhB6wB,EADW9b,cACiBD,WAAT,gBAA+BxG,EAAKvL,KAGvD+tB,IAFWjxB,aAAY,SAAAC,GAAK,OAAIA,KAA9BC,KAEqBqF,MAE7B,OACI,sBAAK1E,UAAU,YAAf,UAER,cAAC,EAAD,CAAY4N,KAAMA,IAEV,cAAC,EAAD,CAAgBA,KAAMA,IAElB,cAAC,EAAD,CAAkBA,KAAMA,EAAMtO,MAAOA,IAEjD,cAAC,EAAD,CAAasO,KAAMA,EAAMtO,MAAOA,IAInB6wB,GAAoB,cAAC,EAAD,CAAiBviB,KAAMA,IAG3CwiB,GAAmBD,GAChB,qCAGQA,GAAoB,cAAC,EAAD,CAAUviB,KAAMA,IACvCuiB,GAAoB,cAAC,EAAD,CAAcviB,KAAMA,Y,mNC7ChDnJ,EAAU,uCAAG,WAAOkC,EAAKjC,GAAZ,eAAAnC,EAAA,sEACJ8tB,IAAMC,IAAN,eAAkB3pB,GAAO,CACvC4pB,QAAS,CAAEC,cAAe9rB,KAFR,cAChBC,EADgB,yBAIfA,GAJe,2CAAH,wDAOV0H,EAAW,uCAAG,WAAO1F,EAAKiH,EAAMlJ,GAAlB,eAAAnC,EAAA,sEACL8tB,IAAMziB,KAAN,eAAmBjH,GAAOiH,EAAM,CAC9C2iB,QAAS,CAAEC,cAAe9rB,KAFP,cACjBC,EADiB,yBAIhBA,GAJgB,2CAAH,0DAcX+I,EAAY,uCAAG,WAAO/G,EAAKiH,EAAMlJ,GAAlB,eAAAnC,EAAA,sEACN8tB,IAAMI,MAAN,eAAoB9pB,GAAOiH,EAAM,CAC/C2iB,QAAS,CAAEC,cAAe9rB,KAFN,cAClBC,EADkB,yBAIjBA,GAJiB,2CAAH,0DAOZyJ,EAAa,uCAAG,WAAOzH,EAAKjC,GAAZ,eAAAnC,EAAA,sEACP8tB,IAAMK,OAAN,eAAqB/pB,GAAO,CAC1C4pB,QAAS,CAAEC,cAAe9rB,KAFL,cACnBC,EADmB,yBAIlBA,GAJkB,2CAAH,yD,qICmBXgsB,UAzCE,WAAO,IAAD,EACQxxB,aAAY,SAAAC,GAAK,OAAIA,KAAxCC,EADW,EACXA,KAAMsjB,EADK,EACLA,SACRpjB,EAAWC,cAFE,EAIKd,oBAAS,GAJd,mBAIZsD,EAJY,KAINC,EAJM,KAMnBxC,qBAAU,WACFkjB,EAAS3C,WACTzgB,EAASsnB,YAAiBxnB,EAAKqF,UAErC,CAACnF,EAAUF,EAAKqF,MAAOie,EAAS3C,YAElC,IAAMxb,EAAc,uCAAG,4BAAAjC,EAAA,6DACnBN,GAAQ,GADW,SAEDwC,YAAW,qBAAD,OAAsC,EAAhBke,EAASve,MAAY/E,EAAKqF,OAFzD,OAEbC,EAFa,OAGnBpF,EAAS,CAACoB,KAAMuf,IAAerb,YAAaxD,QAASsD,EAAIJ,OACzDtC,GAAQ,GAJW,2CAAH,qDAOpB,OACI,gCAEQ0gB,EAAS5c,QACP,qBAAK1F,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,yBAC5C,cAAC,IAAD,CAAWgE,MAAO2e,EAAS3e,MAAOE,OAAQye,EAASze,SAIrDlC,GAAQ,qBAAK3B,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,qBAInD2iB,EAAS5c,SACV,cAAC,IAAD,CAAa7B,OAAQye,EAASze,OAAQE,KAAMue,EAASve,KACrDpC,KAAMA,EAAMwC,eAAgBA,S,uDClC7BosB,UANQ,WACrB,OACE,oD,uGCoCWC,UAhCF,WAAO,IACRjwB,EAAO6E,cAAP7E,GADO,EAESlC,mBAAS,IAFlB,mBAERkP,EAFQ,KAEFkjB,EAFE,KAIN5iB,EAAe/O,aAAY,SAAAC,GAAK,OAAIA,KAApC8O,WACH3O,EAAWC,cAWjB,OATAC,qBAAU,WAGN,GAFAF,EAAS0O,YAAQ,CAACC,aAAYtN,QAE3BsN,EAAWxM,OAAS,EAAE,CACrB,IAAMyH,EAAS+E,EAAWxN,QAAO,SAAAkN,GAAI,OAAIA,EAAKvL,MAAQzB,KACtDkwB,EAAQ3nB,MAEd,CAAC+E,EAAY3O,EAAUqB,IAGrB,sBAAKZ,UAAU,QAAf,UAEwB,IAAhB4N,EAAKlM,QACL,qBAAKrB,IAAK0E,IAAUvE,IAAI,UAAUR,UAAU,yBAI5C4N,EAAK9K,KAAI,SAAAV,GAAI,OACT,cAAC,IAAD,CAAyBwL,KAAMxL,GAAhBA,EAAKC,c","file":"static/js/main.7bbc2a55.chunk.js","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { checkImage } from '../../utils/imageUpload'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { updateProfileUser } from '../../redux/actions/profileAction'\n\nconst EditProfile = ({setOnEdit}) => {\n    const initState = {\n      mobile: '', address: '', website: '', story: '' \n    }\n    const [userData, setUserData] = useState(initState)\n    const {   mobile, address, website, story } = userData\n\n    const [avatar, setAvatar] = useState('')\n\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        setUserData(auth.user)\n    }, [auth.user])\n\n\n    const changeAvatar = (e) => {\n        const file = e.target.files[0]\n\n        const err = checkImage(file)\n        if(err) return dispatch({\n            type: GLOBALTYPES.ALERT, payload: {error: err}\n        })\n\n        setAvatar(file)\n    }\n\n    const handleInput = e => {\n        const { name, value } = e.target\n        setUserData({ ...userData, [name]:value })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(updateProfileUser({userData, avatar, auth}))\n    }\n\n    return (\n        <div className=\"edit_profile\">\n            <button className=\"btn btn-danger btn_close\"\n            onClick={() => setOnEdit(false)}>\n                Close\n            </button>\n\n            <form onSubmit={handleSubmit}>\n                <div className=\"info_avatar\">\n                    <img src={avatar ? URL.createObjectURL(avatar) : auth.user.avatar} \n                    alt=\"avatar\" style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                    <span>\n                        <i className=\"fas fa-camera\" />\n                        <p>Change</p>\n                        <input type=\"file\" name=\"file\" id=\"file_up\"\n                        accept=\"image/*\" onChange={changeAvatar} />\n                    </span>\n                </div>\n\n              \n\n                <div className=\"form-group\">\n                    <label htmlFor=\"mobile\">Mobile</label>\n                    <input type=\"text\" name=\"mobile\" value={mobile}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"address\">Address</label>\n                    <input type=\"text\" name=\"address\" value={address}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"website\">Website</label>\n                    <input type=\"text\" name=\"website\" value={website}\n                    className=\"form-control\" onChange={handleInput} />\n                </div>\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"story\">Story</label>\n                    <textarea name=\"story\" value={story} cols=\"30\" rows=\"4\"\n                    className=\"form-control\" onChange={handleInput} />\n\n                    <small className=\"text-danger d-block text-right\">\n                        {story.length}/200\n                    </small>\n                </div>\n \n\n                <button className=\"btn btn-info w-100\" type=\"submit\">Save</button>\n            </form>\n        </div>\n    )\n}\n\nexport default EditProfile\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { follow, unfollow } from '../redux/actions/profileAction'\n\nconst FollowBtn = ({user}) => {\n    const [followed, setFollowed] = useState(false)\n\n    const { auth, profile, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(auth.user.following.find(item => item._id === user._id)){\n            setFollowed(true)\n        }\n        return () => setFollowed(false)\n    }, [auth.user.following, user._id])\n\n    const handleFollow =  async () => {\n        if(load) return;\n\n        setFollowed(true)\n        setLoad(true)\n        await dispatch(follow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    const handleUnFollow = async () => {\n        if(load) return;\n\n        setFollowed(false)\n        setLoad(true)\n        await dispatch(unfollow({users: profile.users, user, auth, socket}))\n        setLoad(false)\n    }\n\n    return (\n        <>\n        {\n            followed\n            ? <button className=\"btn btn-outline-danger\"\n            onClick={handleUnFollow}>\n                UnFollow\n            </button>\n            : <button className=\"btn btn-outline-info\"\n            onClick={handleFollow}>\n                Follow\n            </button>\n        }\n        </>\n    )\n}\n\nexport default FollowBtn\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Followers = ({users, setShowFollowers}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Followers</h5>\n                <hr/>\n                \n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowers={setShowFollowers} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n                \n\n                <div className=\"close\" onClick={() => setShowFollowers(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Followers\n","import React from 'react'\nimport UserCard from '../UserCard'\nimport FollowBtn from '../FollowBtn'\nimport { useSelector } from 'react-redux'\n\nconst Following = ({users, setShowFollowing}) => {\n    const { auth } = useSelector(state => state)\n    return (\n        <div className=\"follow\">\n            <div className=\"follow_box\">\n                <h5 className=\"text-center\">Following</h5>\n                <hr/>\n\n                <div className=\"follow_content\">\n                    {\n                        users.map(user => (\n                            <UserCard key={user._id} user={user} setShowFollowing={setShowFollowing} >\n                                {\n                                    auth.user._id !== user._id && <FollowBtn user={user} />\n                                }\n                            </UserCard>\n                        ))\n                    }\n                </div>\n\n                <div className=\"close\" onClick={() => setShowFollowing(false)}>\n                    &times;\n                </div>\n                \n            </div>\n        </div>\n    )\n}\n\nexport default Following\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../Avatar'\nimport EditProfile from './EditProfile'\nimport FollowBtn from '../FollowBtn'\nimport Followers from './Followers'\nimport Following from './Following'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Info = ({id, auth, profile, dispatch}) => {\n    const [userData, setUserData] = useState([])\n    const [onEdit, setOnEdit] = useState(false)\n\n    const [showFollowers, setShowFollowers] = useState(false)\n    const [showFollowing, setShowFollowing] = useState(false)\n\n    useEffect(() => {\n        if(id === auth.user._id){\n            setUserData([auth.user])\n        }else{\n            const newData = profile.users.filter(user => user._id === id)\n            setUserData(newData)\n        }\n    }, [id, auth, dispatch, profile.users])\n\n\n    useEffect(() => {\n        if(showFollowers || showFollowing || onEdit){\n            dispatch({ type: GLOBALTYPES.MODAL, payload: true})\n        }else{\n            dispatch({ type: GLOBALTYPES.MODAL, payload: false})\n        }\n    },[showFollowers, showFollowing, onEdit, dispatch])\n    \n\n    return (\n        <div className=\"info\">\n            {\n                userData.map(user => (\n                    <div className=\"info_container\" key={user._id}>\n                        <Avatar src={user.avatar} size=\"supper-avatar\" />\n\n                        <div className=\"info_content\">\n                            <div className=\"info_content_title\">\n                                <h2>{user.username}</h2>\n                                {\n                                    user._id === auth.user._id\n                                    ?  <button className=\"btn btn-outline-info\"\n                                    onClick={() => setOnEdit(true)}>\n                                        Edit Profile\n                                    </button>\n                                    \n                                    : <FollowBtn user={user} />\n                                }\n                               \n                                \n                            </div>\n\n                            <div className=\"follow_btn\">\n                                <span className=\"mr-4\" onClick={() => setShowFollowers(true)}>\n                                    {user.followers.length} Suiveurs\n                                </span>\n                                <span className=\"ml-4\" onClick={() => setShowFollowing(true)}>\n                                    {user.following.length} Suivent\n                                </span>\n                            </div>\n\n                               <p className=\"m-0\">{user.address}</p>\n                            <h6 className=\"m-0\">{user.email}</h6>\n                            <a href={user.website} target=\"_blank\" rel=\"noreferrer\">\n                                {user.website}\n                            </a>\n                            <p>{user.story}</p>\n                        </div>\n\n                        {\n                            onEdit && <EditProfile setOnEdit={setOnEdit} />\n                        }\n\n                        {\n                            showFollowers &&\n                            <Followers \n                            users={user.followers} \n                            setShowFollowers={setShowFollowers} \n                            />\n                        }\n                        {\n                            showFollowing &&\n                            <Following \n                            users={user.following} \n                            setShowFollowing={setShowFollowing} \n                            />\n                        }\n                    </div>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Info\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { PROFILE_TYPES } from '../../redux/actions/profileAction'\n\nconst Posts = ({auth, id, dispatch, profile}) => {\n    const [posts, setPosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        profile.posts.forEach(data => {\n            if(data._id === id){\n                setPosts(data.posts)\n                setResult(data.result)\n                setPage(data.page)\n            }\n        })\n    },[profile.posts, id])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`user_posts/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, page: page + 1, _id: id}\n        dispatch({type: PROFILE_TYPES.UPDATE_POST, payload: newData})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={posts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useState, useEffect } from 'react'\nimport PostThumb from '../PostThumb'\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nconst Saved = ({auth, dispatch}) => {\n    const [savePosts, setSavePosts] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(2)\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        setLoad(true)\n        getDataAPI('getSavePosts', auth.token)\n        .then(res => {\n            setSavePosts(res.data.savePosts)\n            setResult(res.data.result)\n            setLoad(false)\n        })\n        .catch(err => {\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n        })\n\n        return () => setSavePosts([])\n    },[auth.token, dispatch])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`getSavePosts?limit=${page * 9}`, auth.token)\n        setSavePosts(res.data.savePosts)\n        setResult(res.data.result)\n        setPage(page + 1)\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            <PostThumb posts={savePosts} result={result} />\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={result} page={page}\n            load={load} handleLoadMore={handleLoadMore} />\n            \n        </div>\n    )\n}\n\nexport default Saved\n","import React, { useEffect, useState } from 'react'\n\nimport Info from '../../components/profile/Info'\nimport Posts from '../../components/profile/Posts'\nimport Saved from '../../components/profile/Saved'\n\nimport { useSelector, useDispatch } from 'react-redux'\nimport LoadIcon from '../../images/loading.gif'\nimport { getProfileUsers } from '../../redux/actions/profileAction'\nimport { useParams } from 'react-router-dom'\n\n\nconst Profile = () => {\n    const { profile, auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [saveTab, setSaveTab] = useState(false)\n\n    useEffect(() => {\n        if(profile.ids.every(item => item !== id)){\n            dispatch(getProfileUsers({id, auth}))\n        }\n    },[id, auth, dispatch, profile.ids])\n\n    return (\n        <div className=\"profile\">\n            \n            <Info auth={auth} profile={profile} dispatch={dispatch} id={id} />\n\n            {\n                auth.user._id === id &&\n                <div className=\"profile_tab\">\n                    <button className={saveTab ? '' : 'active'} onClick={() => setSaveTab(false)}>Posts</button>\n                    <button className={saveTab ? 'active' : ''} onClick={() => setSaveTab(true)}>Saved</button>\n                </div>\n            }\n\n            {\n                profile.loading \n                ? <img className=\"d-block mx-auto\" src={LoadIcon} alt=\"loading\" />\n                : <>\n                    {\n                        saveTab\n                        ? <Saved auth={auth} dispatch={dispatch} />\n                        : <Posts auth={auth} profile={profile} dispatch={dispatch} id={id} />\n                    }\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Profile\n","import React from 'react'\n\nconst Times = ({total}) => {\n    return (\n        <div>\n            <span>\n                {\n                    (parseInt(total/3600)).toString().length < 2\n                    ? '0' + (parseInt(total/3600))\n                    : (parseInt(total/3600))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (parseInt(total/60)).toString().length < 2\n                    ? '0' + (parseInt(total/60))\n                    : (parseInt(total/60))\n                }\n            </span>\n            <span>:</span>\n\n            <span>\n                {\n                    (total%60).toString().length < 2\n                    ? '0' + (total%60) + 's'\n                    : (total%60) + 's'\n                }\n            </span>\n        </div>\n    )\n}\n\nexport default Times\n","import React from 'react'\nimport Avatar from '../Avatar'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { deleteMessages } from '../../redux/actions/messageAction'\nimport Times from './Times'\n\nconst MsgDisplay = ({user, msg, theme, data}) => {\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleDeleteMessages = () => {\n        if(!data) return;\n        \n        if(window.confirm('Voulez-vous supprimer?')){\n            dispatch(deleteMessages({msg, data, auth}))\n        }\n    }\n\n    return (\n        <>\n            <div className=\"chat_title\">\n                <Avatar src={user.avatar} size=\"small-avatar\" />\n                <span>{user.username}</span>\n            </div>\n\n            <div className=\"you_content\">\n                { \n                    user._id === auth.user._id && \n                    <i className=\"fas fa-trash text-danger\"\n                    onClick={handleDeleteMessages} />\n                }\n\n                <div>\n                    {\n                        msg.text && \n                        <div className=\"chat_text\"\n                        style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                            {msg.text}\n                        </div>\n                    }\n                    {\n                        msg.media.map((item, index) => (\n                            <div key={index}>\n                                {\n                                    item.url.match(/video/i)\n                                    ? videoShow(item.url, theme)\n                                    : imageShow(item.url, theme)\n                                }\n                            </div>\n                        ))\n                    }\n                </div>\n            \n                {\n                    msg.call &&\n                    <button className=\"btn d-flex align-items-center py-3\"\n                    style={{background: '#eee', borderRadius: '10px'}}>\n\n                        <span className=\"material-icons font-weight-bold mr-1\"\n                        style={{ \n                            fontSize: '2.5rem', color: msg.call.times === 0 ? 'crimson' : 'green',\n                            filter: theme ? 'invert(1)' : 'invert(0)'\n                        }}>\n                            {\n                                msg.call.times === 0\n                                ? msg.call.video ? 'videocam_off' : 'phone_disabled'\n                                : msg.call.video ? 'video_camera_front' : 'call'\n                            }\n                        </span>\n\n                        <div className=\"text-left\">\n                            <h6>{msg.call.video ? 'Video Call' : 'Audio Call'}</h6>\n                            <small>\n                                {\n                                    msg.call.times > 0 \n                                    ? <Times total={msg.call.times} />\n                                    : new Date(msg.createdAt).toLocaleTimeString()\n                                }\n                            </small>\n                        </div>\n\n                    </button>\n                }\n            \n            </div>\n\n            <div className=\"chat_time\">\n                {new Date(msg.createdAt).toLocaleString()}\n            </div>\n        </>\n    )\n}\n\nexport default MsgDisplay\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useParams, useHistory } from 'react-router-dom'\nimport MsgDisplay from './MsgDisplay'\nimport Icons from '../Icons'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { imageShow, videoShow } from '../../utils/mediaShow'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { addMessage, getMessages, loadMoreMessages, deleteConversation } from '../../redux/actions/messageAction'\nimport LoadIcon from '../../images/loading.gif'\n\nconst RightSide = () => {\n    const { auth, message, theme, socket, peer } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const { id } = useParams()\n    const [user, setUser] = useState([])\n    const [text, setText] = useState('')\n    const [media, setMedia] = useState([])\n    const [loadMedia, setLoadMedia] = useState(false)\n\n    const refDisplay = useRef()\n    const pageEnd = useRef()\n\n    const [data, setData] = useState([])\n    const [result, setResult] = useState(9)\n    const [page, setPage] = useState(0)\n    const [isLoadMore, setIsLoadMore] = useState(0)\n\n    const history = useHistory()\n\n    useEffect(() => {\n        const newData = message.data.find(item => item._id === id)\n        if (newData) {\n            setData(newData.messages)\n            setResult(newData.result)\n            setPage(newData.page)\n        }\n    }, [message.data, id])\n\n    useEffect(() => {\n        if (id && message.users.length > 0) {\n            setTimeout(() => {\n                refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' })\n            }, 50)\n\n            const newUser = message.users.find(user => user._id === id)\n            if (newUser) setUser(newUser)\n        }\n    }, [message.users, id])\n\n    const handleChangeMedia = (e) => {\n        const files = [...e.target.files]\n        let err = \"\"\n        let newMedia = []\n\n        files.forEach(file => {\n            if (!file) return err = \"ce archive no existe.\"\n\n            if (file.size > 1024 * 1024 * 5) {\n                return err = \"The image/video largest is 5mb.\"\n            }\n\n            return newMedia.push(file)\n        })\n\n        if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } })\n        setMedia([...media, ...newMedia])\n    }\n\n    const handleDeleteMedia = (index) => {\n        const newArr = [...media]\n        newArr.splice(index, 1)\n        setMedia(newArr)\n    }\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n        if (!text.trim() && media.length === 0) return;\n        setText('')\n        setMedia([])\n        setLoadMedia(true)\n\n        let newArr = [];\n        if (media.length > 0) newArr = await imageUpload(media)\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: id,\n            text,\n            media: newArr,\n            createdAt: new Date().toISOString()\n        }\n\n        setLoadMedia(false)\n        await dispatch(addMessage({ msg, auth, socket }))\n        if (refDisplay.current) {\n            refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' })\n        }\n    }\n\n    useEffect(() => {\n        const getMessagesData = async () => {\n            if (message.data.every(item => item._id !== id)) {\n                await dispatch(getMessages({ auth, id }))\n                setTimeout(() => {\n                    refDisplay.current.scrollIntoView({ behavior: 'smooth', block: 'end' })\n                }, 50)\n            }\n        }\n        getMessagesData()\n    }, [id, dispatch, auth, message.data])\n\n\n    // Voir plus\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if (entries[0].isIntersecting) {\n                setIsLoadMore(p => p + 1)\n            }\n        }, {\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    }, [setIsLoadMore])\n\n    useEffect(() => {\n        if (isLoadMore > 1) {\n            if (result >= page * 9) {\n                dispatch(loadMoreMessages({ auth, id, page: page + 1 }))\n                setIsLoadMore(1)\n            }\n        }\n        // eslint-disable-next-line\n    }, [isLoadMore])\n\n    const handleDeleteConversation = () => {\n        if (window.confirm('Voulez-vous supprimer?')) {\n            dispatch(deleteConversation({ auth, id }))\n            return history.push('/message')\n        }\n    }\n\n    // Call\n    const caller = ({ video }) => {\n        const { _id, avatar, username, fullname } = user\n\n        const msg = {\n            sender: auth.user._id,\n            recipient: _id,\n            avatar, username, fullname, video\n        }\n        dispatch({ type: GLOBALTYPES.CALL, payload: msg })\n    }\n\n    const callUser = ({ video }) => {\n        const { _id, avatar, username, fullname } = auth.user\n\n        const msg = {\n            sender: _id,\n            recipient: user._id,\n            avatar, username, fullname, video\n        }\n\n        if (peer.open) msg.peerId = peer._id\n\n        socket.emit('callUser', msg)\n    }\n\n    const handleAudioCall = () => {\n        caller({ video: false })\n        callUser({ video: false })\n    }\n\n    const handleVideoCall = () => {\n        caller({ video: true })\n        callUser({ video: true })\n    }\n\n    return (\n        <>\n            <div className=\"message_header\" style={{ cursor: 'pointer' }} >\n                {\n                    user.length !== 0 && (\n                        <UserCard user={user}>\n                            <div>\n                               \n                                     \n                                        <i className=\"fas fa-phone-alt\"\n                                            onClick={handleAudioCall} />\n\n                                        <i className=\"fas fa-video mx-3\"\n                                            onClick={handleVideoCall} />\n                                   \n                                \n\n                                <i className=\"fas fa-trash text-danger\"\n                                    onClick={handleDeleteConversation} />\n                            </div>\n                        </UserCard>\n                    )\n                }\n\n            </div>\n\n            <div className=\"chat_container\"\n                style={{ height: media.length > 0 ? 'calc(100% - 180px)' : '' }} >\n                <div className=\"chat_display\" ref={refDisplay}>\n                    <button style={{ marginTop: '-25px', opacity: 0 }} ref={pageEnd}>\n                        Voir plus\n                    </button>\n\n                    {\n                        data.map((msg, index) => (\n                            <div key={index}>\n                                {\n                                    msg.sender !== auth.user._id &&\n                                    <div className=\"chat_row other_message\">\n                                        <MsgDisplay user={user} msg={msg} theme={theme} />\n                                    </div>\n                                }\n\n                                {\n                                    msg.sender === auth.user._id &&\n                                    <div className=\"chat_row you_message\">\n                                        <MsgDisplay user={auth.user} msg={msg} theme={theme} data={data} />\n                                    </div>\n                                }\n                            </div>\n                        ))\n                    }\n\n\n                    {\n                        loadMedia &&\n                        <div className=\"chat_row you_message\">\n                            <img src={LoadIcon} alt=\"loading\" />\n                        </div>\n                    }\n\n                </div>\n            </div>\n\n            <div className=\"show_media\" style={{ display: media.length > 0 ? 'grid' : 'none' }} >\n                {\n                    media.map((item, index) => (\n                        <div key={index} id=\"file_media\">\n                            {\n                                item.type.match(/video/i)\n                                    ? videoShow(URL.createObjectURL(item), theme)\n                                    : imageShow(URL.createObjectURL(item), theme)\n                            }\n                            <span onClick={() => handleDeleteMedia(index)} >&times;</span>\n                        </div>\n                    ))\n                }\n            </div>\n\n            <form className=\"chat_input\" onSubmit={handleSubmit}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Entrez votre message...\"\n                    value={text}\n                    onChange={e => setText(e.target.value)}\n                    style={{\n                        filter: theme ? 'invert(1)' : 'invert(0)',\n                        background: theme ? '#040404' : '',\n                        color: theme ? 'white' : ''\n                    }}\n                />\n\n                <Icons setContent={setText} content={text} theme={theme} />\n\n                {/* Solo superuser puede adjuntar archivos */}\n               \n                    <div className=\"file_upload\">\n                        <i className=\"fas fa-image text-danger\" />\n                        <input\n                            type=\"file\"\n                            name=\"file\"\n                            id=\"file\"\n                            multiple\n                            accept=\"image/*,video/*\"\n                            onChange={handleChangeMedia}\n                        />\n                    </div>\n              \n\n                <button\n                    type=\"submit\"\n                    className=\"material-icons\"\n                    disabled={(text || media.length > 0) ? false : true}\n                >\n                    near_me\n                </button>\n            </form>\n\n        </>\n    )\n}\n\nexport default RightSide\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\nimport RightSide from '../../components/message/RightSide'\n\nconst Conversation = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0 left_mess\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0\">\n                <RightSide />\n            </div>\n        </div>\n    )\n}\n\nexport default Conversation\n","import { GLOBALTYPES } from './globalTypes'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { postDataAPI, getDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from './notifyAction'\n\nexport const POST_TYPES = {\n    CREATE_POST: 'CREATE_POST',\n    LOADING_POST: 'LOADING_POST',\n    GET_POSTS: 'GET_POSTS',\n    UPDATE_POST: 'UPDATE_POST',\n    GET_POST: 'GET_POST',\n    DELETE_POST: 'DELETE_POST'\n}\n\nexport const createPost= ({ postData, images, auth, socket }) => async (dispatch) => {\n    let media = []\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } })\n        if (images.length > 0) media = await imageUpload(images)\n\n        const res = await postDataAPI('posts', { postData, images: media }, auth.token)\n\n\n        dispatch({\n            type: POST_TYPES.CREAR_POST,\n            payload: { ...res.data.newPost, user: auth.user }\n        })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } })\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\n\n        // Notificacin\n        const msg = {\n            id: res.data.newPost._id,\n            text: 'Une nouvelle App.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${res.data.newPost._id}`,\n            title: postData.title,\n            image: media[0]?.url\n        }\n\n        dispatch(createNotify({ msg, auth, socket }))\n\n        //  Redirigir a Home despus de publicar el post\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: { error: err.response.data.msg }\n        })\n    }\n}\n\nexport const getPosts = () => async (dispatch) => {\n    try {\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: true })\n        const res = await getDataAPI('posts')\n        \n        dispatch({\n            type: POST_TYPES.GET_POSTS,\n            payload: {...res.data, page: 2}\n        })\n\n        dispatch({ type: POST_TYPES.LOADING_POST, payload: false })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const updatePost = ({ postData, images, auth, status }) => async (dispatch) => {\n    let media = []\n    const imgNewUrl = images.filter(img => !img.url)\n    const imgOldUrl = images.filter(img => img.url)\n        \n    if (status.title === postData.title\n       \n\n\n        && status.Vente === postData.Vente\n        && status.Location === postData.Location\n        \n\n       \n        && status.description === postData.description\n        && status.price === postData.price\n        && status.unidaddeprecio === postData.unidaddeprecio\n        && status.oferta === postData.oferta\n      \n  \n        && status.telefono === postData.telefono\n      \n        && imgNewUrl.length === 0\n        && imgOldUrl.length === status.images.length\n    ) return;\n\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } })\n        if (imgNewUrl.length > 0) media = await imageUpload(imgNewUrl)\n\n        const res = await patchDataAPI(`post/${status._id}`, {\n            ...postData, images: [...imgOldUrl, ...media]\n        }, auth.token)\n\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: res.data.newPost })\n\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: { error: err.response.data.msg }\n        })\n    }\n}\nexport const likePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: [...post.likes, auth.user]}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('likePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/like`, null, auth.token)\n        \n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unLikePost = ({post, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, likes: post.likes.filter(like => like._id !== auth.user._id)}\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost})\n\n    socket.emit('unLikePost', newPost)\n\n    try {\n        await patchDataAPI(`post/${post._id}/unlike`, null, auth.token)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'like your post.',\n            recipients: [post.user._id],\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const getPost = ({detailPost, id}) => async (dispatch) => {\n    if(detailPost.every(post => post._id !== id)){\n        try {\n            const res = await getDataAPI(`post/${id}`)\n            dispatch({ type: POST_TYPES.GET_POST, payload: res.data.post })\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT,\n                payload: {error: err.response.data.msg}\n            })\n        }\n    }\n}\n\nexport const deletePost = ({post, auth, socket}) => async (dispatch) => {\n    dispatch({ type: POST_TYPES.DELETE_POST, payload: post })\n\n    try {\n        const res = await deleteDataAPI(`post/${post._id}`, auth.token)\n\n        // Notify\n        const msg = {\n            id: post._id,\n            text: 'added a new post.',\n            recipients: res.data.newPost.user.followers,\n            url: `/post/${post._id}`,\n        }\n        dispatch(removeNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const savePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: [...auth.user.saved, post._id]}\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`savePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unSavePost = ({post, auth}) => async (dispatch) => {\n    const newUser = {...auth.user, saved: auth.user.saved.filter(id => id !== post._id) }\n    dispatch({ type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n\n    try {\n        await patchDataAPI(`unSavePost/${post._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: {error: err.response.data.msg}\n        })\n    }\n}","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI, deleteDataAPI, getDataAPI, patchDataAPI } from '../../utils/fetchData'\n\nexport const NOTIFY_TYPES = {\n    GET_NOTIFIES: 'GET_NOTIFIES',\n    CREATE_NOTIFY: 'CREATE_NOTIFY',\n    REMOVE_NOTIFY: 'REMOVE_NOTIFY',\n    UPDATE_NOTIFY: 'UPDATE_NOTIFY',\n    UPDATE_SOUND: 'UPDATE_SOUND',\n    DELETE_ALL_NOTIFIES: 'DELETE_ALL_NOTIFIES'\n}\n\nexport const createNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        const res = await postDataAPI('notify', msg, auth.token)\n\n        socket.emit('createNotify', {\n            ...res.data.notify,\n            user: {\n                username: auth.user.username,\n                avatar: auth.user.avatar\n            }\n        })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const removeNotify = ({msg, auth, socket}) => async (dispatch) => {\n    try {\n        await deleteDataAPI(`notify/${msg.id}?url=${msg.url}`, auth.token)\n        \n        socket.emit('removeNotify', msg)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getNotifies = (token) => async (dispatch) => {\n    try {\n        const res = await getDataAPI('notifies', token)\n        \n        dispatch({ type: NOTIFY_TYPES.GET_NOTIFIES, payload: res.data.notifies })\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\n\nexport const isReadNotify = ({msg, auth}) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.UPDATE_NOTIFY, payload: {...msg, isRead: true}})\n    try {\n        await patchDataAPI(`/isReadNotify/${msg._id}`, null, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteAllNotifies = (token) => async (dispatch) => {\n    dispatch({type: NOTIFY_TYPES.DELETE_ALL_NOTIFIES, payload: []})\n    try {\n        await deleteDataAPI('deleteAllNotify', token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","var map = {\n\t\"./UsersActionn\": 58,\n\t\"./UsersActionn.js\": 58,\n\t\"./bloqueos\": 59,\n\t\"./bloqueos.js\": 59,\n\t\"./discover\": 85,\n\t\"./discover.js\": 85,\n\t\"./edicionusers\": 57,\n\t\"./edicionusers.js\": 57,\n\t\"./home\": 60,\n\t\"./home.js\": 60,\n\t\"./informacionaplicacion\": 61,\n\t\"./informacionaplicacion.js\": 61,\n\t\"./listadeusuariosbloqueadoss\": 62,\n\t\"./listadeusuariosbloqueadoss.js\": 62,\n\t\"./login\": 38,\n\t\"./login.js\": 38,\n\t\"./message\": 51,\n\t\"./message/\": 51,\n\t\"./message/[id]\": 103,\n\t\"./message/[id].js\": 103,\n\t\"./message/index\": 51,\n\t\"./message/index.js\": 51,\n\t\"./paginabloqueos\": 86,\n\t\"./paginabloqueos.js\": 86,\n\t\"./post/[id]\": 87,\n\t\"./post/[id].js\": 87,\n\t\"./profile/[id]\": 102,\n\t\"./profile/[id].js\": 102,\n\t\"./register\": 56,\n\t\"./register.js\": 56,\n\t\"./roles\": 63,\n\t\"./roles.js\": 63\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 121;","import { GLOBALTYPES, DeleteData } from '../actions/globalTypes'\nimport { postDataAPI, getDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify } from './notifyAction';\n \nexport const MESS_TYPES = {\n    ADD_USER: 'ADD_USER',\n    ADD_MESSAGE: 'ADD_MESSAGE',\n    GET_CONVERSATIONS: 'GET_CONVERSATIONS',\n    GET_MESSAGES: 'GET_MESSAGES',\n    UPDATE_MESSAGES: 'UPDATE_MESSAGES',\n    DELETE_MESSAGES: 'DELETE_MESSAGES',\n    DELETE_CONVERSATION: 'DELETE_CONVERSATION',\n    CHECK_ONLINE_OFFLINE: 'CHECK_ONLINE_OFFLINE'\n}\n\n\n\nexport const addMessage = ({ msg, auth, socket }) => async (dispatch) => {\n    // Despacha la accin para agregar el mensaje al estado\n    dispatch({ type: MESS_TYPES.ADD_MESSAGE, payload: msg });\n\n    // Emitir el mensaje a travs de socket.io\n    const { _id, avatar, username } = auth.user;\n    socket.emit('addMessage', { ...msg, user: { _id, avatar, username } });\n\n    try {\n        // Enviar el mensaje al servidor\n        await postDataAPI('message', msg, auth.token);\n\n        // Crear la notificacin para el usuario que recibe el mensaje\n        const notificationMsg = {\n            id: auth.user._id, // ID del usuario que enva el mensaje\n            text: 'te envi un mensaje.', // Texto de la notificacin\n            recipients: [msg.recipient], // ID del usuario que recibe el mensaje\n            url: `/message/${msg.recipient}`, // URL para redirigir al hacer clic\n            content: msg.text, // Contenido del mensaje (opcional)\n            image: auth.user.avatar, // Imagen del usuario que enva el mensaje (opcional)\n        };\n\n        // Despachar la accin para crear la notificacin\n        dispatch(createNotify({ msg: notificationMsg, auth, socket }));\n\n    } catch (err) {\n        // Manejar errores\n        dispatch({\n            type: GLOBALTYPES.ALERT,\n            payload: { error: err.response.data.msg },\n        });\n    }\n};\nexport const getConversations = ({auth, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`conversations?limit=${page * 9}`, auth.token)\n        \n        let newArr = [];\n        res.data.conversations.forEach(item => {\n            item.recipients.forEach(cv => {\n                if(cv._id !== auth.user._id){\n                    newArr.push({...cv, text: item.text, media: item.media, call: item.call})\n                }\n            })\n        })\n\n        dispatch({\n            type: MESS_TYPES.GET_CONVERSATIONS, \n            payload: {newArr, result: res.data.result}\n        })\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const getMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.GET_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const loadMoreMessages = ({auth, id, page = 1}) => async (dispatch) => {\n    try {\n        const res = await getDataAPI(`message/${id}?limit=${page * 9}`, auth.token)\n        const newData = {...res.data, messages: res.data.messages.reverse()}\n\n        dispatch({type: MESS_TYPES.UPDATE_MESSAGES, payload: {...newData, _id: id, page}})\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteMessages = ({msg, data, auth}) => async (dispatch) => {\n    const newData = DeleteData(data, msg._id)\n    dispatch({type: MESS_TYPES.DELETE_MESSAGES, payload: {newData, _id: msg.recipient}})\n    try {\n        await deleteDataAPI(`message/${msg._id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}\n\nexport const deleteConversation = ({auth, id}) => async (dispatch) => {\n    dispatch({type: MESS_TYPES.DELETE_CONVERSATION, payload: id})\n    try {\n        await deleteDataAPI(`conversation/${id}`, auth.token)\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export default __webpack_public_path__ + \"static/media/loading.10625dac.gif\";","import React from 'react'\nimport Avatar from './Avatar'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst UserCard = ({children, user, border, handleClose, setShowFollowers, setShowFollowing, msg}) => {\n\n    const { theme } = useSelector(state => state)\n\n    const handleCloseAll = () => {\n        if(handleClose) handleClose()\n        if(setShowFollowers) setShowFollowers(false)\n        if(setShowFollowing) setShowFollowing(false)\n    }\n\n    const showMsg = (user) => {\n        return(\n            <>\n                <div style={{filter: theme ? 'invert(1)' : 'invert(0)'}}>\n                    {user.text}\n                </div>\n                {\n                    user.media.length > 0 && \n                    <div>\n                        {user.media.length} <i className=\"fas fa-image\" />\n                    </div>\n                }\n\n                {\n                    user.call &&\n                    <span className=\"material-icons\">\n                        {\n                            user.call.times === 0\n                            ? user.call.video ? 'videocam_off' : 'phone_disabled'\n                            : user.call.video ? 'video_camera_front' : 'call'\n                        }\n                    </span>\n                }\n            </>\n        )\n    }\n\n\n    return (\n        <div className={`d-flex p-2 align-items-center justify-content-between w-100 ${border}`}>\n            <div>\n                <Link to={`/profile/${user._id}`} onClick={handleCloseAll}\n                className=\"d-flex align-items-center\">\n                    \n                    <Avatar src={user.avatar} size=\"big-avatar\" />\n\n                    <div className=\"ml-1\" style={{transform: 'translateY(-2px)'}}>\n                        <span className=\"d-block\">{user.username}</span>\n                        \n                        <small style={{opacity: 0.7}}>\n                            {\n                                msg \n                                ? showMsg(user)\n                                : user.username\n                            }\n                        </small>\n                    </div>\n                </Link>\n            </div>\n            \n            {children}\n        </div>\n    )\n}\n\nexport default UserCard\n","import React from 'react'\n\nconst NotFound = () => {\n    return (\n        <div className=\"position-relative\" style={{minHeight: 'calc(100vh - 70px)'}}>\n            <h2 className=\"position-absolute text-secondary\"\n            style={{top: '50%', left: '50%', transform: 'translate(-50%, -50%)'}}>\n                404 | Not Found.\n            </h2>\n        </div>\n    )\n}\n\nexport default NotFound\n","import React from 'react'\nimport {useParams} from 'react-router-dom'\nimport NotFound from '../components/NotFound'\nimport { useSelector } from 'react-redux'\n\nconst generatePage = (pageName) => {\n    const component = () => require(`../pages/${pageName}`).default\n\n    try {\n        return React.createElement(component())\n    } catch (err) {\n        return <NotFound />\n    }\n}\n\nconst PageRender = () => {\n    const {page, id} = useParams()\n    const { auth } = useSelector(state => state)\n\n    let pageName = \"\";\n\n    if(auth.token){\n        if(id){\n            pageName = `${page}/[id]`\n        }else{\n            pageName = `${page}`\n        }\n    }\n\n    return generatePage(pageName)\n}\n\nexport default PageRender\n","import { Route, Redirect} from 'react-router-dom'\n\nconst PrivateRouter = (props) => {\n    const firstLogin = localStorage.getItem('firstLogin')\n    return firstLogin ? <Route {...props} /> : <Redirect to=\"/\" />\n}\n\nexport default PrivateRouter\n","import React from 'react'\n\nconst Loading = () => {\n    return (\n        <div className=\"position-fixed w-100 h-100 text-center loading\"\n        style={{background: \"#0008\", color: \"white\", top: 0, left: 0, zIndex: 50}}>\n\n            <svg width=\"205\" height=\"250\" viewBox=\"0 0 40 50\">\n                <polygon stroke=\"#fff\" strokeWidth=\"1\" fill=\"none\"\n                points=\"20,1 40,40 1,40\" />\n                <text fill=\"#fff\" x=\"5\" y=\"47\">Loading</text>\n            </svg>\n            \n        </div>\n    )\n}\n\nexport default Loading\n","import React from 'react'\n\nconst Toast = ({msg, handleShow, bgColor}) => {\n    return (\n        <div className={`toast show position-fixed text-light ${bgColor}`}\n        style={{top: '5px', right: '5px', minWidth: '200px', zIndex: 50}}>\n            <div className={`toast-header text-light ${bgColor}`}>\n                <strong className=\"mr-auto text-light\">{msg.title}</strong>\n                <button className=\"ml-2 mb-1 close text-light\"\n                data-dismiss=\"toast\" style={{outline: 'none'}}\n                onClick={handleShow}>\n                    &times;\n                </button>\n            </div>\n            <div className=\"toast-body\">\n                {msg.body}\n            </div>\n        </div>\n    )\n}\n\nexport default Toast\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\n\nimport Loading from './Loading'\nimport Toast from './Toast'\n\nconst Notify = () => {\n    const { alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    return (\n        <div>\n            {alert.loading && <Loading />}\n\n            {\n                alert.error && \n                <Toast msg={{title: 'Error', body: alert.error}}\n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})} \n                bgColor=\"bg-danger\" />\n            }\n\n            {\n                alert.success && \n                <Toast msg={{title: 'Success', body: alert.success}} \n                handleShow={() => dispatch({type: GLOBALTYPES.ALERT, payload: {}})}\n                bgColor=\"bg-success\" />\n            }\n        </div>\n    )\n}\n\nexport default Notify\n","import React from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport NoNotice from '../images/notice.png'\nimport { Link } from 'react-router-dom'\nimport Avatar from './Avatar'\nimport moment from 'moment'\nimport { isReadNotify, NOTIFY_TYPES, deleteAllNotifies } from '../redux/actions/notifyAction'\n\nconst NotifyModal = () => {\n    const { auth, notify } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleIsRead = (msg) => {\n        dispatch(isReadNotify({msg, auth}))\n    }\n\n    const handleSound = () => {\n        dispatch({type: NOTIFY_TYPES.UPDATE_SOUND, payload: !notify.sound})\n    }\n\n    const handleDeleteAll = () => {\n        const newArr = notify.data.filter(item => item.isRead === false)\n        if(newArr.length === 0) return dispatch(deleteAllNotifies(auth.token))\n\n        if(window.confirm(`You have ${newArr.length} unread notices. Are you sure you want to delete all?`)){\n            return dispatch(deleteAllNotifies(auth.token))\n        }\n    }\n\n    return (\n        <div style={{minWidth: '300px'}}>\n            <div className=\"d-flex justify-content-between align-items-center px-3\">\n                <h3>Notification</h3>\n                {\n                    notify.sound \n                    ? <i className=\"fas fa-bell text-danger\" \n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n\n                    : <i className=\"fas fa-bell-slash text-danger\"\n                    style={{fontSize: '1.2rem', cursor: 'pointer'}}\n                    onClick={handleSound} />\n                }\n            </div>\n            <hr className=\"mt-0\" />\n\n            {\n                notify.data.length === 0 &&\n                <img src={NoNotice} alt=\"NoNotice\" className=\"w-100\" />\n            }\n\n            <div style={{maxHeight: 'calc(100vh - 200px)', overflow: 'auto'}}>\n                {\n                    notify.data.map((msg, index) => (\n                        <div key={index} className=\"px-2 mb-3\" >\n                            <Link to={`${msg.url}`} className=\"d-flex text-dark align-items-center\"\n                            onClick={() => handleIsRead(msg)}>\n                                <Avatar src={msg.user.avatar} size=\"big-avatar\" />\n\n                                <div className=\"mx-1 flex-fill\">\n                                    <div>\n                                        <strong className=\"mr-1\">{msg.user.username}</strong>\n                                        <span>{msg.text}</span>\n                                    </div>\n                                    {msg.content && <small>{msg.content.slice(0,20)}...</small>}\n                                </div>\n\n                                {\n                                    msg.image &&\n                                    <div style={{width: '30px'}}>\n                                        {\n                                            msg.image.match(/video/i)\n                                            ? <video src={msg.image} width=\"100%\" />\n                                            : <Avatar src={msg.image} size=\"medium-avatar\" />\n                                        }\n                                    </div>\n                                }\n                                \n                            </Link>\n                            <small className=\"text-muted d-flex justify-content-between px-2\">\n                                {moment(msg.createdAt).fromNow()}\n                                {\n                                    !msg.isRead && <i className=\"fas fa-circle text-primary\" />\n                                }\n                            </small>\n                        </div>\n                    ))\n                }\n\n            </div>\n\n            <hr className=\"my-1\" />\n            <div className=\"text-right text-danger mr-2\" style={{cursor: 'pointer'}}\n            onClick={handleDeleteAll}>\n                Delete All\n            </div>\n\n        </div>\n    )\n}\n\nexport default NotifyModal\n","export default \"data:image/png;base64,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\"","import React from 'react';\nimport { Link, useLocation } from 'react-router-dom';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { logout } from '../../redux/actions/authAction';\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes';\nimport Avatar from '../Avatar';\nimport NotifyModal from '../NotifyModal';\n\n\nconst Menu = () => {\n    const dispatch = useDispatch();\n    const { auth, theme, notify } = useSelector(state => state); // Obtn el estado de autenticacin, tema y notificaciones\n\n    const { pathname } = useLocation(); // Para verificar la ruta actual\n\n    const navLinks = [\n        { label: 'Home', icon: 'home', path: '/' },\n        { label: 'Message', icon: 'near_me', path: '/message' },\n    ]\n\n    const isActive = (pn) => {\n        if (pn === pathname) return 'active';\n    };\n\n\n    return (\n        <div className=\"menu\">\n            <ul className=\"navbar-nav flex-row\">\n                {navLinks.map((link, index) => (\n                    <li className={`nav-item px-2 ${isActive(link.path)}`} key={index}>\n                        <Link\n                            className=\"nav-link\"\n                            to={link.path || '#'}\n                            onClick={(e) => {\n                                // Solo prevenir la navegacin si hay una funcin onClick\n                                if (link.onClick) {\n                                    e.preventDefault();\n                                    link.onClick();\n                                }\n                            }}\n                        >\n                            {link.icon.startsWith('fa') ? (\n                                <i className={link.icon}></i>\n                            ) : (\n                                <span className=\"material-icons\">{link.icon}</span>\n                            )}\n                        </Link>\n                    </li>\n                ))}\n\n                <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\n                    <span className=\"nav-link position-relative\" id=\"navbarDropdown\"\n                        role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <span className=\"material-icons\"\n                            style={{ color: notify.data.length > 0 ? 'crimson' : '' }}>\n                            favorite\n                        </span>\n                        <span className=\"notify_length\">{notify.data.length}</span>\n                    </span>\n                    <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\"\n                        style={{ transform: 'translateX(75px)' }}>\n                        <NotifyModal />\n                    </div>\n                </li>\n\n                {/* Men para usuarios autenticados */}\n                {auth.user ? (\n                    <li className=\"nav-item dropdown\" style={{ opacity: 1 }}>\n                        <span className=\"nav-link dropdown-toggle\" id=\"navbarDropdown\"\n                            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                            <Avatar src={auth.user.avatar} size=\"medium-avatar\" />\n                        </span>\n                        <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n\n\n                            <Link className=\"dropdown-item\" to='/message'>chat</Link>\n                            <Link className=\"dropdown-item\" to='/informacionaplicacion'>Info App</Link>\n\n                            <Link className=\"dropdown-item\" to='/roles'>Roles</Link>\n\n                         \n\n\n                            {auth.user.role === \"admin\" && (\n                                <>\n\n                                    <div className=\"dropdown-item\" onClick={() => dispatch({ type: GLOBALTYPES.STATUS, payload: true })}>\n                                        Ajouter un annnoces\n                                    </div>\n\n                                    <Link className=\"dropdown-item\" to='/roles'>Roles</Link>\n                                    <Link className=\"dropdown-item\" to='/usersaction'>Usuarios accin</Link>\n                                    <Link className=\"dropdown-item\" to='/usersedicion'>Edicin de usuarios</Link>\n                                    <Link className=\"dropdown-item\" to='/listadeusuariosbloqueadoss'>Usuarios bloqueados</Link>\n                                </>\n                            )}\n\n                            {/* Enlace al perfil */}\n                            <Link className=\"dropdown-item\" to={`/profile/${auth.user._id}`}>Profile</Link>\n\n                            {/* Cambiar tema */}\n                            <label htmlFor=\"theme\" className=\"dropdown-item\"\n                                onClick={() => dispatch({ type: GLOBALTYPES.THEME, payload: !theme })}>\n                                {theme ? 'Light mode' : 'Dark mode'}\n                            </label>\n\n                            {/* Logout */}\n                            <div className=\"dropdown-divider\"></div>\n                            <Link className=\"dropdown-item\" to=\"/\" onClick={() => dispatch(logout())}>\n                                Desconexion\n                            </Link>\n                        </div>\n                    </li>\n                ) : (\n                    // Men para usuarios no autenticados\n                    <div className=\"btn-group user-icon-container\">\n                        <i className=\"fas fa-user user-icon\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\" />\n                        <div className=\"dropdown-menu\">\n                            <Link className=\"dropdown-item\" to='/informacionaplicacion'>Info aplicacion</Link>\n                            <Link className=\"dropdown-item\" to='/login'>Se connecter</Link>\n                            <div className=\"dropdown-divider\"></div>\n                            <Link className=\"dropdown-item\" to='/register'>S'inscrire</Link>\n                        </div>\n                    </div>\n                )}\n            </ul>\n        </div>\n    );\n};\n\nexport default Menu;","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport UserCard from '../UserCard'\nimport LoadIcon from '../../images/loading.gif'\n\nconst Search = () => {\n    const [search, setSearch] = useState('')\n    const [users, setUsers] = useState([])\n\n    const { auth } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const [load, setLoad] = useState(false)\n\n\n    const handleSearch = async (e) => {\n        e.preventDefault()\n        if(!search) return;\n\n        try {\n            setLoad(true)\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setUsers(res.data.users)\n            setLoad(false)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleClose = () => {\n        setSearch('')\n        setUsers([])\n    }\n\n    return (\n        <form className=\"search_form\" onSubmit={handleSearch}>\n            <input type=\"text\" name=\"search\" value={search} id=\"search\" title=\"Enter to Search\"\n            onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\n\n            <div className=\"search_icon\" style={{opacity: search ? 0 : 0.3}}>\n                <span className=\"material-icons\">search</span>\n                <span>Utilisateurs</span>\n            </div>\n\n            <div className=\"close_search\" onClick={handleClose}\n            style={{opacity: users.length === 0 ? 0 : 1}} >\n                &times;\n            </div>\n\n            <button type=\"submit\" style={{display: 'none'}}>Search</button>\n\n            { load && <img className=\"loading\" src={LoadIcon} alt=\"loading\"  /> }\n\n            <div className=\"users\">\n                {\n                    search && users.map(user => (\n                        <UserCard \n                        key={user._id} \n                        user={user} \n                        border=\"border\"\n                        handleClose={handleClose} \n                        />\n                    ))\n                }\n            </div>\n        </form>\n    )\n}\n\nexport default Search\n","import React from 'react';\nimport { Link } from 'react-router-dom';\nimport Menu from './Menu';\nimport Search from './Search';\n\nconst Header = () => {\n    return (\n        <div className=\"header bg-light\">\n            <nav className=\"navbar navbar-expand-lg navbar-light \n            bg-light justify-content-between align-middle\">\n\n                <Link to=\"/\" className=\"logo d-flex align-items-center\"\n                    onClick={() => window.scrollTo({ top: 0 })}>\n                    {/* Logo desde la carpeta public */}\n                    <img \n                        src=\"/logoalgeria.png\"  // Ruta directa desde /public\n                        alt=\"Logo alegeia\" \n                        style={{ height: '40px', marginRight: '10px' }} \n                    />\n                    <h1 className=\"navbar-brand text-uppercase p-0 m-0\">\n                    Aps Algrie\n                    </h1>\n                </Link>\n\n                <Search />\n                <Menu />\n            </nav>\n        </div>\n    );\n};\n\nexport default Header;\n\n \n\n","import React, { useState, useRef, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\n\r\nimport { imageShow, videoShow } from '../utils/mediaShow';\r\nimport { GLOBALTYPES } from '../redux/actions/globalTypes';\r\n\r\n\r\nimport { createPost, updatePost } from '../redux/actions/postAction';\r\n \r\n// Funcin que devuelve el icono segn el tipo\r\n\r\nconst StatusModal = () => {\r\n    const { auth, theme, socket, status, } = useSelector((state) => state);\r\n\r\n    const dispatch = useDispatch()\r\n    \r\n    const initilastate = {\r\n\r\n        title: \"\",\r\n        link: \"\",\r\n        description: \"\",\r\n        price: \"\",\r\n        oferta: \"\",\r\n        unidaddeprecio: \"\",\r\n\r\n        telefono: \"\",\r\n\r\n\r\n    }\r\n\r\n\r\n    const [postData, setPostData] = useState(initilastate)\r\n    const [images, setImages] = useState([])\r\n\r\n\r\n    const [stream, setStream] = useState(false)\r\n    const videoRef = useRef()\r\n    const refCanvas = useRef()\r\n    const [tracks, setTracks] = useState('')\r\n\r\n\r\n\r\n\r\n    const handleChangeInput = e => {\r\n        const { name, value } = e.target;\r\n        setPostData(prev => ({\r\n            ...prev,\r\n            [name]: value\r\n        }));\r\n    }\r\n\r\n \r\n\r\n    const handleChangeImages = e => {\r\n        const files = [...e.target.files]\r\n        let err = \"\"\r\n        let newImages = []\r\n\r\n        files.forEach(file => {\r\n            if (!file) return err = \"File does not exist.\"\r\n\r\n            if (file.size > 1024 * 1024 * 5) {\r\n                return err = \"The image/video largest is 5mb.\"\r\n            }\r\n\r\n            return newImages.push(file)\r\n        })\r\n\r\n        if (err) dispatch({ type: GLOBALTYPES.ALERT, payload: { error: err } })\r\n        setImages([...images, ...newImages])\r\n    }\r\n\r\n    const deleteImages = (index) => {\r\n        const newArr = [...images]\r\n        newArr.splice(index, 1)\r\n        setImages(newArr)\r\n    }\r\n\r\n    const handleStream = () => {\r\n        setStream(true)\r\n        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {\r\n            navigator.mediaDevices.getUserMedia({ video: true })\r\n                .then(mediaStream => {\r\n                    videoRef.current.srcObject = mediaStream\r\n                    videoRef.current.play()\r\n\r\n                    const track = mediaStream.getTracks()\r\n                    setTracks(track[0])\r\n                }).catch(err => console.log(err))\r\n        }\r\n    }\r\n\r\n    const handleCapture = () => {\r\n        const width = videoRef.current.clientWidth;\r\n        const height = videoRef.current.clientHeight;\r\n\r\n        refCanvas.current.setAttribute(\"width\", width)\r\n        refCanvas.current.setAttribute(\"height\", height)\r\n\r\n        const ctx = refCanvas.current.getContext('2d')\r\n        ctx.drawImage(videoRef.current, 0, 0, width, height)\r\n        let URL = refCanvas.current.toDataURL()\r\n        setImages([...images, { camera: URL }])\r\n    }\r\n\r\n    const handleStopStream = () => {\r\n        tracks.stop()\r\n        setStream(false)\r\n    }\r\n    const handleSubmit = (e) => {\r\n        e.preventDefault();\r\n\r\n        if (images.length === 0) {\r\n            return dispatch({\r\n                type: GLOBALTYPES.ALERT,\r\n                payload: { error: \"Por favor agrega una foto o video.\" },\r\n            });\r\n        }\r\n\r\n        if (status.onEdit) {\r\n            dispatch(updatePost({ postData, images, auth, status }));\r\n        } else {\r\n            dispatch(createPost({ postData, images, auth, socket }));\r\n        }\r\n\r\n        setPostData(initilastate);\r\n        setImages([]);\r\n        if (tracks) tracks.stop();\r\n        dispatch({ type: GLOBALTYPES.STATUS, payload: false });\r\n    };\r\n\r\n    useEffect(() => {\r\n        console.log(\"status en useEffect:\", status);\r\n        if (status?.onEdit) {\r\n            setPostData({\r\n                title: status.title || \"\",\r\n\r\n                description: status.description || \"\",\r\n                price: status.price || \"\",\r\n                unidaddeprecio: status.unidaddeprecio || \"\",\r\n                oferta: status.oferta || \"\",\r\n                link: status.link || \"\",\r\n\r\n                telefono: status.telefono || \"\",\r\n\r\n\r\n            });\r\n            setImages(status.images || []);\r\n\r\n\r\n        }\r\n    }, [status]);\r\n\r\n\r\n    return (\r\n        <div className=\"status_modal\">\r\n            <form onSubmit={handleSubmit}>\r\n                <div className=\"status_header\">\r\n                    <h5 className=\"m-0\">Crear nueva app</h5>\r\n                    <span onClick={() => dispatch({\r\n                        type: GLOBALTYPES.STATUS, payload: false\r\n                    })}>\r\n                        &times;\r\n                    </span>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <select\r\n                        name=\"title\"  // Si es necesario, cambia el nombre a \"tipoAplicacion\"\r\n                        value={postData.title}  // Asegrate de que el estado coincida\r\n                        onChange={handleChangeInput}\r\n                        className=\"form-control\"\r\n                    >\r\n                        <option value=\"\">Tipo de aplicacin/sitio</option>\r\n                        <option value=\"Aplicacin Web\">Aplicacin Web</option>\r\n                        <option value=\"Aplicacin Mvil\">Aplicacin Mvil (iOS/Android)</option>\r\n                        <option value=\"PWA\">PWA (Web + Mvil)</option>\r\n                        <option value=\"Web Responsive\">Sitio Web Responsive</option>\r\n                        <option value=\"Landing Page\">Landing Page</option>\r\n                        <option value=\"Tienda Online\">Tienda Online (E-commerce)</option>\r\n                        <option value=\"Aplicacin de Escritorio\">Aplicacin de Escritorio</option>\r\n                        <option value=\"API/Servicio Backend\">API/Servicio Backend</option>\r\n                        <option value=\"Juego Web/Mvil\">Juego Web/Mvil</option>\r\n                    </select>\r\n                </div>\r\n                <div className=\"form-group\">\r\n                    <input\r\n                        type=\"text\"\r\n                        name=\"link\"\r\n                        placeholder='Link'\r\n                        value={postData.link}\r\n                        className=\"form-control\"\r\n                        onChange={handleChangeInput}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"status_body\">\r\n                    <textarea name=\"description\" value={postData.description}\r\n                        placeholder='Descripcion'\r\n                        onChange={handleChangeInput}\r\n                        style={{\r\n                            filter: theme ? 'invert(1)' : 'invert(0)',\r\n                            color: theme ? 'white' : '#111',\r\n                            background: theme ? 'rgba(0,0,0,.03)' : '',\r\n                        }} />\r\n\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"number\"\r\n                            name=\"price\"\r\n                            placeholder='Precio'\r\n                            value={postData.price}\r\n                            className=\"form-control\"\r\n                            onChange={handleChangeInput}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <select\r\n                            multiple={false}\r\n                            name=\"unidaddeprecio\"\r\n                            value={postData.unidaddeprecio}\r\n                            onChange={handleChangeInput}\r\n                            className=\"form-control\"\r\n                        >\r\n                            <option  >Unit de prix</option>\r\n                            <option value=\"DA\">DA</option>\r\n                            <option value=\"Millions\">Millions</option>\r\n                            <option value=\"Milliard\">Milliard</option>\r\n                            <option value=\"DA (m)\">DA (m)</option>\r\n                            <option value=\"Millions (m) \">Millions (m)</option>\r\n\r\n                        </select>\r\n                    </div>\r\n\r\n                    <div className=\"form-group\">\r\n                        <select\r\n                            multiple={false}\r\n                            name=\"oferta\"\r\n                            value={postData.oferta}\r\n                            onChange={handleChangeInput}\r\n                            className=\"form-control\"\r\n                        >\r\n                            <option >Type D'offre</option>\r\n                            <option value=\"Fixe\">Fixe</option>\r\n                            <option value=\"Ngociable\">Ngociable</option>\r\n                            <option value=\"Offert\">Offert</option>\r\n\r\n                        </select>\r\n                    </div>\r\n\r\n\r\n                    <div className=\"form-group\">\r\n                        <input\r\n                            type=\"text\"\r\n                            name=\"telefono\"\r\n                            placeholder='Telefono'\r\n                            value={postData.telefono}\r\n                            className=\"form-control\"\r\n                            onChange={handleChangeInput}\r\n                        />\r\n                    </div>\r\n\r\n                    <div className=\"show_images\">\r\n                        {\r\n                            images.map((img, index) => (\r\n                                <div key={index} id=\"file_img\">\r\n                                    {\r\n                                        img.camera ? imageShow(img.camera, theme)\r\n                                            : img.url\r\n                                                ? <>\r\n                                                    {\r\n                                                        img.url.match(/video/i)\r\n                                                            ? videoShow(img.url, theme)\r\n                                                            : imageShow(img.url, theme)\r\n                                                    }\r\n                                                </>\r\n                                                : <>\r\n                                                    {\r\n                                                        img.type.match(/video/i)\r\n                                                            ? videoShow(URL.createObjectURL(img), theme)\r\n                                                            : imageShow(URL.createObjectURL(img), theme)\r\n                                                    }\r\n                                                </>\r\n                                    }\r\n                                    <span onClick={() => deleteImages(index)}>&times;</span>\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </div>\r\n\r\n                    {\r\n                        stream &&\r\n                        <div className=\"stream position-relative\">\r\n                            <video autoPlay muted ref={videoRef} width=\"100%\" height=\"100%\"\r\n                                style={{ filter: theme ? 'invert(1)' : 'invert(0)' }} />\r\n\r\n                            <span onClick={handleStopStream}>&times;</span>\r\n                            <canvas ref={refCanvas} style={{ display: 'none' }} />\r\n                        </div>\r\n                    }\r\n\r\n                    <div className=\"input_images\">\r\n                        {\r\n                            stream\r\n                                ? <i className=\"fas fa-camera\" onClick={handleCapture} />\r\n                                : <>\r\n                                    <i className=\"fas fa-camera\" onClick={handleStream} />\r\n\r\n                                    <div className=\"file_upload\">\r\n                                        <i className=\"fas fa-image\" />\r\n                                        <input type=\"file\" name=\"file\" id=\"file\"\r\n                                            multiple accept=\"image/*,video/*\" onChange={handleChangeImages} />\r\n                                    </div>\r\n                                </>\r\n                        }\r\n\r\n                    </div>\r\n\r\n                </div>\r\n\r\n                <div className=\"status_footer\">\r\n                    <button className=\"btn btn-secondary w-100\" type=\"submit\">\r\n                        Post\r\n                    </button>\r\n                </div>\r\n\r\n            </form>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default StatusModal\r\n","import { GLOBALTYPES } from '../actions/globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const SUGGES_TYPES = {\n    LOADING: 'LOADING_SUGGES',\n    GET_USERS: 'GET_USERS_SUGGES',\n}\n\nexport const getSuggestions = (token) => async (dispatch) => {\n    try {\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: true })\n        \n        const res = await getDataAPI('suggestionsUser', token)\n        dispatch({ type: SUGGES_TYPES.GET_USERS, payload: res.data })\n\n        dispatch({ type: SUGGES_TYPES.LOADING, payload: false })\n        \n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","export default __webpack_public_path__ + \"static/media/got-it-done-613.89a311f0.mp3\";","import React, { useEffect, useRef } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { POST_TYPES } from './redux/actions/postAction'\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\nimport { NOTIFY_TYPES } from './redux/actions/notifyAction'\nimport { MESS_TYPES } from './redux/actions/messageAction'\n\nimport audiobell from './audio/got-it-done-613.mp3'\n\n\nconst spawnNotification = (body, icon, url, title) => {\n    let options = {\n        body, icon\n    }\n    let n = new Notification(title, options)\n\n    n.onclick = e => {\n        e.preventDefault()\n        window.open(url, '_blank')\n    }\n}\n\nconst SocketClient = () => {\n    const { auth, socket, notify, online, call } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const audioRef = useRef()\n\n    // joinUser\n    useEffect(() => {\n        socket.emit('joinUser', auth.user)\n    },[socket, auth.user])\n\n    // Likes\n    useEffect(() => {\n        socket.on('likeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('likeToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('unLikeToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('unLikeToClient')\n    },[socket, dispatch])\n\n\n    // Comments\n    useEffect(() => {\n        socket.on('createCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('createCommentToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('deleteCommentToClient', newPost =>{\n            dispatch({type: POST_TYPES.UPDATE_POST, payload: newPost})\n        })\n\n        return () => socket.off('deleteCommentToClient')\n    },[socket, dispatch])\n\n\n    // Follow\n    useEffect(() => {\n        socket.on('followToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('followToClient')\n    },[socket, dispatch, auth])\n\n    useEffect(() => {\n        socket.on('unFollowToClient', newUser =>{\n            dispatch({type: GLOBALTYPES.AUTH, payload: {...auth, user: newUser}})\n        })\n\n        return () => socket.off('unFollowToClient')\n    },[socket, dispatch, auth])\n\n\n    // Notification\n    useEffect(() => {\n        socket.on('createNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.CREATE_NOTIFY, payload: msg})\n\n            if(notify.sound) audioRef.current.play()\n            spawnNotification(\n                msg.user.username + ' ' + msg.text,\n                msg.user.avatar,\n                msg.url,\n                'Aps Djamel'\n            )\n        })\n\n        return () => socket.off('createNotifyToClient')\n    },[socket, dispatch, notify.sound])\n\n    useEffect(() => {\n        socket.on('removeNotifyToClient', msg =>{\n            dispatch({type: NOTIFY_TYPES.REMOVE_NOTIFY, payload: msg})\n        })\n\n        return () => socket.off('removeNotifyToClient')\n    },[socket, dispatch])\n\n\n    // Message\n    useEffect(() => {\n        socket.on('addMessageToClient', msg =>{\n            dispatch({type: MESS_TYPES.ADD_MESSAGE, payload: msg})\n\n            dispatch({\n                type: MESS_TYPES.ADD_USER, \n                payload: {\n                    ...msg.user, \n                    text: msg.text, \n                    media: msg.media\n                }\n            })\n        })\n\n        return () => socket.off('addMessageToClient')\n    },[socket, dispatch])\n\n    // Check User Online / Offline\n    useEffect(() => {\n        socket.emit('checkUserOnline', auth.user)\n    },[socket, auth.user])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToMe', data =>{\n            data.forEach(item => {\n                if(!online.includes(item.id)){\n                    dispatch({type: GLOBALTYPES.ONLINE, payload: item.id})\n                }\n            })\n        })\n\n        return () => socket.off('checkUserOnlineToMe')\n    },[socket, dispatch, online])\n\n    useEffect(() => {\n        socket.on('checkUserOnlineToClient', id =>{\n            if(!online.includes(id)){\n                dispatch({type: GLOBALTYPES.ONLINE, payload: id})\n            }\n        })\n\n        return () => socket.off('checkUserOnlineToClient')\n    },[socket, dispatch, online])\n\n    // Check User Offline\n    useEffect(() => {\n        socket.on('CheckUserOffline', id =>{\n            dispatch({type: GLOBALTYPES.OFFLINE, payload: id})\n        })\n\n        return () => socket.off('CheckUserOffline')\n    },[socket, dispatch])\n\n\n    // Call User\n    useEffect(() => {\n        socket.on('callUserToClient', data =>{\n            dispatch({type: GLOBALTYPES.CALL, payload: data})\n        })\n\n        return () => socket.off('callUserToClient')\n    },[socket, dispatch])\n\n    useEffect(() => {\n        socket.on('userBusy', data =>{\n            dispatch({type: GLOBALTYPES.ALERT, payload: {error: `${call.username} is busy!`}})\n        })\n\n        return () => socket.off('userBusy')\n    },[socket, dispatch, call])\n\n\n\n    return (\n        <>\n            <audio controls ref={audioRef} style={{display: 'none'}} >\n                <source src={audiobell} type=\"audio/mp3\" />\n            </audio>\n        </>\n    )\n}\n\nexport default SocketClient\n","export default __webpack_public_path__ + \"static/media/ringring.278d7816.mp3\";","import React, { useState, useEffect, useRef, useCallback } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport Avatar from '../Avatar'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { addMessage } from '../../redux/actions/messageAction'\nimport RingRing from '../../audio/ringring.mp3'\n\nconst CallModal = () => {\n    const { call, auth, peer, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [hours, setHours] = useState(0)\n    const [mins, setMins] = useState(0)\n    const [second, setSecond] = useState(0)\n    const [total, setTotal] = useState(0)\n\n    const [answer, setAnswer] = useState(false)\n    const youVideo = useRef()\n    const otherVideo = useRef()\n    const [tracks, setTracks] = useState(null)\n    const [newCall, setNewCall] = useState(null)\n\n    // Set Time\n    useEffect(() => {\n        const setTime = () => {\n            setTotal(t => t + 1)\n            setTimeout(setTime, 1000)\n        }\n        setTime()\n\n        return () => setTotal(0)\n    },[])\n\n    useEffect(() => {\n        setSecond(total%60)\n        setMins(parseInt(total/60))\n        setHours(parseInt(total/3600))\n    },[total])\n\n\n    // End Call\n    const addCallMessage = useCallback((call, times, disconnect) => {\n        if(call.recipient !== auth.user._id || disconnect){\n            const msg = {\n                sender: call.sender,\n                recipient: call.recipient,\n                text: '', \n                media: [],\n                call: {video: call.video, times},\n                createdAt: new Date().toISOString()\n            }\n            dispatch(addMessage({msg, auth, socket}))\n        }\n    },[auth, dispatch, socket])\n\n    const handleEndCall = () => {\n        tracks && tracks.forEach(track => track.stop())\n        if(newCall) newCall.close()\n        let times = answer ? total : 0\n        socket.emit('endCall', {...call, times})\n        \n        addCallMessage(call, times)\n        dispatch({type: GLOBALTYPES.CALL, payload: null })\n    }\n\n    useEffect(() => {\n        if(answer){\n            setTotal(0)\n        }else{\n            const timer = setTimeout(() => {\n                socket.emit('endCall', {...call, times: 0})\n                addCallMessage(call, 0)\n                dispatch({type: GLOBALTYPES.CALL, payload: null })\n            }, 15000)\n    \n            return () => clearTimeout(timer)\n        }\n        \n    },[dispatch, answer, call, socket, addCallMessage])\n\n    useEffect(() => {\n        socket.on('endCallToClient', data => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            addCallMessage(data, data.times)\n            dispatch({ type: GLOBALTYPES.CALL, payload: null })\n        })\n\n        return () => socket.off('endCallToClient')\n    },[socket, dispatch, tracks, addCallMessage, newCall])\n\n\n    // Stream Media\n    const openStream = (video) => {\n        const config = { audio: true, video }\n        return navigator.mediaDevices.getUserMedia(config)\n    }\n\n    const playStream = (tag, stream) => {\n        let video = tag;\n        video.srcObject = stream;\n        video.play()\n    }\n\n    // Answer Call\n    const handleAnswer = () => {\n        openStream(call.video).then(stream => {\n            playStream(youVideo.current, stream)\n            const track = stream.getTracks()\n            setTracks(track)\n            \n            const newCall = peer.call(call.peerId, stream);\n            newCall.on('stream', function(remoteStream) {\n                playStream(otherVideo.current, remoteStream)\n            });\n            setAnswer(true)\n            setNewCall(newCall)\n        })\n    }\n\n    useEffect(() => {\n        peer.on('call', newCall => {\n            openStream(call.video).then(stream => {\n                if(youVideo.current){\n                    playStream(youVideo.current, stream)\n                }\n                const track = stream.getTracks()\n                setTracks(track)\n                \n                newCall.answer(stream)\n                newCall.on('stream', function(remoteStream) {\n                    if(otherVideo.current){\n                        playStream(otherVideo.current, remoteStream)\n                    }\n                });\n                setAnswer(true) \n                setNewCall(newCall)\n            })\n        })\n        return () => peer.removeListener('call')\n    },[peer, call.video])\n\n    // Disconnect\n    useEffect(() => {\n        socket.on('callerDisconnect', () => {\n            tracks && tracks.forEach(track => track.stop())\n            if(newCall) newCall.close()\n            let times = answer ? total : 0\n            addCallMessage(call, times, true)\n\n            dispatch({type: GLOBALTYPES.CALL, payload: null })\n\n            dispatch({\n                type: GLOBALTYPES.ALERT, \n                payload: {error: `The ${call.username} disconnect`} \n            })\n        })\n\n        return () => socket.off('callerDisconnect')\n    },[socket, tracks, dispatch, call, addCallMessage, answer, total, newCall])\n\n    // Play - Pause Audio\n    const playAudio = (newAudio) => {\n        newAudio.play()\n    }\n\n    const pauseAudio = (newAudio) => {\n        newAudio.pause()\n        newAudio.currentTime = 0\n    }\n\n    useEffect(() => {\n        let newAudio = new Audio(RingRing)\n        if(answer){\n            pauseAudio(newAudio)\n        }else{\n            playAudio(newAudio)\n        }\n\n        return () => pauseAudio(newAudio)\n    },[answer])\n\n\n    return (\n        <div className=\"call_modal\">\n            <div className=\"call_box\" style={{\n                display: (answer && call.video) ? 'none' : 'flex'\n            }} >\n\n                <div className=\"text-center\" style={{padding: '40px 0'}} >\n                    <Avatar src={call.avatar} size=\"supper-avatar\" />\n                    <h4>{call.username}</h4>\n                    <h6>{call.fullname}</h6>\n\n                    {\n                        answer \n                        ? <div>\n                            <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                            <span>:</span>\n                            <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                            <span>:</span>\n                            <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                        </div>\n                        : <div>\n                            {\n                                call.video\n                                ? <span>calling video...</span>\n                                : <span>calling audio...</span>\n                            }\n                        </div>\n                    }\n                    \n                </div>\n                \n                {\n                    !answer && \n                    <div className=\"timer\">\n                        <small>{ mins.toString().length < 2 ? '0' + mins : mins }</small>\n                        <small>:</small>\n                        <small>{ second.toString().length < 2 ? '0' + second : second }</small>\n                    </div>\n                }\n                \n\n                <div className=\"call_menu\">\n                    <button className=\"material-icons text-danger\"\n                    onClick={handleEndCall}>\n                        call_end\n                    </button>\n                    \n                    {\n                        (call.recipient === auth.user._id && !answer) &&\n                        <>\n                            {\n                                call.video\n                                ? <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    videocam\n                                </button>\n                                : <button className=\"material-icons text-success\"\n                                onClick={handleAnswer}>\n                                    call\n                                </button>\n                            }\n                        </>\n                    }\n                    \n                </div>\n                \n            </div>\n\n            <div className=\"show_video\" style={{\n                opacity: (answer && call.video) ? '1' : '0',\n                filter: theme ? 'invert(1)' : 'invert(0)'\n            }} >\n\n                <video ref={youVideo} className=\"you_video\" playsInline muted />\n                <video ref={otherVideo} className=\"other_video\" playsInline />\n\n                <div className=\"time_video\">\n                    <span>{ hours.toString().length < 2 ? '0' + hours : hours }</span>\n                    <span>:</span>\n                    <span>{ mins.toString().length < 2 ? '0' + mins : mins }</span>\n                    <span>:</span>\n                    <span>{ second.toString().length < 2 ? '0' + second : second }</span>\n                </div>\n\n                <button className=\"material-icons text-danger end_call\"\n                onClick={handleEndCall}>\n                    call_end\n                </button>\n\n            </div>\n\n        </div>\n    )\n}\n\nexport default CallModal\n","import { useEffect,useState } from 'react'\r\nimport { BrowserRouter as Router, Route } from 'react-router-dom'\r\n \r\nimport PageRender from './customRouter/PageRender'\r\nimport PrivateRouter from './customRouter/PrivateRouter'\r\n\r\nimport Home from './pages/home'\r\nimport Login from './pages/login'\r\nimport Register from './pages/register'\r\n\r\nimport Alert from './components/alert/Alert'\r\nimport Header from './components/header/Header'\r\nimport StatusModal from './components/StatusModal'\r\n \r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { refreshToken } from './redux/actions/authAction'\r\nimport { getPosts } from './redux/actions/postAction'\r\nimport { getSuggestions } from './redux/actions/suggestionsAction'\r\n\r\nimport io from 'socket.io-client'\r\nimport { GLOBALTYPES } from './redux/actions/globalTypes'\r\nimport SocketClient from './SocketClient'\r\n\r\nimport { getNotifies } from './redux/actions/notifyAction'\r\nimport CallModal from './components/message/CallModal'\r\nimport Roles from './pages/roles'\r\nimport UsersActionn from './pages/UsersActionn'\r\nimport Edicionusers from './pages/edicionusers'\r\nimport listadeusuariosbloqueadoss from './pages/listadeusuariosbloqueadoss'\r\nimport Bloqueos from './pages/bloqueos'\r\nimport { getUsers } from './redux/actions/userAction'\r\nimport { getBlockedUsers } from './redux/actions/userBlockAction'\r\nimport Informacionaplicacion from './pages/informacionaplicacion'\r\nimport { getDataAPI, postDataAPI } from './utils/fetchData'\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nfunction App() {\r\n  const { auth, status, modal, call,  userBlockReducer } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\nconst history = useHistory()\r\n \r\n\r\n  const token = auth.token;\r\n \r\n  const handleGetLocation = () => {\r\n    navigator.geolocation.getCurrentPosition(\r\n      position => {\r\n        // manejar la ubicacin aqu\r\n      },\r\n      error => {\r\n        console.error(error);\r\n      }\r\n    );\r\n  };\r\n\r\n   \r\n  const [ , setIsSubscribed] = useState(false);\r\n\r\n  const checkExistingSubscription = async () => {\r\n    const registration = await navigator.serviceWorker.ready;\r\n    const subscription = await registration.pushManager.getSubscription();\r\n    setIsSubscribed(!!subscription);\r\n  };\r\n\r\n  // Ejecutar al montar el componente\r\n  useEffect(() => {\r\n    if ('serviceWorker' in navigator && 'PushManager' in window) {\r\n      checkExistingSubscription();\r\n    }\r\n  }, []);\r\n\r\n\r\n  // Efecto para manejar usuarios bloqueados\r\n  const blockedUser = userBlockReducer.blockedUsers.find(blockedUser => blockedUser.user._id === auth.user?._id);\r\n  useEffect(() => {\r\n    if (blockedUser) {\r\n      history.push('/bloqueos');\r\n    }\r\n  }, [blockedUser, history]);\r\n\r\n  // Efecto para inicializar socket y token\r\n  useEffect(() => {\r\n\r\n    dispatch(refreshToken());\r\n    const socket = io();\r\n    dispatch({ type: GLOBALTYPES.SOCKET, payload: socket });\r\n    return () => socket.close();\r\n  }, [dispatch]);\r\n\r\n  // Efecto para obtener posts\r\n\r\n\r\n  useEffect(() => {\r\n    dispatch(getPosts());\r\n    if (auth.token) {\r\n      \r\n      dispatch(getSuggestions(auth.token))\r\n      dispatch(getNotifies(auth.token))\r\n      dispatch(getUsers(auth.token))\r\n      dispatch(getBlockedUsers(auth.token))\r\n\r\n    }\r\n  }, [dispatch, auth.token])\r\n\r\n  // Funcin para manejar la suscripcin a notificaciones push\r\n  const handleSubscription = async () => {\r\n    try {\r\n      // Obtener la clave pblica VAPID del servidor\r\n      const response = await getDataAPI('vapid-public-key', token);\r\n      console.log('Respuesta de la API:', response); // Verifica la respuesta de la API\r\n\r\n      if (!response || !response.data || !response.data.publicKey) {\r\n        throw new Error('No se encontr la clave pblica VAPID');\r\n      }\r\n\r\n      const publicKey = response.data.publicKey;\r\n\r\n      // Registrar el Service Worker\r\n      const registration = await navigator.serviceWorker.ready;\r\n\r\n      // Suscribir al usuario al servicio push\r\n      const subscription = await registration.pushManager.subscribe({\r\n        userVisibleOnly: true,\r\n        applicationServerKey: urlBase64ToUint8Array(publicKey),\r\n      });\r\n\r\n      // Enviar la suscripcin al servidor\r\n      await postDataAPI('save-subscription', { subscription }, token);\r\n      console.log('Usuario suscrito con xito!');\r\n    } catch (err) {\r\n      console.error('Error al suscribirse:', err.message);\r\n    }\r\n  };\r\n\r\n\r\n  // Funcin requerida para las notificaciones push\r\n  function urlBase64ToUint8Array(base64String) {\r\n    const padding = '='.repeat((4 - base64String.length % 4) % 4);\r\n    const base64 = (base64String + padding)\r\n      .replace(/-/g, '+')\r\n      .replace(/_/g, '/');\r\n    const rawData = window.atob(base64);\r\n    return Uint8Array.from([...rawData].map(char => char.charCodeAt(0)));\r\n  }\r\n\r\n\r\n\r\n  return (\r\n    <Router>\r\n      <Alert />\r\n      <input type=\"checkbox\" id=\"theme\" />\r\n      <div className={`App ${(status || modal) && 'mode'}`}>\r\n        <div className=\"main\">\r\n           {!blockedUser && <Header />}\r\n\r\n           <button\r\n            onClick={async () => {\r\n              const permission = await Notification.requestPermission();\r\n              if (permission === 'granted') {\r\n                await handleSubscription();\r\n              } else {\r\n                alert('Las notificaciones fueron bloqueadas');\r\n              }\r\n            }}\r\n            disabled={!auth.token}\r\n          >\r\n            Activar Notificaciones\r\n          </button>\r\n          <button onClick={handleGetLocation}>Obtener ubicacin</button>\r\n\r\n        \r\n          {status && <StatusModal />}\r\n          {auth.token && <SocketClient />}\r\n          {call && <CallModal />}\r\n           \r\n\r\n\r\n            <Route exact path=\"/\" component={Home} />\r\n            <Route exact path=\"/register\" component={Register} />\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/informacionaplicacion\" component={Informacionaplicacion} />\r\n            <Route exact path=\"/roles\" component={auth.token ? Roles : Login} />\r\n            <Route exact path=\"/usersaction\" component={auth.token ? UsersActionn : Login} />\r\n            <Route exact path=\"/usersedition\" component={auth.token ? Edicionusers : Login} />\r\n            <Route exact path=\"/listausuariosbloqueados\" component={auth.token ? listadeusuariosbloqueadoss : Login} />\r\n            <Route exact path=\"/bloqueos\" component={auth.token ? Bloqueos : Login} />\r\n\r\n            <PrivateRouter exact path=\"/:page\" component={PageRender} />\r\n            <PrivateRouter exact path=\"/:page/:id\" component={PageRender} />\r\n          \r\n        </div>\r\n      </div>\r\n    </Router>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.AUTH:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default authReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = {}\n\nconst alertReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.ALERT:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default alertReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst themeReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.THEME:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default themeReducer","import { PROFILE_TYPES } from '../actions/profileAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    ids: [],\n    users: [],\n    posts: []\n}\n\nconst profileReducer = (state = initialState, action) => {\n    switch (action.type){\n        case PROFILE_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case PROFILE_TYPES.GET_USER:\n            return {\n                ...state,\n                users: [...state.users, action.payload.user]\n            };\n        case PROFILE_TYPES.FOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.UNFOLLOW:\n            return {\n                ...state,\n                users: EditData(state.users, action.payload._id, action.payload)\n            };\n        case PROFILE_TYPES.GET_ID:\n            return {\n                ...state,\n                ids: [...state.ids, action.payload]\n            };\n        case PROFILE_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: [...state.posts, action.payload]\n            };\n        case PROFILE_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default profileReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst statusReducer = (state = false, action) => {\n    switch (action.type){\n        case GLOBALTYPES.STATUS:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default statusReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 0,\n    page: 2\n}\n\nconst postReducer = (state = initialState, action) => {\n    switch (action.type){\n        case POST_TYPES.CREATE_POST:\n            return {\n                ...state,\n                posts: [action.payload, ...state.posts]\n            };\n        case POST_TYPES.LOADING_POST:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case POST_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: action.payload.page\n            };\n        case POST_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: EditData(state.posts, action.payload._id, action.payload)\n            };\n        case POST_TYPES.DELETE_POST:\n            return {\n                ...state,\n                posts: DeleteData(state.posts, action.payload._id)\n            };\n        default:\n            return state;\n    }\n}\n\nexport default postReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\nconst initialState = false\n\nconst modalReducer = (state = initialState, action) => {\n    switch (action.type){\n        case GLOBALTYPES.MODAL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default modalReducer","import { POST_TYPES } from '../actions/postAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst detailPostReducer = (state = [], action) => {\n    switch (action.type){\n        case POST_TYPES.GET_POST:\n            return [...state, action.payload]\n        case POST_TYPES.UPDATE_POST:\n            return EditData(state, action.payload._id, action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default detailPostReducer","import { DISCOVER_TYPES } from '../actions/discoverAction'\n\nconst initialState = {\n    loading: false,\n    posts: [],\n    result: 9,\n    page: 2,\n    firstLoad: false\n}\n\nconst discoverReducer = (state = initialState, action) => {\n    switch (action.type){\n        case DISCOVER_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case DISCOVER_TYPES.GET_POSTS:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                firstLoad: true\n            };\n        case DISCOVER_TYPES.UPDATE_POST:\n            return {\n                ...state,\n                posts: action.payload.posts,\n                result: action.payload.result,\n                page: state.page + 1\n            };\n        default:\n            return state;\n    }\n}\n\nexport default discoverReducer\n","import { SUGGES_TYPES } from '../actions/suggestionsAction'\n\nconst initialState = {\n    loading: false,\n    users: []\n}\n\n\nconst suggestionsReducer = (state = initialState, action) => {\n    switch (action.type){\n        case SUGGES_TYPES.LOADING:\n            return {\n                ...state,\n                loading: action.payload\n            };\n        case SUGGES_TYPES.GET_USERS:\n            return {\n                ...state,\n                users: action.payload.users\n            };\n        default:\n            return state;\n    }\n}\n\nexport default suggestionsReducer\n","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst socketReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.SOCKET:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default socketReducer","import { NOTIFY_TYPES } from '../actions/notifyAction'\nimport { EditData } from '../actions/globalTypes'\n\nconst initialState = {\n    loading: false,\n    data: [],\n    sound: false\n}\n\nconst notifyReducer = (state = initialState, action) => {\n    switch (action.type){\n        case NOTIFY_TYPES.GET_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        case NOTIFY_TYPES.CREATE_NOTIFY:\n            return {\n                ...state,\n                data: [action.payload, ...state.data]\n            };\n        case NOTIFY_TYPES.REMOVE_NOTIFY:\n            return {\n                ...state,\n                data: state.data.filter(item => (\n                    item.id !== action.payload.id || item.url !== action.payload.url\n                ))\n            };\n        case NOTIFY_TYPES.UPDATE_NOTIFY:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case NOTIFY_TYPES.UPDATE_SOUND:\n            return {\n                ...state,\n                sound: action.payload\n            };\n        case NOTIFY_TYPES.DELETE_ALL_NOTIFIES:\n            return {\n                ...state,\n                data: action.payload\n            };\n        default:\n            return state;\n    }\n}\n\n\nexport default notifyReducer","import { MESS_TYPES } from '../actions/messageAction'\nimport { EditData, DeleteData } from '../actions/globalTypes'\n\nconst initialState = {\n    users: [],\n    resultUsers: 0,\n    data: [],\n    firstLoad: false\n}\n\nconst messageReducer = (state = initialState, action) => {\n    switch (action.type){\n        case MESS_TYPES.ADD_USER:\n            if(state.users.every(item => item._id !== action.payload._id)){\n                return {\n                    ...state,\n                    users: [action.payload, ...state.users]\n                };\n            }\n            return state;\n        case MESS_TYPES.ADD_MESSAGE:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload.recipient || item._id === action.payload.sender \n                    ? {\n                        ...item,\n                        messages: [...item.messages, action.payload],\n                        result: item.result + 1\n                    }\n                    : item\n                ),\n                users: state.users.map(user => \n                    user._id === action.payload.recipient || user._id === action.payload.sender\n                    ? {\n                        ...user, \n                        text: action.payload.text, \n                        media: action.payload.media,\n                        call: action.payload.call\n                    }\n                    : user\n                )\n            };\n        case MESS_TYPES.GET_CONVERSATIONS:\n            return {\n                ...state,\n                users: action.payload.newArr,\n                resultUsers: action.payload.result,\n                firstLoad: true\n            };\n        case MESS_TYPES.GET_MESSAGES:\n            return {\n                ...state,\n                data: [...state.data, action.payload]\n            };\n        case MESS_TYPES.UPDATE_MESSAGES:\n            return {\n                ...state,\n                data: EditData(state.data, action.payload._id, action.payload)\n            };\n        case MESS_TYPES.DELETE_MESSAGES:\n            return {\n                ...state,\n                data: state.data.map(item => \n                    item._id === action.payload._id\n                    ? {...item, messages: action.payload.newData}\n                    : item\n                )\n            };\n        case MESS_TYPES.DELETE_CONVERSATION:\n            return {\n                ...state,\n                users: DeleteData(state.users, action.payload),\n                data: DeleteData(state.data, action.payload)\n            };\n        case MESS_TYPES.CHECK_ONLINE_OFFLINE:\n            return {\n                ...state,\n                users: state.users.map(user => \n                    action.payload.includes(user._id)\n                    ? {...user, online: true}\n                    : {...user, online: false}\n                )\n            };\n        default:\n            return state;\n    }\n}\n\nexport default messageReducer;","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst onlineReducer = (state = [], action) => {\n    switch (action.type){\n        case GLOBALTYPES.ONLINE:\n            return [...state, action.payload];\n        case GLOBALTYPES.OFFLINE:\n            return state.filter(item => item !== action.payload)\n        default:\n            return state;\n    }\n}\n\n\nexport default onlineReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst callReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.CALL:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default callReducer","import { GLOBALTYPES } from '../actions/globalTypes'\n\n\nconst peerReducer = (state = null, action) => {\n    switch (action.type){\n        case GLOBALTYPES.PEER:\n            return action.payload;\n        default:\n            return state;\n    }\n}\n\n\nexport default peerReducer","import { USER_TYPES } from '../actions/userAction';\n\nconst initialState = {\n    loading: false,\n    users: [],\n    denuncias: [],\n    activeLast24hUsers: [],\n    activeLast3hUsers: [],\n    counttotal: 0,\n    result: 0,\n    page: 1,\n    error: null,\n};\n\nconst userReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case USER_TYPES.LOADING_USER:\n            return { ...state, loading: action.payload };\n\n        case USER_TYPES.GET_TOTAL_USERS_COUNT:\n            return { ...state, counttotal: action.payload };\n\n        case USER_TYPES.GET_USERS:\n            return {\n                ...state,\n                users: action.payload.users,\n                result: action.payload.result,\n                page: action.payload.page,\n            };\n\n        case USER_TYPES.UPDATE_USER:\n            return {\n                ...state,\n                users: state.users.map(user =>\n                    user._id === action.payload._id ? action.payload : user\n                ),\n            };\n\n        case USER_TYPES.DELETE_USER:\n            return {\n                ...state,\n                users: state.users.filter(user => user._id !== action.payload), //  Aqu comparas con action.payload directamente\n            };\n\n\n        case USER_TYPES.GET_ACTIVE_USERS_LAST_24H:\n            return {\n                ...state,\n                activeLast24hUsers: action.payload,\n            };\n\n        case USER_TYPES.GET_ACTIVE_USERS_LAST_3H:\n            return {\n                ...state,\n                activeLast3hUsers: action.payload,\n            };\n\n        case USER_TYPES.UPDATE_USER_STATUS:\n            return {\n                ...state,\n                users: state.users.map(user =>\n                    user._id === action.payload.userId ? { ...user, status: action.payload.newStatus } : user\n                ),\n            };\n\n        case USER_TYPES.CREAR_DENUNCIA:\n            return {\n                ...state,\n                denuncias: [action.payload, ...state.denuncias],\n                loading: false,\n            };\n\n        case USER_TYPES.GET_DENUNCIAS:\n            return {\n                ...state,\n                denuncias: action.payload,\n            };\n\n        default:\n            return state;\n    }\n};\n\nexport default userReducer;\n","import { USER_TYPES_BLOCK } from '../actions/userBlockAction';\r\n\r\nconst initialState = {\r\n    blockedUsers: [],\r\n    loading: false,\r\n    page: 1,\r\n    result: 0\r\n     \r\n};\r\n \r\nconst userBlockReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case USER_TYPES_BLOCK.LOADING_USER:\r\n            return {\r\n                ...state,\r\n                loading: action.payload,\r\n            };\r\n\r\n            case USER_TYPES_BLOCK.BLOCK_USER:\r\n                return { \r\n                    ...state, \r\n                    blockedUsers: action.payload //  Aqu guardamos solo el objeto `block`\r\n                };\r\n\r\n        case USER_TYPES_BLOCK.UNBLOCK_USER:\r\n            return {\r\n                ...state,\r\n                blockedUsers: state.blockedUsers.filter(user => user._id !== action.payload._id),\r\n            };\r\n\r\n            case USER_TYPES_BLOCK.GET_USERS_BLOCK:\r\n                return {\r\n                  ...state,\r\n                  blockedUsers: action.payload.blockedUsers,\r\n                };\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport default userBlockReducer;\r\n","import { ROLES_TYPES } from \"../actions/roleAction\";\r\n\r\n \r\n \r\nconst initialState = {\r\n  role: \"\",\r\n  user: null,\r\n \r\n};\r\nconst roleeReducer = (state = initialState, action) => {\r\n \r\n    switch (action.type) {\r\n       \r\n        case ROLES_TYPES.USER_ROLE:\r\n          return {\r\n            ...state,\r\n            role: \"user\",\r\n            user: action.payload.user\r\n          };\r\n    \r\n        case ROLES_TYPES.SUPERUSER_ROLE:\r\n          return {\r\n            ...state,\r\n            role: \"superuser\",\r\n            user: action.payload.user\r\n          };\r\n    \r\n        case ROLES_TYPES.MODERADOR_ROLE:\r\n          return {\r\n            ...state,\r\n            role: \"Moderateur\",\r\n            user: action.payload.user\r\n          };\r\n    \r\n          case ROLES_TYPES.ADMIN_ROLE:\r\n            return {\r\n              ...state,\r\n              role: \"admin\",\r\n              user: action.payload.user\r\n            };\r\n      \r\n            case ROLES_TYPES.STORY_ROLE:\r\n              return {\r\n                ...state,\r\n                role: \"story\",\r\n                user: action.payload.user\r\n              };\r\n        \r\n        default:\r\n          return state;\r\n      }\r\n    };\r\n    \r\n\r\nexport default roleeReducer\r\n","import { combineReducers } from 'redux'\nimport auth from './authReducer'\nimport alert from './alertReducer'\nimport theme from './themeReducer'\nimport profile from './profileReducer'\nimport status from './statusReducer'\nimport homePosts from './postReducer'\nimport modal from './modalReducer'\nimport detailPost from './detailPostReducer'\nimport discover from './discoverReducer'\nimport suggestions from './suggestionsReducer'\nimport socket from './socketReducer'\nimport notify from './notifyReducer'\nimport message from './messageReducer'\nimport online from './onlineReducer'\nimport call from './callReducer'\nimport peer from './peerReducer'\nimport homeUsers from './userReducer';\nimport userBlockReducer from './userBlcokReducer'\nimport roleReducer from './roleeReducer'\n \n \n\nexport default combineReducers({\n    auth,\n    alert,\n    theme,\n    profile,\n    status,\n    homePosts,\n    modal,\n    detailPost,\n    discover,\n    suggestions,\n    socket,\n    notify,\n    message,\n    online,\n    call,\n    peer,homeUsers, userBlockReducer,roleReducer \n\n})","import { createStore, applyMiddleware } from 'redux'\nimport { Provider } from 'react-redux'\nimport thunk from 'redux-thunk'\n\nimport rootReducer from './reducers/index'\n\nimport { composeWithDevTools } from 'redux-devtools-extension'\n\nconst store = createStore(\n    rootReducer,\n    composeWithDevTools(applyMiddleware(thunk))\n)\n\nconst DataProvider = ({children}) => {\n    return(\n        <Provider store={store}>\n            {children}\n        </Provider>\n    )\n}\n\nexport default DataProvider","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './styles/global.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport DataProvider from './redux/store';\r\n \r\n// Importa el Service Worker (si usas Create React App)\r\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration'; // <- Asegrate de que este archivo exista\r\n\r\nReactDOM.render(\r\n \r\n    <React.StrictMode>\r\n      <DataProvider>\r\n        <App />\r\n      </DataProvider>\r\n    </React.StrictMode>\r\n  ,\r\n  document.getElementById('root')\r\n);\r\n\r\n// Registra el Service Worker (PWA)\r\nserviceWorkerRegistration.register(); // <- Reemplaza \"unregister()\" por \"register()\" si usas CRA\r\n \r\n// Opcional: Si no usas Create React App, registra el SW manualmente:\r\nif ('serviceWorker' in navigator) {\r\n  window.addEventListener('load', () => {\r\n    navigator.serviceWorker.register('/sw.js')\r\n      .then(registration => {\r\n        console.log('Service Worker registrado con xito:', registration);\r\n      })\r\n      .catch(error => {\r\n        console.log('Error al registrar el Service Worker:', error);\r\n      });\r\n  });\r\n}\r\n\r\nreportWebVitals();","// src/serviceWorkerRegistration.js\r\nexport function register() {\r\n  if ('serviceWorker' in navigator) {\r\n    \r\n    window.addEventListener('load', () => {\r\n      navigator.serviceWorker.register('/sw.js')\r\n        .then(registration => {\r\n          console.log('Service Worker registrado con xito:', registration.scope);\r\n        })\r\n        .catch(error => {\r\n          console.log('Error al registrar el Service Worker:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}","import { GLOBALTYPES } from './globalTypes';\r\nimport { imageUpload } from '../../utils/imageUpload';\r\nimport { getDataAPI, patchDataAPI, deleteDataAPI, postDataAPI } from '../../utils/fetchData';\r\nimport { removeNotify } from './notifyAction';\r\n\r\nexport const USER_TYPES = {\r\n    LOADING_USER: 'LOADING_USER',\r\n    GET_USERS: 'GET_USERS',\r\n    UPDATE_USER: 'UPDATE_USER',\r\n    GET_USER: 'GET_USER',\r\n    DELETE_USER: 'DELETE_USER',\r\n    GET_ACTIVE_USERS_LAST_24H: 'GET_ACTIVE_USERS_LAST_24H',  // Accin para usuarios activos en 24h\r\n    GET_ACTIVE_USERS_LAST_3H: 'GET_ACTIVE_USERS_LAST_3H',    // Accin para usuarios activos en 3h\r\n    GET_TOTAL_USERS_COUNT: 'GET_TOTAL_USERS_COUNT',\r\n    GET_TOTAL_POSTS_USER: 'GET_TOTAL_POSTS_USER',\r\n    UPDATE_USER_STATUS: 'UPDATE_USER_STATUS',\r\n    CREAR_DENUNCIA: 'CREAR_DENUNCIA',\r\n    GET_DENUNCIAS: 'GET_DENUNCIAS',\r\n\r\n\r\n};\r\n\r\n// Accin para obtener la cuenta total de usuarios\r\nexport const fetchTotalUsersCount = (token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI('users/counttotal', token); // Llama al endpoint que cuenta los usuarios\r\n        dispatch({ type: USER_TYPES.GET_TOTAL_USERS_COUNT, payload: res.data.counttotal });\r\n    } catch (error) {\r\n        console.error('Error al obtener el total de usuarios:', error);\r\n    }\r\n};\r\n\r\n// Accin para obtener usuarios activos en las ltimas 24 horas\r\nexport const getActiveUsersLast24h = (token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI('users/active-last-24h', token);\r\n        dispatch({\r\n            type: USER_TYPES.GET_ACTIVE_USERS_LAST_24H,\r\n            payload: res.data.users\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n};\r\n\r\n// Accin para obtener usuarios activos en las ltimas 3 horas\r\nexport const getActiveUsersLast3h = (token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI('users/active-last-3h', token);\r\n        dispatch({\r\n            type: USER_TYPES.GET_ACTIVE_USERS_LAST_3H,\r\n            payload: res.data.users\r\n        });\r\n    } catch (error) {\r\n        console.error(error);\r\n    }\r\n};\r\n\r\n// Accin para obtener todos los usuarios\r\nexport const getUsers = (token, page = 1, limit = 9) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: USER_TYPES.LOADING_USER, payload: true });\r\n        const res = await getDataAPI(`users?page=${page}&limit=${limit}`, token);\r\n        \r\n        dispatch({\r\n            type: USER_TYPES.GET_USERS,\r\n            payload: { users: res.data.users, result: res.data.result, page: page + 1 }\r\n        });\r\n        \r\n        dispatch({ type: USER_TYPES.LOADING_USER, payload: false });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response.data.msg }\r\n        });\r\n    }\r\n};\r\n\r\n\r\n// Accin para actualizar un usuario\r\nexport const updateUser = ({ content, images, auth, status }) => async (dispatch) => {\r\n    let media = [];\r\n    const imgNewUrl = images.filter(img => !img.url);\r\n    const imgOldUrl = images.filter(img => img.url);\r\n\r\n    if (status.content === content\r\n        && imgNewUrl.length === 0\r\n        && imgOldUrl.length === status.images.length\r\n    ) return;\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n        if (imgNewUrl.length > 0) media = await imageUpload(imgNewUrl);\r\n\r\n        const res = await patchDataAPI(`user/${status._id}`, {\r\n            content, images: [...imgOldUrl, ...media]\r\n        }, auth.token);\r\n\r\n        dispatch({ type: USER_TYPES.UPDATE_USER, payload: res.data.newUser });\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response.data.msg }\r\n        });\r\n    }\r\n};\r\n\r\n// Accin para obtener un usuario por su ID\r\nexport const getUser = ({ detailUser, id, auth }) => async (dispatch) => {\r\n    if (detailUser.every(user => user._id !== id)) {\r\n        try {\r\n            const res = await getDataAPI(`user/${id}`, auth.token);\r\n            dispatch({ type: USER_TYPES.GET_USER, payload: res.data.user });\r\n        } catch (err) {\r\n            dispatch({\r\n                type: GLOBALTYPES.ALERT,\r\n                payload: { error: err.response.data.msg }\r\n            });\r\n        }\r\n    }\r\n};\r\n \r\n// Accin para eliminar un usuario\r\nexport const deleteUser = ({ user, auth, socket }) => async (dispatch) => {\r\n    dispatch({ type: USER_TYPES.DELETE_USER, payload: user });\r\n\r\n    try {\r\n        const res = await deleteDataAPI(`user/${user._id}`, auth.token);\r\n\r\n        // Notificacin\r\n        const msg = {\r\n            id: user._id,\r\n            text: 'added a new user.',\r\n            recipients: res.data.newUser.user.followers,\r\n            url: `/user/${user._id}`,\r\n        };\r\n        dispatch(removeNotify({ msg, auth, socket }));\r\n\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response.data.msg }\r\n        });\r\n    }\r\n};\r\n\r\n\r\n\r\n\r\n \r\n \r\n\r\n// Accin para actualizar el estado del usuario (suspender o activar)\r\nexport const updateUserStatus = (userId, newStatus, token) => async (dispatch) => {\r\n    try {\r\n        await patchDataAPI(`admin/user/${userId}/status`, { status: newStatus }, token);\r\n        dispatch({\r\n            type: USER_TYPES.UPDATE_USER_STATUS,\r\n            payload: { userId, newStatus },\r\n        });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response.data.msg },\r\n        });\r\n    }\r\n};\r\n \r\nexport const createDenuncia = ({ razones, auth, post }) => async (dispatch) => {\r\n\r\n    try {\r\n        // Despacha el loading para la accin\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: true } });\r\n\r\n\r\n        // Aqu usamos el id del post y la informacin adicional necesaria para la denuncia\r\n        const res = await postDataAPI(`denunciar/${post._id}`, {\r\n            razones,\r\n\r\n            usuarioReportante: auth.user._id, // El id del usuario que est denunciando\r\n        }, auth.token);\r\n\r\n        console.log(\"Respuesta de la API:\", res);\r\n\r\n        // Despacha la accin de alerta con el estado de carga actualizado\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false } });\r\n\r\n        // Despacha la accin para actualizar el estado global con la denuncia creada\r\n        dispatch({\r\n            type: USER_TYPES.CREAR_DENUNCIA,\r\n            payload: res.data,\r\n        });\r\n\r\n    } catch (err) {\r\n        console.error('Error al crear la denuncia:', err);\r\n\r\n        // Despacha el error si ocurre\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: { loading: false, error: err.message } });\r\n    }\r\n};\r\n\r\n\r\n// Accin para obtener las denuncias de un usuario\r\nexport const getDenuncias = (user, token) => async (dispatch) => {\r\n    try {\r\n        const res = await getDataAPI(`denunciar/${user.id}`, token); // Asegrate de que la ruta est correcta\r\n        console.log(res)\r\n        dispatch({\r\n            type: USER_TYPES.GET_DENUNCIAS,\r\n            payload: res.data,\r\n        });\r\n    } catch (err) {\r\n        console.error(\"Error al obtener las denuncias:\", err);\r\n    }\r\n};\r\n\r\n\r\n\r\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Avatar = ({src, size}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <img src={src} alt=\"avatar\" className={size}\n        style={{filter: `${theme ? 'invert(1)' : 'invert(0)'}`}} />\n    )\n}\n\nexport default Avatar\n","import { GLOBALTYPES, DeleteData } from './globalTypes'\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData'\nimport { imageUpload } from '../../utils/imageUpload'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const PROFILE_TYPES = {\n    LOADING: 'LOADING_PROFILE',\n    GET_USER: 'GET_PROFILE_USER',\n    FOLLOW: 'FOLLOW',\n    UNFOLLOW: 'UNFOLLOW',\n    GET_ID: 'GET_PROFILE_ID',\n    GET_POSTS: 'GET_PROFILE_POSTS',\n    UPDATE_POST: 'UPDATE_PROFILE_POST'\n}\n\n\nexport const getProfileUsers = ({id, auth}) => async (dispatch) => {\n    dispatch({type: PROFILE_TYPES.GET_ID, payload: id})\n\n    try {\n        dispatch({type: PROFILE_TYPES.LOADING, payload: true})\n        const res = getDataAPI(`/user/${id}`, auth.token)\n        const res1 = getDataAPI(`/user_posts/${id}`, auth.token)\n        \n        const users = await res;\n        const posts = await res1;\n\n        dispatch({\n            type: PROFILE_TYPES.GET_USER,\n            payload: users.data\n        })\n\n        dispatch({\n            type: PROFILE_TYPES.GET_POSTS,\n            payload: {...posts.data, _id: id, page: 2}\n        })\n\n        dispatch({type: PROFILE_TYPES.LOADING, payload: false})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n    \n}\n\n\nexport const updateProfileUser = ({userData, avatar, auth}) => async (dispatch) => {\n    if(!userData.username)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Please add your User Name.\"}})\n\n    if(userData.username.length > 25)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your User name too long.\"}})\n\n    if(userData.story.length > 200)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: {error: \"Your story too long.\"}})\n\n    try {\n        let media;\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        if(avatar) media = await imageUpload([avatar])\n\n        const res = await patchDataAPI(\"user\", {\n            ...userData,\n            avatar: avatar ? media[0].url : auth.user.avatar\n        }, auth.token)\n\n        dispatch({\n            type: GLOBALTYPES.AUTH,\n            payload: {\n                ...auth,\n                user: {\n                    ...auth.user, ...userData,\n                    avatar: avatar ? media[0].url : auth.user.avatar,\n                }\n            }\n        })\n\n        dispatch({type: GLOBALTYPES.ALERT, payload: {success: res.data.msg}})\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const follow = ({users, user, auth, socket}) => async (dispatch) => {\n    let newUser;\n    \n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: [...user.followers, auth.user]}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: [...item.followers, auth.user]}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.FOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: {...auth.user, following: [...auth.user.following, newUser]}\n        }\n    })\n\n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/follow`, null, auth.token)\n        socket.emit('follow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}\n\nexport const unfollow = ({users, user, auth, socket}) => async (dispatch) => {\n\n    let newUser;\n\n    if(users.every(item => item._id !== user._id)){\n        newUser = {...user, followers: DeleteData(user.followers, auth.user._id)}\n    }else{\n        users.forEach(item => {\n            if(item._id === user._id){\n                newUser = {...item, followers: DeleteData(item.followers, auth.user._id)}\n            }\n        })\n    }\n\n    dispatch({ type: PROFILE_TYPES.UNFOLLOW, payload: newUser })\n\n    dispatch({\n        type: GLOBALTYPES.AUTH, \n        payload: {\n            ...auth,\n            user: { \n                ...auth.user, \n                following: DeleteData(auth.user.following, newUser._id) \n            }\n        }\n    })\n   \n\n    try {\n        const res = await patchDataAPI(`user/${user._id}/unfollow`, null, auth.token)\n        socket.emit('unFollow', res.data.newUser)\n\n        // Notify\n        const msg = {\n            id: auth.user._id,\n            text: 'has started to follow you.',\n            recipients: [newUser._id],\n            url: `/profile/${auth.user._id}`,\n        }\n\n        dispatch(removeNotify({msg, auth, socket}))\n\n    } catch (err) {\n        dispatch({\n            type: GLOBALTYPES.ALERT, \n            payload: {error: err.response.data.msg}\n        })\n    }\n}","import React from 'react'\n\nconst LoadMoreBtn = ({result, page, load, handleLoadMore}) => {\n    return (\n        <>\n            {\n                result < 9 * (page - 1) ? '' : \n\n                !load && <button className=\"btn btn-dark mx-auto d-block\"\n                onClick={handleLoadMore}>\n                    Load more\n                </button>\n            }\n            \n        </>\n    )\n}\n\nexport default LoadMoreBtn\n","export const imageShow = (src, theme) => {\n    return(\n        <img src={src} alt=\"images\" className=\"img-thumbnail\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n    )\n}\n\nexport const videoShow = (src, theme) => {\n    return(\n        <video controls src={src} alt=\"images\" className=\"img-thumbnail\"\n        style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n    )\n}","import { patchDataAPI } from \"../../utils/fetchData\";\r\nimport { GLOBALTYPES } from './globalTypes'\r\nexport const ROLES_TYPES = {\r\n  LOADING: 'LOADING',\r\n  USER_ROLE: 'USER_ROLE',\r\n  SUPERUSER_ROLE: 'SUPERUSER_ROLE',\r\n  MODERADOR_ROLE: 'MODERADOR_ROLE',\r\n  ADMIN_ROLE: 'ADMIN_ROLE',\r\n  STORY_ROLE: 'STORY_ROLE'\r\n\r\n}\r\n\r\n\r\nexport const roleuserautenticado = (user, auth) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: true })\r\n    const res = await patchDataAPI(`user/${user._id}/roleuser`, { role: 'user' }, auth.token);\r\n    dispatch({\r\n      type: ROLES_TYPES.USER_ROLE,\r\n      payload: { user, res: res.data }\r\n    });\r\n\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false })\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg }\r\n    });\r\n  }\r\n};\r\n\r\n// Ejemplo de accin para actualizar el rol a \"superuser\"\r\nexport const rolesuperuser = (user, auth) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: true });\r\n\r\n    const res = await patchDataAPI(`user/${user._id}/rolesuperuser`, { role: 'superuser' }, auth.token);\r\n\r\n    dispatch({\r\n      type: ROLES_TYPES.SUPERUSER_ROLE,\r\n      payload: { user: { ...user, role: 'superuser' } } // Se enva el usuario con el rol actualizado\r\n    });\r\n\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } });\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false });\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg },\r\n    });\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false });\r\n  }\r\n};\r\n\r\nexport const rolemoderador = (user, auth) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: true })\r\n    const res = await patchDataAPI(`user/${user._id}/rolemoderador`, { role: 'moderador' }, auth.token);\r\n\r\n    dispatch({\r\n      type: ROLES_TYPES.MODERADOR_ROLE,\r\n      payload: { user, res: res.data }\r\n    });\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false })\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg }\r\n    });\r\n  }\r\n};\r\nexport const roleadmin = (user, auth) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: true })\r\n    const res = await patchDataAPI(`user/${user._id}/roleadmin`, { role: 'admin' }, auth.token);\r\n\r\n    dispatch({\r\n      type: ROLES_TYPES.ADMIN_ROLE,\r\n      payload: { user, res: res.data }\r\n    });\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false })\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg }\r\n    });\r\n  }\r\n};\r\n\r\nexport const rolestory = (user, auth) => async (dispatch) => {\r\n  try {\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: true })\r\n    const res = await patchDataAPI(`user/${user._id}/rolestory`, { role: 'story' }, auth.token);\r\n\r\n    dispatch({\r\n      type: ROLES_TYPES.STORY_ROLE,\r\n      payload: { user, res: res.data }\r\n    });\r\n    dispatch({ type: ROLES_TYPES.LOADING, payload: false })\r\n    dispatch({ type: GLOBALTYPES.ALERT, payload: { success: res.data.msg } })\r\n  } catch (err) {\r\n    dispatch({\r\n      type: GLOBALTYPES.ALERT,\r\n      payload: { error: err.response.data.msg }\r\n    });\r\n  }\r\n};","/*export const checkImage = (file) => {\n    let err = \"\"\n    if(!file) return err = \"File does not exist.\"\n\n    if(file.size > 1024 * 1024) // 1mb\n    err = \"The largest image size is 1mb.\"\n\n    if(file.type !== 'image/jpeg' && file.type !== 'image/png' )\n    err = \"Image format is incorrect.\"\n    \n    return err;\n}*/\nexport const checkImage = (files) => {\n  let err = \"\";\n  if (!files || files.length === 0) return err = \"No files selected.\";\n\n  // Limitar a un mximo de 3 imgenes\n  if (files.length > 3) {\n    err = \"You can only upload up to 3 images.\";\n    return err;\n  }\n\n  const allowedExtensions = ['jpeg', 'jpg', 'png'];\n  const blockedExtensions = ['txt', 'pdf']; // Agregar aqu las extensiones bloqueadas\n\n  for (let i = 0; i < files.length; i++) {\n    const file = files[i];\n    if (file.size > 1024 * 1024) {\n      err = \"The largest image size is 1mb.\";\n      return err;\n    }\n\n    const fileExtension = file.name.split('.').pop().toLowerCase();\n    if (!allowedExtensions.includes(fileExtension)) {\n      err = \"Image format is incorrect.\";\n      return err;\n    }\n\n    if (blockedExtensions.includes(fileExtension)) {\n      err = \"File type not allowed.\";\n      return err;\n    }\n  }\n\n  return err;\n};\n\n  \n\nexport const imageUpload = async (images) => {\n    let imgArr = [];\n    for(const item of images){//fpr corre todas las imagenes que se han enviado a la funcion\n        const formData = new FormData()//es como un paquete qui contendra las imagenes o imagen como la informacion\n        //necesaria para cloudinary como informacion propia \n\n        if(item.camera){\n            formData.append(\"file\", item.camera)//aqui file es la imagen solo que agrega como un campo llamado fule\n        }else{\n            formData.append(\"file\", item)\n        }\n        \n        formData.append(\"upload_preset\", \"xl7nhfgx\")//clave predefinida por cloudinary  para poder subir las imagenes \n        formData.append(\"cloud_name\", \"arteeeuhgu\")// el  nombtre de mi cuenta\n//cuando el form data ha empaquetado los datos necesarios se envian con fetch a cloudinary esperando una respuesta\n        const res = await fetch(\"https://api.cloudinary.com/v1_1/arteeeuhgu/image/upload\", {\n            method: \"POST\",\n            body: formData\n        })\n        \n        const data = await res.json()//cuando se obtiene la respuesta \n        imgArr.push({public_id: data.public_id, url: data.secure_url})//se extare la informacion de data y \n        //se guarda en imgArr, es decir desde data.pblic_id y el secure_ url se extrae desde data en url para poder guardarlos en imgArr\n    }\n    return imgArr;\n}\n\n/*En resumen, el proceso es muy similar a un \"paquete\" que contiene tanto los archivos (las imgenes) como los datos necesarios para que el servidor de Cloudinary sepa cmo procesarlos correctamente. fetch se encarga de enviar este paquete al servidor, y Cloudinary responde con la informacin de la imagen subida.*/","import { GLOBALTYPES } from './globalTypes';\r\nimport { getDataAPI, patchDataAPI } from '../../utils/fetchData';\r\n\r\nexport const USER_TYPES_BLOCK = {\r\n    LOADING_USER: 'LOADING_USER',\r\n    BLOCK_USER: \"BLOCK_USER\",\r\n    UNBLOCK_USER: \"UNBLOCK_USER\",\r\n    GET_USERS_BLOCK: 'GET_USERS_BLOCK'\r\n};\r\n\r\nexport const bloquearUsuario = ({ auth, datosBloqueo, user }) => async (dispatch) => {\r\n\r\n    try {\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n        const response = await patchDataAPI(`user/${user._id}/block`, {\r\n            motivo: datosBloqueo.motivo,\r\n            content: datosBloqueo.content,\r\n            fechaLimite: datosBloqueo.fechaLimite,\r\n            fechaBloqueo: datosBloqueo.fechaBloqueo\r\n        }, auth.token);\r\n      \r\n        dispatch({\r\n            type: USER_TYPES_BLOCK.BLOCK_USER,\r\n            payload: response.data.block,\r\n        });\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: response.data.msg} })\r\n     \r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response?.data?.msg || \"Error al bloquear usuario\" },\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const unBlockUser = ({ user, auth }) => async (dispatch) => {\r\n    try {  dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\r\n\r\n        const response = await patchDataAPI(`user/${user._id}/unblock`, {}, auth.token);\r\n\r\n        dispatch({\r\n            type: USER_TYPES_BLOCK.UNBLOCK_USER,\r\n            payload: response.data,\r\n        });\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: false} })\r\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {success: response.data.msg} })\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response?.data?.msg || \"Error al desbloquear usuario\" },\r\n        });\r\n    }\r\n};\r\n\r\n\r\nexport const getBlockedUsers = (token) => async (dispatch) => {\r\n    try {\r\n        dispatch({ type: USER_TYPES_BLOCK.LOADING_USER, payload: true });\r\n\r\n        const res = await getDataAPI('users/block', token);\r\n\r\n        dispatch({\r\n            type: USER_TYPES_BLOCK.GET_USERS_BLOCK,\r\n            payload: { ...res.data, page: 2 } // Esto mantiene paginacin si existe\r\n        });\r\n\r\n        dispatch({ type: USER_TYPES_BLOCK.LOADING_USER, payload: false });\r\n    } catch (err) {\r\n        dispatch({\r\n            type: GLOBALTYPES.ALERT,\r\n            payload: { error: err.response?.data?.msg || \"Error al obtener usuarios bloqueados\" }\r\n        });\r\n    }\r\n};\r\n","import React, { useState, useEffect } from 'react';\nimport { Link, useHistory } from 'react-router-dom';\nimport { login } from '../redux/actions/authAction';\nimport { useDispatch, useSelector } from 'react-redux';\n \n\nconst Login = () => {\n    \n\n    const initialState = { email: '', password: '' };\n    const [userData, setUserData] = useState(initialState);\n    const { email, password } = userData;\n\n    const [typePass, setTypePass] = useState(false);\n\n    const { auth } = useSelector(state => state);\n    const dispatch = useDispatch();\n    const history = useHistory();\n\n    useEffect(() => {\n        if (auth.token) history.push('/');\n    }, [auth.token, history]);\n\n    const handleChangeInput = (e) => {\n        const { name, value } = e.target;\n        setUserData({ ...userData, [name]: value });\n    };\n\n    const handleSubmit = (e) => {\n        e.preventDefault();\n        dispatch(login(userData));\n    };\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">\n                Connexion Apps\n                </h3>\n\n                {/*  Input de Email */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">E-mail</label>\n                    <input\n                        type=\"email\"\n                        className=\"form-control\"\n                        id=\"email\"\n                        name=\"email\"\n                        aria-describedby=\"emailHelp\"\n                        onChange={handleChangeInput}\n                        value={email}\n                        autoComplete=\"username\" // Agregado aqu\n                    />\n                    \n                </div>\n\n                {/*  Input de Contrasea */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Mot de passe</label>\n                    <div className=\"pass\">\n                        <input\n                            type={typePass ? 'text' : 'password'}\n                            className=\"form-control\"\n                            id=\"password\"\n                            name=\"password\"\n                            onChange={handleChangeInput}\n                            value={password}\n                            autoComplete=\"current-password\" // Agregado aqu\n                        />\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'maque': \"voire\"}\n                        </small>\n                    </div>\n                </div>\n\n                {/*  Botn de Login */}\n                <button type=\"submit\" className=\"btn btn-dark w-100\" disabled={!email || !password}>\n                Connecter\n                </button>\n\n                {/*  Link para Registro */}\n                <p className=\"my-2\">\n                Vous n'avez pas de compte\n                    <Link to=\"/register\" style={{ color: 'crimson' }}>\n                    Inscrivez-vous maintenant\n                    </Link>\n                </p>\n            </form>\n        </div>\n    );\n};\n\nexport default Login;","export const GLOBALTYPES = {\n    AUTH: \"AUTH\",\n    ALERT: \"ALERT\",\n    THEME: 'THEME',\n    STATUS: 'STATUS',\n    MODAL: 'MODAL',\n    SOCKET: 'SOCKET',\n    ONLINE: 'ONLINE',\n    OFFLINE: 'OFFLINE',\n    CALL: 'CALL',\n    PEER: 'PEER'\n}\n\nexport const EditData = (data, id, post) => {\n    const newData = data.map(item => \n        (item._id === id ? post : item)\n    )\n    return newData;\n}\n\nexport const DeleteData = (data, id) => {\n    const newData = data.filter(item => item._id !== id)\n    return newData;\n}","const valid = ({  username, email, password, cf_password}) => {\n    const err = {}\n\n   \n\n    if(!username) {\n        err.username = \"Please add your user name.\"\n    }else if(username.replace(/ /g, '').length > 25){\n        err.username = \"User name is up to 25 characters long.\"\n    }\n\n    if(!email) {\n        err.email = \"Please add your email.\"\n    }else if(!validateEmail(email)){\n        err.email = \"Email format is incorrect.\"\n    }\n\n    if(!password) {\n        err.password = \"Please add your password.\"\n    }else if(password.length < 6){\n        err.password = \"Password must be at least 6 characters.\"\n    }\n\n    if(password !== cf_password) {\n        err.cf_password = \"Confirm password did not match.\"\n    }\n\n    return {\n        errMsg: err,\n        errLength: Object.keys(err).length\n    }\n}\n\n\n\nfunction validateEmail(email) {\n    // eslint-disable-next-line\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n}\n  \nexport default valid","import { GLOBALTYPES } from './globalTypes'\nimport { postDataAPI } from '../../utils/fetchData'\nimport valid from '../../utils/valid'\n\n\nexport const login = (data) => async (dispatch) => {\n    try {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n        const res = await postDataAPI('login', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n        \n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const refreshToken = () => async (dispatch) => {\n    const firstLogin = localStorage.getItem(\"firstLogin\")\n    if(firstLogin){\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {loading: true} })\n\n        try {\n            const res = await postDataAPI('refresh_token')\n            dispatch({ \n                type: GLOBALTYPES.AUTH, \n                payload: {\n                    token: res.data.access_token,\n                    user: res.data.user\n                } \n            })\n\n            dispatch({ type: GLOBALTYPES.ALERT, payload: {} })\n\n        } catch (err) {\n            dispatch({ \n                type: GLOBALTYPES.ALERT, \n                payload: {\n                    error: err.response.data.msg\n                } \n            })\n        }\n    }\n}\n\nexport const register = (data) => async (dispatch) => {\n    const check = valid(data)\n    if(check.errLength > 0)\n    return dispatch({type: GLOBALTYPES.ALERT, payload: check.errMsg})\n\n    try {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {loading: true}})\n\n        const res = await postDataAPI('register', data)\n        dispatch({ \n            type: GLOBALTYPES.AUTH, \n            payload: {\n                token: res.data.access_token,\n                user: res.data.user\n            } \n        })\n\n        localStorage.setItem(\"firstLogin\", true)\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                success: res.data.msg\n            } \n        })\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}\n\n\nexport const logout = () => async (dispatch) => {\n    try {\n        localStorage.removeItem('firstLogin')\n        await postDataAPI('logout')\n        window.location.href = \"/\"\n    } catch (err) {\n        dispatch({ \n            type: GLOBALTYPES.ALERT, \n            payload: {\n                error: err.response.data.msg\n            } \n        })\n    }\n}","import { GLOBALTYPES } from './globalTypes'\nimport { getDataAPI } from '../../utils/fetchData'\n\nexport const DISCOVER_TYPES = {\n    LOADING: 'LOADING_DISCOVER',\n    GET_POSTS: 'GET_DISCOVER_POSTS',\n    UPDATE_POST: 'UPDATE_DISCOVER_POST'\n}\n\nexport const getDiscoverPosts = (token) => async (dispatch) => {\n    try {\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: true})\n\n        const res = await getDataAPI(`post_discover`, token)\n        dispatch({type: DISCOVER_TYPES.GET_POSTS, payload: res.data})\n\n        dispatch({type: DISCOVER_TYPES.LOADING, payload: false})\n\n    } catch (err) {\n        dispatch({type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}})\n    }\n}","import React from 'react'\nimport { Link } from 'react-router-dom'\nimport { useSelector } from 'react-redux'\n\nconst PostThumb = ({posts, result}) => {\n    const { theme } = useSelector(state => state)\n\n    if(result === 0) return <h2 className=\"text-center text-danger\">No Post</h2>\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                posts.map(post => (\n                    <Link key={post._id} to={`/post/${post._id}`}>\n                        <div className=\"post_thumb_display\">\n\n                            {\n                                post.images[0].url.match(/video/i)\n                                ?<video controls src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                :<img src={post.images[0].url} alt={post.images[0].url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n\n                            <div className=\"post_thumb_menu\">\n                                <i className=\"far fa-heart\">{post.likes.length}</i>\n                                <i className=\"far fa-comment\">{post.comments.length}</i>\n                            </div>\n                        </div>\n                    </Link>\n                ))\n            }\n        </div>\n    )\n}\n\nexport default PostThumb\n","import React from 'react'\nimport LeftSide from '../../components/message/LeftSide'\n\nconst Message = () => {\n    return (\n        <div className=\"message d-flex\">\n            <div className=\"col-md-4 border-right px-0\">\n                <LeftSide />\n            </div>\n\n            <div className=\"col-md-8 px-0 right_mess\">\n                <div className=\"d-flex justify-content-center \n                align-items-center flex-column h-100\">\n\n                    <i className=\"fab fa-facebook-messenger text-primary\"\n                    style={{fontSize: '5rem'}} />\n                    <h4>Messenger</h4>\n\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default Message\n","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { useHistory, Link } from 'react-router-dom'\nimport { register } from '../redux/actions/authAction'\n\n\n\nconst Register = () => {\n\n\n    const { auth, alert } = useSelector(state => state)\n    const dispatch = useDispatch()\n    const history = useHistory()\n\n    const initialState = {\n        username: '', email: '', password: '', cf_password: ''\n    }\n    const [userData, setUserData] = useState(initialState)\n    const { username, email, password, cf_password } = userData\n\n    const [typePass, setTypePass] = useState(false)\n    const [typeCfPass, setTypeCfPass] = useState(false)\n\n    useEffect(() => {\n        if (auth.token) history.push(\"/\")\n    }, [auth.token, history])\n\n\n    const handleChangeInput = e => {\n        const { name, value } = e.target\n        setUserData({ ...userData, [name]: value })\n    }\n\n    const handleSubmit = e => {\n        e.preventDefault()\n        dispatch(register(userData))\n    }\n\n    return (\n        <div className=\"auth_page\">\n            <form onSubmit={handleSubmit}>\n                <h3 className=\"text-uppercase text-center mb-4\">\n                    Enregistrer Apps\n                </h3>\n\n                <label htmlFor=\"email\">Nom</label>\n                <div className=\"form-group\">\n                    <input\n                        type=\"text\"\n                        className=\"form-control\"\n                        id=\"username\"\n                        name=\"username\"\n                        onChange={handleChangeInput}\n                        value={username.toLowerCase().replace(/ /g, '')}\n                        style={{ background: alert.username ? '#fd2d6a14' : '' }}\n                    />\n                    <small className=\"form-text text-danger\">\n                        {alert.username || ''}\n                    </small>\n                </div>\n\n                {/*  Correo Electrnico */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"email\">E-mail</label>\n                    <input\n                        type=\"email\"\n                        className=\"form-control\"\n                        id=\"email\"\n                        name=\"email\"\n                        onChange={handleChangeInput}\n                        value={email}\n                        style={{ background: alert.email ? '#fd2d6a14' : '' }}\n                    />\n                    <small className=\"form-text text-danger\">\n                        {alert.email || ''}\n                    </small>\n                </div>\n\n                {/*  Contrasea */}\n                <div className=\"form-group\">\n                    <label htmlFor=\"password\">Mot de passe</label>\n                    <div className=\"pass\">\n                        <input\n                            type={typePass ? 'text' : 'password'}\n                            className=\"form-control\"\n                            id=\"password\"\n                            name=\"password\"\n                            onChange={handleChangeInput}\n                            value={password}\n                            style={{ background: alert.password ? '#fd2d6a14' : '' }}\n                        />\n                        <small onClick={() => setTypePass(!typePass)}>\n                            {typePass ? 'maque' : 'voir'}\n                        </small>\n                    </div>\n                    <small className=\"form-text text-danger\">\n                        {alert.password || ''}\n                    </small>\n                </div>\n\n\n                <div className=\"form-group\">\n                    <label htmlFor=\"cf_password\">Confirmation</label>\n                    <div className=\"pass\">\n                        <input\n                            type={typeCfPass ? 'text' : 'password'}\n                            className=\"form-control\"\n                            id=\"cf_password\"\n                            name=\"cf_password\"\n                            onChange={handleChangeInput}\n                            value={cf_password}\n                            style={{ background: alert.cf_password ? '#fd2d6a14' : '' }}\n                        />\n                        <small onClick={() => setTypeCfPass(!typeCfPass)}>\n                            {typePass ? 'maque' : 'voir'}     </small>\n                    </div>\n                    <small className=\"form-text text-danger\">\n                        {alert.cf_password || ''}\n                    </small>\n                </div>\n\n                {/*  Botn de Registro */}\n                <button type=\"submit\" className=\"btn btn-dark w-100\">\n                    S'inscrire\n                </button>\n\n                {/*  Redireccin a Login */}\n                <p className=\"my-2\">\n                    j'ai dj un compte\n                    <Link to=\"/\" style={{ color: 'crimson' }}>\n                        Connectez maintenant\n                    </Link>\n                </p>\n            </form>\n        </div>\n    )\n}\n\nexport default Register\n","import React, { useState } from \"react\";\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { bloquearUsuario } from \"../redux/actions/userBlockAction\";\r\n\r\nconst BloqueModalUser = ({ setOpenBlockModal, user }) => {\r\n  const { auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n\r\n  const [datosBloqueo, setDatosBloqueo] = useState({\r\n    motivo: \"\",\r\n    content: \"\",\r\n    fechaBloqueo: \"\",\r\n    fechaLimite: \"\"\r\n  });\r\n\r\n  const handleChangeInput = (e) => {\r\n    const { name, value } = e.target;\r\n    setDatosBloqueo({ ...datosBloqueo, [name]: value });\r\n  };\r\n\r\n  const handleBloqueo = (e) => {\r\n    e.preventDefault();\r\n\r\n    const { motivo, fechaBloqueo, fechaLimite } = datosBloqueo;\r\n\r\n    if (!motivo || !fechaBloqueo || !fechaLimite) {\r\n      alert(\" Completa todos los campos, incluyendo la fecha y hora.\");\r\n      return;\r\n    }\r\n\r\n    const inicio = new Date(fechaBloqueo);\r\n    const limite = new Date(fechaLimite);\r\n    const ahora = new Date();\r\n\r\n    if (inicio < ahora) {\r\n      alert(\" La fecha de inicio debe ser actual o futura.\");\r\n      return;\r\n    }\r\n\r\n    if (limite <= inicio) {\r\n      alert(\" La fecha lmite debe ser posterior a la fecha de inicio.\");\r\n      return;\r\n    }\r\n\r\n    dispatch(bloquearUsuario({ auth, datosBloqueo, user }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"modalbloquear\" >\r\n      <div className=\"modalbloquear-dialog\">\r\n        <div className=\"modalbloquar-content\">\r\n          <div className=\"modalbloquear-header\">\r\n            <h5 className=\"modalbloquear-title\">Confirmar bloqueo</h5>\r\n            <button type=\"button\" className=\"btnbloquear btn-secondary\" onClick={() => setOpenBlockModal(false)}>Cerrar</button>\r\n          </div>\r\n          <form onSubmit={handleBloqueo}>\r\n            <div className=\"modalbloquear-body\">\r\n              <div className=\"form-group-bloquear\">\r\n                <label>Raison du blocage</label>\r\n                <select className=\"form-control-bloquar\" name=\"motivo\" value={datosBloqueo.motivo} onChange={handleChangeInput} required>\r\n                  <option value=\"\"> Ma 3adjbatnich kamartak</option>\r\n                  <option value=\"\"> Ma nassjakoukch fi laplicacion</option>\r\n                  <option value=\"\"> Roh chof man djiha wahdojra</option>\r\n                  <option value=\"\">     </option>\r\n                  <option value=\"\"> </option>\r\n                  <option value=\"Comportement abusif\"> </option>\r\n                  <option value=\"Spam\">   </option>\r\n                  <option value=\"Violation des conditions d'utilisation\">  </option>\r\n                  <option value=\"Langage offensant\"> </option>\r\n                  <option value=\"Fraude\"></option>\r\n                  <option value=\"Usurpation d'identit\"> </option>\r\n                  <option value=\"Contenu inappropri\">  </option>\r\n                  <option value=\"Violation de la vie prive\"> </option>\r\n                  <option value=\"Interruption du service\"> </option>\r\n                  <option value=\"Activit suspecte\"> </option>\r\n                  <option value=\"Autre\"></option>\r\n\r\n                </select>\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Detalles adicionales</label>\r\n                <textarea name=\"content\" value={datosBloqueo.content} onChange={handleChangeInput} placeholder=\"Proporciona ms detalles sobre el motivo del bloqueo\" className=\"form-control\" />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Fecha de inicio del bloqueo</label>\r\n                <input type=\"datetime-local\" className=\"form-control\" name=\"fechaBloqueo\" value={datosBloqueo.fechaBloqueo} onChange={handleChangeInput} />\r\n              </div>\r\n              <div className=\"form-group\">\r\n                <label>Fecha lmite del bloqueo</label>\r\n                <input type=\"datetime-local\" className=\"form-control\" name=\"fechaLimite\" value={datosBloqueo.fechaLimite} onChange={handleChangeInput} />\r\n              </div>\r\n            </div>\r\n            <div className=\"modal-footer\">\r\n              <button type=\"submit\" className=\"btn btn-danger\">Bloquear</button>\r\n              <button type=\"button\" className=\"btn btn-secondary\" onClick={() => setOpenBlockModal(false)}>Cerrar</button>\r\n            </div>\r\n          </form>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default BloqueModalUser;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataAPI } from \"../utils/fetchData\";\r\nimport { deleteUser, USER_TYPES } from \"../redux/actions/userAction\";\r\nimport LoadMoreBtn from \"./LoadMoreBtn\";\r\nimport LoadIcon from \"../images/loading.gif\";\r\nimport UserCard from \"./UserCard\";\r\nimport BloqueModalUser from \"./BloqueModalUser\";\r\n \r\nconst UsersEdicion = () => {\r\n  const { homeUsers,  auth } = useSelector((state) => state);\r\n \r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n  const [search,  ] = useState(\"\");\r\n  const [filteredUsers, setFilteredUsers] = useState(homeUsers.users || []);\r\n  const [openBlockModal, setOpenBlockModal] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n\r\n  const handleOpenModal = (user) => {\r\n    setSelectedUser(user); // Guardamos el usuario que queremos bloquear\r\n    setOpenBlockModal(true); // Abrimos el modal\r\n  };\r\n  const handleDeleteUser = (user) => {\r\n    if (window.confirm(\"Are you sure you want to delete this user?\")) {\r\n      dispatch(deleteUser({ user, auth }));\r\n      // history.push(\"/\"); // Redirigir si es necesario\r\n    }\r\n  };\r\n  \r\n  const handleCloseModal = () => {\r\n    setOpenBlockModal(false); // Cerramos el modal\r\n    setSelectedUser(null); // Limpiamos el usuario seleccionado\r\n  };\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`users?limit=${homeUsers.page * 9}`, auth.token);\r\n    dispatch({\r\n      type: USER_TYPES.GET_USERS,\r\n      payload: { ...res.data, page: homeUsers.page + 1 },\r\n    });\r\n    setLoad(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setFilteredUsers(homeUsers.users || []);\r\n  }, [homeUsers.users]);\r\n\r\n  const filteredResults = filteredUsers.filter(\r\n    (user) =>\r\n      user.username.toLowerCase().includes(search.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n\r\n  const handleFilter = (criteria) => {\r\n    let sortedUsers = [...homeUsers.users];\r\n\r\n    switch (criteria) {\r\n      case \"mostReported\":\r\n        sortedUsers.sort((a, b) => (b.reportCount || 0) - (a.reportCount || 0));\r\n        break;\r\n      case \"lastLogin\":\r\n        sortedUsers.sort((a, b) => new Date(b.lastLogin) - new Date(a.lastLogin));\r\n        break;\r\n      default:\r\n        sortedUsers = homeUsers.users;\r\n    }\r\n\r\n    setFilteredUsers(sortedUsers);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n  {/* Contenido de la tabla y filtros */}\r\n  <div>\r\n    <div className=\"dropdown mb-3\">\r\n      Edicin\r\n      <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n        Filtrar\r\n      </button>\r\n      <ul className=\"dropdown-menu\">\r\n        <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostReported\")}> Ms denunciados</button></li>\r\n        <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"lastLogin\")}> ltimos en iniciar sesin</button></li>\r\n        <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"reset\")}> Restablecer</button></li>\r\n      </ul>\r\n    </div>\r\n\r\n    <table className=\"table table-striped\">\r\n      <thead>\r\n        <tr>\r\n          <th>#</th>\r\n          <th>Usuario</th>\r\n          <th>Registro</th>\r\n          <th>ltimo Login</th>\r\n          <th>Estado</th> {/* Nuevo campo para el estado de bloqueo */}\r\n          <th>Reportes</th>\r\n          <th>Reportado Por</th>\r\n          <th>ltima IP</th>\r\n          <th>Acciones</th>\r\n        </tr>\r\n      </thead>\r\n      <tbody>\r\n  {filteredResults.map((user, index) => (\r\n    <tr key={user._id}>\r\n      <td>{index + 1}</td>\r\n      <td><UserCard user={user} /></td>\r\n      <td>{new Date(user.createdAt).toLocaleDateString()}</td>\r\n      <td>{new Date(user.lastLogin).toLocaleDateString()}</td>\r\n      <td>\r\n        {user.esBloqueado ? ( // Verifica si el usuario est bloqueado\r\n          <span className=\"text-danger\"> Bloqueado</span> // cono y texto para bloqueado\r\n        ) : (\r\n          <span className=\"text-success\"> Activo</span> // cono y texto para activo\r\n        )}\r\n      </td>\r\n      \r\n      \r\n      <td>{user.report.userId || \"N/A\"}</td>\r\n      <td>{user.report.reportedBy || \"N/A\"}</td>\r\n      <td>{user.lastIp || \"Desconocida\"}</td>\r\n      <td>\r\n        <div className=\"action-dropdown\" style={{ position: \"relative\" }}>\r\n          <button className=\"btn btn-danger dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n            Accin\r\n          </button>\r\n          <div className=\"dropdown-menu\">\r\n            <button className=\"dropdown-item text-warning\" onClick={() => handleOpenModal(user)}>\r\n              {user.esBloqueado ? \" Desbloquear\" : \" Bloquear\"} {/* Cambia el texto segn el estado */}\r\n            </button>\r\n            <button className=\"dropdown-item\"> Editar</button>\r\n            <button\r\n                      className=\"dropdown-item text-danger\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault(); // Prevenir el comportamiento predeterminado\r\n                        e.stopPropagation(); // Evitar que el evento se propague\r\n                        handleDeleteUser(user); // Pasar el usuario a la funcin\r\n                      }}\r\n                    >\r\n                       Eliminar\r\n                    </button>\r\n            <button className=\"dropdown-item text-warning\"> Silenciar</button>\r\n            <button className=\"dropdown-item\"> Enviar mensaje</button>\r\n            <button className=\"dropdown-item\"> Ver perfil</button>\r\n            <button className=\"dropdown-item\"> Ver reportes</button>\r\n            <button className=\"dropdown-item text-info\"> Iniciar sesin como usuario</button>\r\n          </div>\r\n        </div>\r\n      </td>\r\n    </tr>\r\n  ))}\r\n</tbody>\r\n    </table>\r\n\r\n    {load && <img src={LoadIcon} alt=\"loading\" className=\"loading-icon\" />}\r\n    <LoadMoreBtn result={homeUsers.result} page={homeUsers.page} load={load} handleLoadMore={handleLoadMore} />\r\n  </div>\r\n\r\n  {/*  Mueve el modal fuera del contenedor de la tabla */}\r\n  {openBlockModal && (\r\n    <BloqueModalUser user={selectedUser} setOpenBlockModal={handleCloseModal} />\r\n  )}\r\n</div>\r\n\r\n\r\n  )\r\n};\r\n\r\nexport default UsersEdicion;","import React from 'react'\r\nimport UsersEdicion from '../components/UsersEdicion'\r\n \r\nconst Edicionusers = () => {\r\n  return (\r\n \r\n    <div>\r\n        <UsersEdicion/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Edicionusers","import React, { useState, useEffect } from \"react\";\r\nimport { useSelector, useDispatch } from \"react-redux\";\r\nimport { getDataAPI } from \"../utils/fetchData\";\r\nimport { deleteUser, USER_TYPES } from \"../redux/actions/userAction\";\r\nimport LoadMoreBtn from \"./LoadMoreBtn\";\r\nimport LoadIcon from \"../images/loading.gif\";\r\nimport UserCard from \"./UserCard\";\r\n\r\n\r\n\r\nconst UsersAction = () => {\r\n  const { homeUsers, auth } = useSelector((state) => state);\r\n  const dispatch = useDispatch();\r\n  const [load, setLoad] = useState(false);\r\n  const [search,  ] = useState(\"\");\r\n  const [filteredUsers, setFilteredUsers] = useState(homeUsers.users || []);\r\n\r\n  const handleLoadMore = async () => {\r\n    setLoad(true);\r\n    const res = await getDataAPI(`users?limit=${homeUsers.page * 9}`, auth.token);\r\n    dispatch({\r\n      type: USER_TYPES.GET_USERS,\r\n      payload: { ...res.data, page: homeUsers.page + 1 },\r\n    });\r\n    setLoad(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setFilteredUsers(homeUsers.users || []);\r\n  }, [homeUsers.users]);\r\n\r\n  const filteredResults = filteredUsers.filter(\r\n    (user) =>\r\n      user.username.toLowerCase().includes(search.toLowerCase()) ||\r\n      user.email.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n \r\n \r\n  const handleDeleteUser = (user) => {\r\n    if (window.confirm(\"Are you sure you want to delete this user?\")) {\r\n      dispatch(deleteUser({ user, auth }));\r\n      // history.push(\"/\"); // Redirigir si es necesario\r\n    }\r\n  }; \r\n\r\n  const handleFilter = (criteria) => {\r\n    let sortedUsers = [...homeUsers.users];\r\n\r\n    switch (criteria) {\r\n      case \"mostFollowing\":\r\n        sortedUsers.sort((a, b) => b.following.length - a.following.length);\r\n        break;\r\n      case \"mostFollowers\":\r\n        sortedUsers.sort((a, b) => b.followers.length - a.followers.length);\r\n        break;\r\n      case \"mostPosts\":\r\n        sortedUsers.sort((a, b) => b.posts.length - a.posts.length);\r\n        break;\r\n      case \"mostLikesReceived\":\r\n        sortedUsers.sort((a, b) => b.totalLikesReceived - a.totalLikesReceived);\r\n        break;\r\n      case \"mostLikesGiven\":\r\n        sortedUsers.sort((a, b) => b.likesGiven - a.likesGiven);\r\n        break;\r\n      case \"mostCommentsMade\":\r\n        sortedUsers.sort((a, b) => b.commentsMade - a.commentsMade);\r\n        break;\r\n      case \"lastLogin\":\r\n        sortedUsers.sort((a, b) => new Date(b.lastLogin) - new Date(a.lastLogin));\r\n        break;\r\n      default:\r\n        sortedUsers = homeUsers.users;\r\n    }\r\n\r\n    setFilteredUsers(sortedUsers);\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <div className=\"dropdown mb-3\">\r\n        <button className=\"btn btn-primary dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n          Filtrar Usuarios\r\n        </button>\r\n        <ul className=\"dropdown-menu\">\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostFollowing\")}> Ms following</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostFollowers\")}> Ms followers</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostPosts\")}> Ms posts</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostLikesReceived\")}> Ms likes recibidos</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostLikesGiven\")}> Ms likes dados</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"mostCommentsMade\")}> Ms comentarios hechos</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"lastLogin\")}> ltimos en iniciar sesin</button></li>\r\n          <li><button className=\"dropdown-item\" onClick={() => handleFilter(\"reset\")}> Restablecer</button></li>\r\n        </ul>\r\n      </div>\r\n\r\n      <table className=\"table table-striped\">\r\n        <thead>\r\n          <tr>\r\n            <th>#</th>\r\n            <th>Usuario</th>\r\n            <th>Registro</th>\r\n            <th>Login</th>\r\n            <th>Posts</th>\r\n            <th>Reportes</th>\r\n            <th>LikesDados</th>\r\n            <th>Likes Recibidos</th>\r\n            <th>Comentarios Hechos</th>\r\n            <th>Comentarios Recibidos</th>\r\n            <th>Siguiendo</th>\r\n            <th>Seguidores</th>\r\n            <th>Acciones</th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {filteredResults.map((user, index) => (\r\n            <tr key={user._id}>\r\n              <td>{index + 1}</td>\r\n              <th><UserCard user={user} /></th>\r\n              <td>{new Date(user.createdAt).toLocaleDateString()}</td>\r\n              <td>{new Date(user.lastLogin).toLocaleDateString()}</td>\r\n              <td>{user.posts.length}</td>\r\n              <td>{user.report.length}</td>\r\n              <td>{user.likesGiven}</td>\r\n              <td>{user.totalLikesReceived}</td>\r\n              <td>{user.commentsMade}</td>\r\n              <td>{user.totalCommentsReceived}</td>\r\n              <td>{user.totalFollowing}</td>\r\n              <td>{user.totalFollowers}</td>\r\n              <td>\r\n                <div className=\"action-dropdown\" style={{ position: \"relative\" }}>\r\n                  <button className=\"btn btn-danger dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n                    Accin\r\n                  </button>\r\n                  <div className=\"dropdown-menu\" data-bs-autoClose=\"false\">\r\n                    <button className=\"dropdown-item\"> Editar</button>\r\n\r\n                    <button\r\n                      className=\"dropdown-item text-danger\"\r\n                      onClick={(e) => {\r\n                        e.preventDefault();\r\n                        e.stopPropagation();\r\n                        handleDeleteUser(user); // Pasar el usuario a la funcin\r\n                  \r\n                      }}\r\n                    >\r\n                       Eliminar\r\n                    </button>\r\n\r\n\r\n                    <button className=\"dropdown-item text-warning\"> Bloquear</button>\r\n                    <button className=\"dropdown-item text-warning\"> Silenciar</button>\r\n                    <button className=\"dropdown-item\"> Enviar mensaje</button>\r\n                    <button className=\"dropdown-item\"> Ver perfil</button>\r\n                    <button className=\"dropdown-item\"> Ver reportes</button>\r\n                    <button className=\"dropdown-item text-info\"> Iniciar sesin como usuario</button>\r\n                  </div>\r\n                </div>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </table>\r\n      {load && <img src={LoadIcon} alt=\"loading\" className=\"loading-icon\" />}\r\n      <LoadMoreBtn result={homeUsers.result} page={homeUsers.page} load={load} handleLoadMore={handleLoadMore} />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UsersAction;","import React from 'react'\r\nimport UsersAction from '../components/UsersAction'\r\n \r\nconst UsersActionn = () => {\r\n  return (\r\n \r\n    <div>\r\n        <UsersAction/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default UsersActionn","import React, { useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';  // Usamos useSelector para acceder al estado global\r\n\r\nconst Bloqueoss = () => {\r\n    const { auth, userBlockReducer } = useSelector(state => state);  // Accedemos al estado global\r\n    const user = auth.user;  // Suponiendo que el usuario est dentro del estado auth\r\n\r\n    // Verificamos si el usuario est bloqueado\r\n    const isBlocked = userBlockReducer.blockedUsers.some(blockedUser => blockedUser.user._id === user._id && blockedUser.esBloqueado);\r\n\r\n    useEffect(() => {\r\n        if (!auth.token) {\r\n            // Si no hay token, redirigir o mostrar algn mensaje\r\n            console.log(\"No ests autenticado\");\r\n        }\r\n    }, [auth.token]);\r\n\r\n    // Si el usuario est bloqueado, mostramos los detalles\r\n    return (\r\n        <div className=\"bloqueo-container\">\r\n            {isBlocked ? (\r\n                <div className=\"bloqueo-card\">\r\n                    <h2>    </h2>\r\n                    <div className=\"bloqueo-info\">\r\n                        <div className=\"bloqueo-item\">\r\n                            <span className=\"label\"> : </span>\r\n                            <span className=\"value\">{user.username}</span>\r\n                        </div>\r\n                        <div className=\"bloqueo-item\">\r\n                            <span className=\"label\"> : </span>\r\n                            <span className=\"value\">{userBlockReducer.blockedUsers.find(blockedUser => blockedUser.user._id === user._id)?.motivo || 'No disponible'}</span>\r\n                        </div>\r\n                        <div className=\"bloqueo-item\">\r\n                            <span className=\"label\"> : </span>\r\n                            <span className=\"value\">\r\n                                {new Date(userBlockReducer.blockedUsers.find(blockedUser => blockedUser.user._id === user._id)?.fechaBloqueo).toLocaleDateString() || 'No disponible'}\r\n                            </span>\r\n                        </div>\r\n                        <div className=\"bloqueo-item\">\r\n                            <span className=\"label\">  : </span>\r\n                            <span className=\"value\">\r\n                                {userBlockReducer.blockedUsers.find(blockedUser => blockedUser.user._id === user._id)?.fechaLimite \r\n                                    ? new Date(userBlockReducer.blockedUsers.find(blockedUser => blockedUser.user._id === user._id)?.fechaLimite).toLocaleDateString()\r\n                                    : 'No disponible'}\r\n                            </span>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            ) : (\r\n                <div className=\"bloqueo-card\">\r\n                    <h2>Utilizateur et desbloque</h2>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Bloqueoss;\r\n","import React from 'react'\r\nimport Bloqueoss from '../components/Bloqueoss'\r\n\r\nconst Bloqueos = () => {\r\n  return (\r\n    <div>\r\n      <Bloqueoss/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Bloqueos\r\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport PostCard from '../PostCard'\n\nimport LoadIcon from '../../images/loading.gif'\nimport LoadMoreBtn from '../LoadMoreBtn'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { POST_TYPES } from '../../redux/actions/postAction'\n\n\nconst Posts = () => {\n    const { homePosts, auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`posts?limit=${homePosts.page * 9}`, auth.token)\n\n        dispatch({\n            type: POST_TYPES.GET_POSTS, \n            payload: {...res.data, page: homePosts.page + 1}\n        })\n\n        setLoad(false)\n    }\n\n    return (\n        <div className=\"post_thumb\">\n            {\n                homePosts.posts.map(post => (\n                    <PostCard key={post._id} post={post} theme={theme} />\n                ))\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            \n            <LoadMoreBtn result={homePosts.result} page={homePosts.page}\n            load={load} handleLoadMore={handleLoadMore} />\n        </div>\n    )\n}\n\nexport default Posts\n","import React, { useEffect } from 'react'\n \nimport Posts from '../components/home/Posts'\n \nimport { useSelector } from 'react-redux'\nimport LoadIcon from '../images/loading.gif'\n\n\nlet scroll = 0;\n\nconst Home = () => {\n    const { homePosts } = useSelector(state => state)\n\n    window.addEventListener('scroll', () => {\n        if(window.location.pathname === '/'){\n            scroll = window.pageYOffset\n            return scroll;\n        }\n    })\n\n    useEffect(() => {\n        setTimeout(() => {\n            window.scrollTo({top: scroll, behavior: 'smooth'})\n        }, 100)\n    },[])\n\n    return (\n        <div className=\"home row mx-0\">\n            \n            \n\n                {\n                    homePosts.loading \n                    ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n                    : (homePosts.result === 0 && homePosts.posts.length === 0)\n                        ? <h2 className=\"text-center\">No Post</h2>\n                        : <Posts />\n                }\n                \n            \n            \n            \n        </div>\n    )\n}\n\nexport default Home\n","import React from \"react\";\r\n \r\nconst InfoAplicacion = () => {\r\n  return (\r\n    <div> \r\n    <div className=\"info-container\">\r\n    <h1 className=\"info-title\"> Propos de Notre Application</h1>\r\n      <section className=\"info-section\">\r\n        <h2>Annes de Recherche et dApprentissage</h2>\r\n        <p>\r\n          Cette application est le fruit dannes de travail acharn, dexploration et \r\n          dapprentissage avec lintelligence artificielle avance. Chaque ligne de \r\n          code, chaque base de donnes et chaque fonctionnalit ont t conues \r\n          avec passion et persvrance, dans le but doffrir une exprience fluide \r\n          et innovante.\r\n        </p>\r\n      </section>\r\n\r\n       \r\n\r\n      <section className=\"info-section\">\r\n        <h2>Participez et Partagez</h2>\r\n        <p>\r\n          Cette application est bien plus quune plateforme : cest une communaut.\r\n          Partagez-la sur les rseaux sociaux pour que dautres puissent en profiter.\r\n        </p>\r\n      </section>\r\n\r\n      <section className=\"info-section\">\r\n        <h2>Un Systme Complet avec Assistance</h2>\r\n        <p>\r\n          Ce que vous voyez ici nest que linterface utilisateur. Il existe une \r\n          plateforme administrative pour grer les publications et garantir un \r\n          environnement sr et efficace. Notre quipe est l pour rpondre  vos \r\n          questions et suggestions en temps rel.\r\n        </p>\r\n      </section>\r\n\r\n     \r\n      <h1 className=\"info-title\">  </h1>\r\n      <section className=\"info-section\">\r\n        <h2>   </h2>\r\n        <p>\r\n                     \r\n           .          \r\n                       \r\n            .\r\n        </p>\r\n      </section>\r\n\r\n      <section className=\"info-section\">\r\n        <h2> </h2>\r\n        <ul className=\"info-list\">\r\n          <li><strong> :</strong>     .</li>\r\n          <li><strong>   :</strong>     .</li>\r\n          <li><strong> :</strong>    .</li>\r\n          <li><strong>:</strong>        .</li>\r\n          <li><strong>  :</strong>     .</li>\r\n          <li><strong> :</strong>     .</li>\r\n          <li><strong>  PWA:</strong>       .</li>\r\n        </ul>\r\n      </section>\r\n\r\n      <section className=\"info-section\">\r\n        <h2> </h2>\r\n        <p>\r\n                  .    \r\n                .\r\n        </p>\r\n      </section>\r\n\r\n      <section className=\"info-section\">\r\n        <h2>  </h2>\r\n        <p>\r\n                 .     \r\n               .      \r\n             .\r\n        </p>\r\n      </section>\r\n    </div>\r\n      <h1 className=\"info-title\">Descubre la Revolucin en Bienes Races</h1>\r\n \r\n      <section className=\"info-section\">\r\n        <h2>Una Aplicacin Forjada en la Perseverancia</h2>\r\n        <p>\r\n          Detrs de cada lnea de cdigo, hay incontables noches de esfuerzo,\r\n          das de estudio sin descanso y una visin clara: construir la mejor\r\n          plataforma para publicacin de bienes races. Nuestra aplicacin no\r\n          es solo software, es el resultado de aos de aprendizaje, prueba y\r\n          error, optimizacin y crecimiento continuo con el respaldo de IA\r\n          avanzada y cdigo puro.\r\n        </p>\r\n      </section>\r\n\r\n    \r\n      <section className=\"info-section\">\r\n        <h2>Qu Hace Que Esta Plataforma Sea nica?</h2>\r\n        <p>\r\n          Hemos diseado un ecosistema donde publicar propiedades es casi\r\n          automtico. Sin complicaciones, sin necesidad de escribir largos\r\n          formularios. Solo unos pocos clics y tu anuncio estar en lnea.\r\n        </p>\r\n        <ul className=\"info-list\">\r\n          <li><strong>Chat en tiempo real:</strong> Comuncate instantneamente con los interesados.</li>\r\n          <li><strong>Comentarios y Likes en vivo:</strong> Recibe feedback inmediato de potenciales clientes.</li>\r\n          <li><strong>Notificaciones inteligentes:</strong> Mantente al tanto cuando alguien interacte contigo.</li>\r\n          <li><strong>Diseo adaptable:</strong> Accede desde cualquier dispositivo sin perder calidad.</li>\r\n          <li><strong>Optimizacin para PWA:</strong> Descrgala en tu mvil y sala como una app nativa.</li>\r\n        </ul>\r\n      </section>\r\n\r\n      \r\n      <section className=\"info-section\">\r\n        <h2>Tu Viaje Comienza Aqu</h2>\r\n        <p>\r\n          Para aprovechar todo el potencial de nuestra plataforma, sigue estos\r\n          simples pasos:\r\n        </p>\r\n        <ol className=\"info-list\">\r\n          <li>Regstrate con tu correo electrnico o redes sociales.</li>\r\n          <li>Inicia sesin y accede a todas las funciones avanzadas.</li>\r\n          <li>Publica tu propiedad con imgenes, detalles y ubicacin.</li>\r\n          <li>Interacta con usuarios a travs de comentarios y chat.</li>\r\n          <li>Recibe notificaciones en tiempo real sobre cualquier novedad.</li>\r\n        </ol>\r\n      </section>\r\n\r\n    \r\n      <section className=\"info-section\">\r\n        <h2>En Constante Evolucin</h2>\r\n        <p>\r\n          Esta aplicacin no es un proyecto esttico. Estamos en actualizacin\r\n          continua, aadiendo nuevas funcionalidades, mejorando la experiencia\r\n          de usuario y optimizando los estilos. Tu feedback es esencial para\r\n          seguir creciendo.\r\n        </p>\r\n        <p>\r\n          Te gusta lo que ves? Comprtelo en redes sociales y ayuda a ms\r\n          personas a descubrir la nueva era de los bienes races!\r\n        </p>\r\n      </section>\r\n     </div>\r\n  );\r\n};\r\n\r\nexport default InfoAplicacion;\r\n","import React from 'react'\r\nimport InfoAplicacion from '../components/InfoAplicacion'\r\n\r\nconst Informacionaplicacion = () => {\r\n  return (\r\n    <div>\r\n      <InfoAplicacion/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Informacionaplicacion\r\n","import { useSelector, useDispatch } from \"react-redux\";\r\nimport { useState, useEffect } from \"react\";\r\nimport UserCard from \"./UserCard\";\r\nimport moment from \"moment\";\r\nimport { unBlockUser } from \"../redux/actions/userBlockAction\";\r\n\r\nconst ListaUsuariosBloqueados = () => {\r\n  const dispatch = useDispatch();\r\n  const { userBlockReducer, auth } = useSelector((state) => state);\r\n  \r\n  const [blockedUsers, setBlockedUsers] = useState([]);\r\n\r\n  // Sincronizar el estado local con Redux\r\n  useEffect(() => {\r\n    setBlockedUsers(userBlockReducer.blockedUsers || []);\r\n  }, [userBlockReducer.blockedUsers]);\r\n\r\n  const formatDate = (date) => (date ? moment(date).format(\"DD/MM/YYYY HH:mm\") : \"N/A\");\r\n\r\n  const handleDesbloqueo = (user) => {\r\n    const datosDesbloqueo = {\r\n      motivo: \"Desbloqueo manual\",\r\n      fechaBloqueo: new Date().toISOString(),\r\n      fechaLimite: null\r\n    };\r\n\r\n    dispatch(unBlockUser({ auth, datosDesbloqueo, user }));\r\n\r\n    // Filtra la lista para eliminar al usuario desbloqueado y actualizar la UI\r\n    setBlockedUsers((prev) => prev.filter((block) => block.user._id !== user._id));\r\n  };\r\n\r\n  return (\r\n    <div className=\"modalusersearchlist\">\r\n      <div className=\"headersearchlist\">\r\n        <h5 className=\"titlesearchlist\">Usuarios bloqueados</h5>\r\n      </div>\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>#</th>\r\n              <th>Usuario</th>\r\n              <th>Email</th>\r\n              <th>Motivo del bloqueo</th>\r\n              <th>Fecha de bloqueo</th>\r\n              <th>Fecha lmite</th>\r\n              <th>Administrador</th>\r\n              <th>Duracin</th>\r\n              <th>Tipo de bloqueo</th>\r\n              <th>Acciones</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n            {blockedUsers.length > 0 ? (\r\n              blockedUsers.map((block, index) => (\r\n                <tr key={block.user._id}>\r\n                  <td>{index + 1}</td>\r\n                  <td><UserCard user={block.user} /></td>\r\n                  <td>{block.user?.email}</td>\r\n                  <td>{block.motivo || \"No especificado\"}</td>\r\n                  <td>{formatDate(block.fechaBloqueo)}</td>\r\n                  <td>{formatDate(block.fechaLimite)}</td>\r\n                  <td>{block.userquibloquea?.username || \"inconu\"}</td>\r\n                  <td>{block.duracion || \"No especificado\"}</td>\r\n                  <td>{block.tipoBloqueo || \"N/A\"}</td>\r\n                  <td>\r\n                    <div className=\"action-dropdown\">\r\n                      <button className=\"btn btn-danger dropdown-toggle\" type=\"button\" data-bs-toggle=\"dropdown\">\r\n                        Accin\r\n                      </button>\r\n                      <div className=\"dropdown-menu\">\r\n                        <button className=\"dropdown-item\" onClick={() => handleDesbloqueo(block.user)}>\r\n                          Desbloquear\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))\r\n            ) : (\r\n              <tr>\r\n                <td colSpan=\"10\">No hay usuarios bloqueados</td>\r\n              </tr>\r\n            )}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ListaUsuariosBloqueados;\r\n","import React from 'react'\r\n \r\nimport ListaUsuariosBloqueados from '../components/ListaUsariosBloqueados'\r\n\r\nconst Listadeusuariosbloqueadoss = () => {\r\n  return (\r\n    <div>\r\n      <ListaUsuariosBloqueados/>\r\n    </div>\r\n  )\r\n}\r\n\r\n \r\n\r\nexport default Listadeusuariosbloqueadoss\r\n","import { useSelector, useDispatch } from 'react-redux';\r\nimport UserCard from './UserCard';\r\nimport { roleuserautenticado, rolemoderador,rolestory, rolesuperuser, roleadmin } from '../redux/actions/roleAction';\r\nimport { useState,useEffect } from 'react';\r\n\r\nconst Roless = () => {\r\n  const { homeUsers, auth } = useSelector(state => state);\r\n  const dispatch = useDispatch();\r\n  const [selectedRoles, setSelectedRoles] = useState({});\r\n  useEffect(() => {\r\n    if (homeUsers?.users) {\r\n      setUsersList(homeUsers.users);\r\n    }\r\n  }, [homeUsers]);\r\n  // Estado para almacenar los roles seleccionados\r\n \r\n\r\n  const handleChangeRole = async (user, selectedRole) => {\r\n    switch (selectedRole) {\r\n      case 'user':\r\n        await dispatch(roleuserautenticado(user, auth));\r\n        break;\r\n      case 'Super-utilisateur':\r\n        await dispatch(rolesuperuser(user, auth));\r\n        break;\r\n      case 'Moderateur':\r\n        await dispatch(rolemoderador(user, auth));\r\n        break;\r\n      case 'admin':\r\n        await dispatch(roleadmin(user, auth));\r\n        break;\r\n        case 'story':\r\n          await dispatch(rolestory(user, auth));\r\n          break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  // Cambio de rol inmediato\r\n  const [usersList, setUsersList] = useState(homeUsers?.users || []);\r\n\r\n\r\n  const handleRoleChange = async (user, selectedRole) => {\r\n    setSelectedRoles(prev => ({ ...prev, [user._id]: selectedRole }));\r\n    await handleChangeRole(user, selectedRole);\r\n  \r\n    // Actualiza la lista local de usuarios con el nuevo rol\r\n    setUsersList(prevUsers =>\r\n      prevUsers.map(u => (u._id === user._id ? { ...u, role: selectedRole } : u))\r\n    );\r\n  };\r\n  \r\n  return (\r\n    <div className=\"modalcontentrole\">\r\n      <div className=\"modalheaderrole\">\r\n        <h5 className=\"modaltitlerole\">Asignar roles</h5>\r\n      </div>\r\n      <div className=\"table-responsive\">\r\n        <table className=\"table\">\r\n          <thead>\r\n            <tr>\r\n              <th>Usuario</th>\r\n              <th>Rol Actual</th>\r\n              <th>Cambiar Rol</th>\r\n            </tr>\r\n          </thead>\r\n          <tbody>\r\n  {usersList.map((user, index) => (\r\n    <tr key={user._id || index}>\r\n      <td>\r\n        <UserCard user={user} />\r\n      </td>\r\n      <td>{user.role}</td>\r\n      <td>\r\n        <select\r\n          className=\"form-control-role\"\r\n          onChange={(e) => handleRoleChange(user, e.target.value)}\r\n          value={selectedRoles[user._id] || user.role}\r\n        >\r\n          <option value=\"user\">Utilisateur </option>\r\n          <option value=\"Super-utilisateur\">Super utilisateur</option>\r\n          <option value=\"Moderateur\">Moderateur</option>\r\n          <option value=\"admin\">Admin</option>\r\n          <option value=\"story\">Story</option>\r\n        </select>\r\n      </td>\r\n    </tr>\r\n  ))}\r\n</tbody>\r\n\r\n        </table>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Roless;\r\n\r\n\r\n","import React from 'react'\r\nimport Roless from '../components/Roless';\r\n \r\nconst Roles = () => {\r\n  return (\r\n    <div>\r\n   <Roless/>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Roles\r\n","import React from 'react'\n\nconst Icons = ({setContent, content, theme}) => {\n    const reactions = [   \n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', '',\n        '', '', '', '', '', '', '', ''\n    ]\n\n    return (\n        <div className=\"nav-item dropdown\" \n        style={{ opacity: 1, filter: theme ? 'invert(1)' : 'invert(0)' }}>\n            \n            <span className=\"nav-link position-relative px-1\" id=\"navbarDropdown\" \n            role=\"button\" data-toggle=\"dropdown\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                <span style={{opacity: 0.4}}></span>\n            </span>\n\n            <div className=\"dropdown-menu\" aria-labelledby=\"navbarDropdown\">\n                <div className=\"reactions\">\n                    {\n                        reactions.map(icon => (\n                            <span key={icon} onClick={() => setContent(content + icon)}>\n                                {icon}\n                            </span>\n                        ))\n                    }\n                </div>\n            </div>\n                \n        </div>\n    )\n}\n\nexport default Icons\n","import React, { useState, useEffect, useRef } from 'react'\nimport UserCard from '../UserCard'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDataAPI } from '../../utils/fetchData'\nimport { GLOBALTYPES } from '../../redux/actions/globalTypes'\nimport { useHistory, useParams } from 'react-router-dom'\nimport { MESS_TYPES, getConversations } from '../../redux/actions/messageAction'\n\n\nconst LeftSide = () => {\n    const { auth, message, online } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [search, setSearch] = useState('')\n    const [searchUsers, setSearchUsers] = useState([])\n\n    const history = useHistory()\n    const { id } = useParams()\n\n    const pageEnd = useRef()\n    const [page, setPage] = useState(0)\n\n    \n    const handleSearch = async e => {\n        e.preventDefault()\n        if(!search) return setSearchUsers([]);\n\n        try {\n            const res = await getDataAPI(`search?username=${search}`, auth.token)\n            setSearchUsers(res.data.users)\n        } catch (err) {\n            dispatch({\n                type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg}\n            })\n        }\n    }\n\n    const handleAddUser = (user) => {\n        setSearch('')\n        setSearchUsers([])\n        dispatch({type: MESS_TYPES.ADD_USER, payload: {...user, text: '', media: []}})\n        dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        return history.push(`/message/${user._id}`)\n    }\n\n    const isActive = (user) => {\n        if(id === user._id) return 'active';\n        return ''\n    }\n\n    useEffect(() => {\n        if(message.firstLoad) return;\n        dispatch(getConversations({auth}))\n    },[dispatch, auth, message.firstLoad])\n\n    // Voir plus\n    useEffect(() => {\n        const observer = new IntersectionObserver(entries => {\n            if(entries[0].isIntersecting){\n                setPage(p => p + 1)\n            }\n        },{\n            threshold: 0.1\n        })\n\n        observer.observe(pageEnd.current)\n    },[setPage])\n\n    useEffect(() => {\n        if(message.resultUsers >= (page - 1) * 9 && page > 1){\n            dispatch(getConversations({auth, page}))\n        }\n    },[message.resultUsers, page, auth, dispatch])\n    \n\n    // Check User Online - Offline\n    useEffect(() => {\n        if(message.firstLoad) {\n            dispatch({type: MESS_TYPES.CHECK_ONLINE_OFFLINE, payload: online})\n        }\n    },[online, message.firstLoad, dispatch])\n\n    return (\n        <>\n            <form className=\"message_header\" onSubmit={handleSearch} >\n                <input type=\"text\" value={search}\n                placeholder=\"Recherche d'utilisateur...\"\n                onChange={e => setSearch(e.target.value.toLowerCase().replace(/ /g, ''))} />\n\n                <button type=\"submit\" style={{display: 'none'}}>Search</button>\n            </form>\n\n            <div className=\"message_chat_list\">\n                {\n                    searchUsers.length !== 0\n                    ?  <>\n                        {\n                            searchUsers.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} />\n                                </div>\n                            ))\n                        }\n                        \n                    </>\n                    : <>\n                        {\n                            message.users.map(user => (\n                                <div key={user._id} className={`message_user ${isActive(user)}`}\n                                onClick={() => handleAddUser(user)}>\n                                    <UserCard user={user} msg={true}>\n                                        {\n                                            user.online\n                                            ? <i className=\"fas fa-circle text-success\" />\n                                            : auth.user.following.find(item => \n                                                item._id === user._id\n                                            ) && <i className=\"fas fa-circle\" />\n                                                \n                                        }\n                                        \n                                    </UserCard>\n                                </div>\n                            ))\n                        }\n                    </>\n                }\n               \n               <button ref={pageEnd} style={{opacity: 0}} >Voir plus</button>\n            </div>\n        </>\n    )\n}\n\nexport default LeftSide\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst Carousel = ({images, id}) => {\n    const isActive = index => {\n        if(index === 0) return \"active\";\n    }\n\n    const { theme } = useSelector(state => state)\n\n    return (\n        <div id={`image${id}`} className=\"carousel slide\" data-ride=\"carousel\">\n            <ol className=\"carousel-indicators\" style={{zIndex: 1}}>\n                {\n                    images.map((img, index) => (\n                        <li key={index} data-target={`#image${id}`} \n                        data-slide-to={index} className={isActive(index)} />\n                    ))\n                }\n                \n            </ol>\n\n            <div className=\"carousel-inner\">\n                {\n                    images.map((img, index) => (\n                        <div key={index} className={`carousel-item ${isActive(index)}`}>\n                            {\n                                img.url.match(/video/i)\n                                ? <video controls src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n\n                                : <img src={img.url} className=\"d-block w-100\" alt={img.url}\n                                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                            }\n                           \n                        </div>\n                    ))\n                }\n                \n            </div>\n            \n            {\n                images.length > 1 &&\n                <>\n                    <a className=\"carousel-control-prev\" href={`#image${id}`} role=\"button\" data-slide=\"prev\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-prev-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Previous</span>\n                    </a>\n\n                    <a className=\"carousel-control-next\" href={`#image${id}`} role=\"button\" data-slide=\"next\"\n                    style={{width: '5%'}}>\n                        <span className=\"carousel-control-next-icon\" aria-hidden=\"true\"></span>\n                        <span className=\"sr-only\">Next</span>\n                    </a>\n                </>\n            }\n            \n        </div>\n    )\n}\n\nexport default Carousel\n","import React, { useState, useEffect } from 'react';\nimport Carousel from '../../Carousel';\nimport { likePost, unLikePost, savePost, unSavePost } from '../../../redux/actions/postAction';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { useHistory } from 'react-router-dom';\n \n\nconst CardBodyCarousel = ({ post }) => {\n    const [isLike, setIsLike] = useState(false);\n    const [loadLike, setLoadLike] = useState(false);\n    const [saved, setSaved] = useState(false);\n    const [saveLoad, setSaveLoad] = useState(false);\n    const [showModal, setShowModal] = useState(false);\n \n    const history = useHistory();\n    const { auth, socket } = useSelector(state => state);\n    const dispatch = useDispatch();\n\n    useEffect(() => {\n        if (auth.user && post.likes.find(like => like._id === auth.user._id)) {\n            setIsLike(true);\n        } else {\n            setIsLike(false);\n        }\n    }, [post.likes, auth.user]);\n\n    const handleLike = async () => {\n        if (!auth.token) return setShowModal(true);\n        if (loadLike) return;\n\n        setLoadLike(true);\n        dispatch(likePost({ post, auth, socket  }));\n        setLoadLike(false);\n    };\n\n    const handleUnLike = async () => {\n        if (!auth.token) return setShowModal(true);\n        if (loadLike) return;\n\n        setLoadLike(true);\n        dispatch(unLikePost({ post, auth, socket  }));\n        setLoadLike(false);\n    };\n\n    useEffect(() => {\n        if (auth.user && auth.user.saved.find(id => id === post._id)) {\n            setSaved(true);\n        } else {\n            setSaved(false);\n        }\n    }, [auth.user, post._id]);\n\n    const handleSavePost = async () => {\n        if (!auth.token) return setShowModal(true);\n        if (saveLoad) return;\n\n        setSaveLoad(true);\n        await dispatch(savePost({ post, auth }));\n        setSaveLoad(false);\n    };\n\n    const handleUnSavePost = async () => {\n        if (!auth.token) return setShowModal(true);\n        if (saveLoad) return;\n\n        setSaveLoad(true);\n        await dispatch(unSavePost({ post, auth }));\n        setSaveLoad(false);\n    };\n\n    return (\n        <div>\n            <div className=\"card_body\">\n                {post.images.length > 0 && (\n                    <div className=\"carousel-container\" style={{ position: 'relative' }}>\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: '10px',\n                                right: '10px',\n                                zIndex: 1,\n                                cursor: 'pointer',\n                                backgroundColor: 'rgba(255, 255, 255, 0.7)',\n                                borderRadius: '50%',\n                                padding: '5px',\n                                display: 'flex',\n                                alignItems: 'center',\n                                justifyContent: 'center',\n                            }}\n                            onClick={saved ? handleUnSavePost : handleSavePost}\n                        >\n                            <span\n                                className=\"material-icons\"\n                                style={{\n                                    fontSize: '24px',\n                                    color: saved ? '#ff8c00' : '#000',\n                                }}\n                            >\n                                bookmark\n                            </span>\n                        </div>\n\n                        <div\n                            style={{\n                                position: 'absolute',\n                                top: '10px',\n                                left: '10px',\n                                zIndex: 1,\n                                display: 'flex',\n                                flexDirection: 'row',\n                                alignItems: 'center',\n                            }}\n                        >\n                            <span\n                                style={{\n                                    fontSize: '14px',\n                                    fontWeight: 'bold',\n                                    color: 'red',\n                                    marginRight: '5px',\n                                }}\n                            >\n                                {post.likes.length}\n                            </span>\n\n                            <div\n                                style={{\n                                    cursor: 'pointer',\n                                    backgroundColor: 'rgba(255, 255, 255, 0.7)',\n                                    borderRadius: '50%',\n                                    padding: '5px',\n                                    display: 'flex',\n                                    alignItems: 'center',\n                                    justifyContent: 'center',\n                                }}\n                                onClick={isLike ? handleUnLike : handleLike}\n                            >\n                                <span\n                                    className=\"material-icons\"\n                                    style={{\n                                        fontSize: '24px',\n                                        color: isLike ? 'red' : '#000',\n                                    }}\n                                >\n                                    favorite\n                                </span>\n                            </div>\n                        </div>\n\n                        <div className=\"card\">\n                <div className=\"card__image\" onClick={() => history.push(`/post/${post._id}`)}>\n                    <Carousel images={post.images} id={post._id} />\n                </div>\n                        </div>\n                    </div>\n                )}\n            </div>\n\n            {showModal && (\n                <div className=\"modal\">\n                    <div className=\"modal-content\">\n                        <h4>Titre</h4>\n                        <p>Message</p>\n                        <div className=\"modal-buttons\">\n                            <button onClick={() => history.push(\"/login\")}> \n                               Conections\n                            </button>\n                            <button onClick={() => history.push(\"/register\")}>\n                               Registre\n                            </button>\n                            <button onClick={() => setShowModal(false)}>\n                               Fermer\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </div>\n    );\n};\n\nexport default CardBodyCarousel;\n\n","import React from 'react'\nimport { useSelector } from 'react-redux'\n\nconst LikeButton = ({isLike, handleLike, handleUnLike}) => {\n    const { theme } = useSelector(state => state)\n\n    return (\n        <>\n            {\n                isLike\n                ? <i className=\"fas fa-heart text-danger\" onClick={handleUnLike}\n                style={{filter: theme ? 'invert(1)' : 'invert(0)'}} />\n                : <i className=\"far fa-heart\" onClick={handleLike} />\n            }\n        </>\n    )\n}\n\nexport default LikeButton\n","import { GLOBALTYPES, EditData, DeleteData } from './globalTypes'\nimport { POST_TYPES } from './postAction'\nimport { postDataAPI, patchDataAPI, deleteDataAPI } from '../../utils/fetchData'\nimport { createNotify, removeNotify } from '../actions/notifyAction'\n\n\nexport const createComment = ({post, newComment, auth, socket}) => async (dispatch) => {\n    const newPost = {...post, comments: [...post.comments, newComment]}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        const data = {...newComment, postId: post._id, postUserId: post.user._id}\n        const res = await postDataAPI('comment', data, auth.token)\n\n        const newData = {...res.data.newComment, user: auth.user}\n        const newPost = {...post, comments: [...post.comments, newData]}\n        dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n        // Socket\n        socket.emit('createComment', newPost)\n\n        // Notify\n        const msg = {\n            id: res.data.newComment._id,\n            text: newComment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n            recipients: newComment.reply ? [newComment.tag._id] : [post.user._id],\n            url: `/post/${post._id}`,\n            content: post.content, \n            image: post.images[0].url\n        }\n\n        dispatch(createNotify({msg, auth, socket}))\n        \n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const updateComment = ({comment, post, content, auth}) => async (dispatch) => {\n    const newComments = EditData(post.comments, comment._id, {...comment, content})\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n    try {\n        patchDataAPI(`comment/${comment._id}`, { content }, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const likeComment = ({comment, post, auth}) => async (dispatch) => {\n    const newComment = {...comment, likes: [...comment.likes, auth.user]}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/like`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const unLikeComment = ({comment, post, auth}) => async (dispatch) => {\n\n    const newComment = {...comment, likes: DeleteData(comment.likes, auth.user._id)}\n\n    const newComments = EditData(post.comments, comment._id, newComment)\n\n    const newPost = {...post, comments: newComments}\n    \n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    try {\n        await patchDataAPI(`comment/${comment._id}/unlike`, null, auth.token)\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n}\n\nexport const deleteComment = ({post, comment, auth, socket}) => async (dispatch) => {\n    const deleteArr = [...post.comments.filter(cm => cm.reply === comment._id), comment]\n    \n    const newPost = {\n        ...post,\n        comments: post.comments.filter(cm => !deleteArr.find(da => cm._id === da._id))\n    }\n\n    dispatch({ type: POST_TYPES.UPDATE_POST, payload: newPost })\n\n    socket.emit('deleteComment', newPost)\n    try {\n       deleteArr.forEach(item => {\n            deleteDataAPI(`comment/${item._id}`, auth.token)\n\n            const msg = {\n                id: item._id,\n                text: comment.reply ? 'mentioned you in a comment.' : 'has commented on your post.',\n                recipients: comment.reply ? [comment.tag._id] : [post.user._id],\n                url: `/post/${post._id}`,\n            }\n    \n            dispatch(removeNotify({msg, auth, socket}))\n       })\n    } catch (err) {\n        dispatch({ type: GLOBALTYPES.ALERT, payload: {error: err.response.data.msg} })\n    }\n\n}","import React from 'react'\nimport { useDispatch, useSelector } from 'react-redux'\nimport { deleteComment } from '../../../redux/actions/commentAction'\n\nconst CommentMenu = ({post, comment, setOnEdit}) => {\n\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleRemove = () => {\n        if(post.user._id === auth.user._id || comment.user._id === auth.user._id){\n            dispatch(deleteComment({post, auth, comment, socket}))\n        }\n    }\n\n    const MenuItem = () => {\n        return(\n            <>\n                <div className=\"dropdown-item\" onClick={() => setOnEdit(true)}>\n                    <span className=\"material-icons\">create</span> Edit\n                </div>\n                <div className=\"dropdown-item\" onClick={handleRemove}>\n                    <span className=\"material-icons\">delete_outline</span> Remove\n                </div>\n            </>\n        )\n    }\n\n\n    return (\n        <div className=\"menu\">\n            {\n                (post.user._id === auth.user._id || comment.user._id === auth.user._id) &&\n                <div className=\"nav-item dropdown\">\n                    <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                        more_vert\n                    </span>\n\n                    <div className=\"dropdown-menu\" aria-labelledby=\"moreLink\">\n                        {\n                            post.user._id === auth.user._id\n                            ? comment.user._id === auth.user._id\n                                ? MenuItem()\n                                : <div className=\"dropdown-item\" onClick={handleRemove}>\n                                    <span className=\"material-icons\">delete_outline</span> Remove\n                                </div>\n                            : comment.user._id === auth.user._id && MenuItem()\n                        }\n                    </div>\n\n                </div>\n            }\n            \n        </div>\n    )\n}\n\nexport default CommentMenu\n","import React, { useState } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { createComment } from '../../redux/actions/commentAction'\nimport Icons from '../Icons'\n\nconst InputComment = ({children, post, onReply, setOnReply}) => {\n    const [content, setContent] = useState('')\n\n    const { auth, socket, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const handleSubmit = (e) => {\n        e.preventDefault()\n        if(!content.trim()){\n            if(setOnReply) return setOnReply(false);\n            return;\n        }\n\n        setContent('')\n        \n        const newComment = {\n            content,\n            likes: [],\n            user: auth.user,\n            createdAt: new Date().toISOString(),\n            reply: onReply && onReply.commentId,\n            tag: onReply && onReply.user\n        }\n        \n        dispatch(createComment({post, newComment, auth, socket}))\n\n        if(setOnReply) return setOnReply(false);\n    }\n\n    return (\n        <form className=\"card-footer comment_input\" onSubmit={handleSubmit} >\n            {children}\n            <input type=\"text\" placeholder=\"Add your comments...\"\n            value={content} onChange={e => setContent(e.target.value)}\n            style={{\n                filter: theme ? 'invert(1)' : 'invert(0)',\n                color: theme ? 'white' : '#111',\n                background: theme ? 'rgba(0,0,0,.03)' : '',\n            }} />\n\n            <Icons setContent={setContent} content={content} theme={theme} />\n\n            <button type=\"submit\" className=\"postBtn\">\n                Post\n            </button>\n        </form>\n    )\n}\n\nexport default InputComment\n","import React, { useState, useEffect } from 'react'\nimport Avatar from '../../Avatar'\nimport { Link } from 'react-router-dom'\nimport moment from 'moment'\n\nimport LikeButton from '../../LikeButton'\nimport { useSelector, useDispatch } from 'react-redux'\nimport CommentMenu from './CommentMenu'\nimport { updateComment, likeComment, unLikeComment } from '../../../redux/actions/commentAction'\nimport InputComment from '../InputComment'\n\nconst CommentCard = ({children, comment, post, commentId}) => {\n    const { auth, theme } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [content, setContent] = useState('')\n    const [readMore, setReadMore] = useState(false)\n\n    const [onEdit, setOnEdit] = useState(false)\n    const [isLike, setIsLike] = useState(false)\n    const [loadLike, setLoadLike] = useState(false)\n\n    const [onReply, setOnReply] = useState(false)\n\n\n    useEffect(() => {\n        setContent(comment.content)\n        setIsLike(false)\n        setOnReply(false)\n        if(comment.likes.find(like => like._id === auth.user._id)){\n            setIsLike(true)\n        }\n    },[comment, auth.user._id])\n\n    const handleUpdate = () => {\n        if(comment.content !== content){\n            dispatch(updateComment({comment, post, content, auth}))\n            setOnEdit(false)\n        }else{\n            setOnEdit(false)\n        }\n    }\n\n\n    const handleLike = async () => {\n        if(loadLike) return;\n        setIsLike(true)\n\n        setLoadLike(true)\n        await dispatch(likeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n    const handleUnLike = async () => {\n        if(loadLike) return;\n        setIsLike(false)\n\n        setLoadLike(true)\n        await dispatch(unLikeComment({comment, post, auth}))\n        setLoadLike(false)\n    }\n\n\n    const handleReply = () => {\n        if(onReply) return setOnReply(false)\n        setOnReply({...comment, commentId})\n    }\n\n    const styleCard = {\n        opacity: comment._id ? 1 : 0.5,\n        pointerEvents: comment._id ? 'inherit' : 'none'\n    }\n\n    return (\n        <div className=\"comment_card mt-2\" style={styleCard}>\n            <Link to={`/profile/${comment.user._id}`} className=\"d-flex text-dark\">\n                <Avatar src={comment.user.avatar} size=\"small-avatar\" />\n                <h6 className=\"mx-1\">{comment.user.username}</h6>\n            </Link>\n\n            <div className=\"comment_content\">\n                <div className=\"flex-fill\" \n                style={{\n                    filter: theme ? 'invert(1)' : 'invert(0)',\n                    color: theme ? 'white' : '#111',\n                }}>\n                    {\n                        onEdit \n                        ? <textarea rows=\"5\" value={content}\n                        onChange={e => setContent(e.target.value)} />\n\n                        : <div>\n                            {\n                                comment.tag && comment.tag._id !== comment.user._id &&\n                                <Link to={`/profile/${comment.tag._id}`} className=\"mr-1\">\n                                    @{comment.tag.username}\n                                </Link>\n                            }\n                            <span>\n                                {\n                                    content.length < 100 ? content :\n                                    readMore ? content + ' ' : content.slice(0, 100) + '....'\n                                }\n                            </span>\n                            {\n                                content.length > 100 &&\n                                <span className=\"readMore\" onClick={() => setReadMore(!readMore)}>\n                                    {readMore ? 'Hide content' : 'Read more'}\n                                </span>\n                            }\n                        </div>\n                    }\n                    \n\n                    <div style={{cursor: 'pointer'}}>\n                        <small className=\"text-muted mr-3\">\n                            {moment(comment.createdAt).fromNow()}\n                        </small>\n\n                        <small className=\"font-weight-bold mr-3\">\n                            {comment.likes.length} likes\n                        </small>\n\n                        {\n                            onEdit\n                            ? <>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={handleUpdate}>\n                                    update\n                                </small>\n                                <small className=\"font-weight-bold mr-3\"\n                                onClick={() => setOnEdit(false)}>\n                                    cancel\n                                </small>\n                            </>\n\n                            : <small className=\"font-weight-bold mr-3\"\n                            onClick={handleReply}>\n                                {onReply ? 'cancel' :'reply'}\n                            </small>\n                        }\n                        \n                    </div>\n                    \n                </div>\n\n\n                <div className=\"d-flex align-items-center mx-2\" style={{cursor: 'pointer'}}>\n                    <CommentMenu post={post} comment={comment} setOnEdit={setOnEdit} />\n                    <LikeButton isLike={isLike} handleLike={handleLike} handleUnLike={handleUnLike} />\n                </div>\n            </div> \n            \n            {\n                onReply &&\n                <InputComment post={post} onReply={onReply} setOnReply={setOnReply} >\n                    <Link to={`/profile/${onReply.user._id}`} className=\"mr-1\">\n                        @{onReply.user.username}:\n                    </Link>\n                </InputComment>\n            }\n\n            {children}\n        </div>\n    )\n}\n\nexport default CommentCard\n","import React, { useState, useEffect } from 'react'\nimport CommentCard from './CommentCard'\n\nconst CommentDisplay = ({comment, post, replyCm}) => {\n    const [showRep, setShowRep] = useState([])\n    const [next, setNext] = useState(1)\n\n    useEffect(() => {\n        setShowRep(replyCm.slice(replyCm.length - next))\n    },[replyCm, next])\n\n    return (\n        <div className=\"comment_display\">\n            <CommentCard comment={comment} post={post} commentId={comment._id} >\n                <div className=\"pl-4\">\n                    {\n                        showRep.map((item, index) => (\n                            item.reply &&\n                            <CommentCard\n                            key={index}\n                            comment={item}\n                            post={post}\n                            commentId={comment._id}\n                             />\n                        ))\n                    }\n\n                    {\n                        replyCm.length - next > 0\n                        ? <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(next + 10)}>\n                            See more comments...\n                        </div>\n\n                        : replyCm.length > 1 &&\n                        <div style={{cursor: 'pointer', color: 'crimson'}}\n                        onClick={() => setNext(1)}>\n                            Hide comments...\n                        </div>\n                    }\n                </div>\n            </CommentCard>\n        </div>\n    )\n}\n\nexport default CommentDisplay\n","import React, { useState, useEffect } from 'react'\nimport CommentDisplay from './comments/CommentDisplay'\n\nconst Comments = ({post}) => {\n    const [comments, setComments] = useState([])\n    const [showComments, setShowComments] = useState([])\n    const [next, setNext] = useState(2)\n\n    const [replyComments, setReplyComments] = useState([])\n\n    useEffect(() => {\n        const newCm = post.comments.filter(cm => !cm.reply)\n        setComments(newCm)\n        setShowComments(newCm.slice(newCm.length - next))\n    },[post.comments, next])\n\n    useEffect(()=> {\n        const newRep = post.comments.filter(cm => cm.reply)\n        setReplyComments(newRep)\n    }, [post.comments])\n\n    return (\n        <div className=\"comments\">\n            {\n                showComments.map((comment, index) => (\n                    <CommentDisplay key={index} comment={comment} post={post}\n                    replyCm={replyComments.filter(item => item.reply === comment._id)} />\n                ))\n            }\n\n            {\n                comments.length - next > 0\n                ? <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(next + 10)}>\n                    See more comments...\n                </div>\n\n                : comments.length > 2 &&\n                <div className=\"p-2 border-top\"\n                style={{cursor: 'pointer', color: 'crimson'}}\n                onClick={() => setNext(2)}>\n                    Hide comments...\n                </div>\n            }\n        </div>\n    )\n}\n\nexport default Comments\n","import React, { useState } from \"react\";\nimport { useLocation, useHistory } from \"react-router-dom\";\nimport { useSelector } from \"react-redux\";\n \nimport moment from 'moment';\nimport 'moment/locale/fr'; // Importa el idioma francs\nconst CommentDate = ({ post }) => {\n    const history = useHistory();\n    const location = useLocation();\n    const isDetailPage = location.pathname === `/post/${post._id}`;\n \n    moment.locale('fr'); // Establece el idioma a francs\n\n    const { auth } = useSelector((state) => state);  \n    const [showModal, setShowModal] = useState(false);\n\n    const handleCommentClick = () => {\n        if (!auth.token) {\n            setShowModal(true);\n        } else {\n            history.push(`/post/${post._id}`);\n        }\n    };\n\n    if (isDetailPage) return null;\n\n    return (\n        <>\n            <div className=\"card_footer\">\n                <div className=\"footer-content\">\n\n                    <div className=\"card-date\">\n                        <span className=\"mr-1\"><i className='far fa-clock'></i>  </span>\n\n                        <small className=\"text-dat\">\n                            {moment(post.createdAt).fromNow()}\n                        </small>\n                    </div>\n\n\n                    <h6 className=\"mt-0\" style={{ cursor: \"pointer\" }} onClick={handleCommentClick}>\n                        <span><i className='far fa-comment-alt mr-0'></i></span>    <span className=\"comment-text mr-2\">commenter</span>\n                    </h6>\n                </div>\n\n\n            </div>\n\n            {/* Modal de autenticacin */}\n            {showModal && (\n                <div className=\"modal\">\n                    <div className=\"modal-content\">\n                        <h4>Titre</h4>\n                        <p>Message</p>\n                        <div className=\"modal-buttons\">\n                            <button onClick={() => history.push(\"/login\")}>\n                              Connection\n                            </button>\n                            <button onClick={() => history.push(\"/register\")}>\n                               Registre\n                            </button>\n                            <button onClick={() => setShowModal(false)}>\n                              Fermer\n                            </button>\n                        </div>\n                    </div>\n                </div>\n            )}\n        </>\n    );\n};\n\nexport default CommentDate;\n","import React, { useState } from 'react';\r\n\r\nconst DescriptionPost = ({ post }) => {\r\n  const [readMore, setReadMore] = useState(false);\r\n\r\n  /* Funcin para obtener icono del ttulo\r\n  const getTitleIcon = (title) => {\r\n    if (!title) return <i className=\"fas fa-home icon-title\"></i>;\r\n\r\n    const iconMap = {\r\n      'aplicacin web': 'fas fa-globe',\r\n      'aplicacin mvil': 'fas fa-mobile-alt',\r\n      'aplicacin mvil (ios/android)': 'fas fa-mobile-alt',\r\n      'pwa': 'fas fa-mobile-android',\r\n      'pwa (web + mvil)': 'fas fa-mobile-android',\r\n      'web responsive': 'fas fa-laptop',\r\n      'landing page': 'fas fa-window-maximize',\r\n      'tienda online': 'fas fa-shopping-cart',\r\n      'e-commerce': 'fas fa-shopping-cart',\r\n      'aplicacin de escritorio': 'fas fa-desktop',\r\n      'api/servicio backend': 'fas fa-server',\r\n      'juego web/mvil': 'fas fa-gamepad'\r\n    };\r\n\r\n    const iconClass = iconMap[title.toLowerCase()] || 'fas fa-home';\r\n    return <i className={`${iconClass} icon-title`}></i>;\r\n  };\r\n\r\n  // Funcin para obtener icono del enlace\r\n  const getLinkIcon = (linkType) => {\r\n    const iconMap = {\r\n      'aplicacin mvil': 'fas fa-mobile-alt',\r\n      'pwa': 'fas fa-mobile-android',\r\n      'tienda online': 'fas fa-shopping-cart',\r\n      'default': 'fas fa-external-link-alt'\r\n    };\r\n    \r\n    const iconClass = iconMap[linkType?.toLowerCase()] || iconMap.default;\r\n    return <i className={`${iconClass} icon-link`}></i>;\r\n  };\r\n\r\n  // Funcin para obtener texto del enlace\r\n  const getLinkText = (linkType) => {\r\n    const textMap = {\r\n      'aplicacin mvil': 'Descargar App',\r\n      'pwa': 'Abrir App',\r\n      'tienda online': 'Comprar Ahora',\r\n      'default': 'Visitar Sitio'\r\n    };\r\n    \r\n    return textMap[linkType?.toLowerCase()] || textMap.default;\r\n  };\r\n*/\r\n  return (\r\n    <div className=\"description-container\">\r\n      <div className=\"post-info\">\r\n     \r\n        <div className=\"info-item\">\r\n        <i className=\"fas fa-globe icon-title\"></i>\r\n          <span className=\"info-label\">Aps:</span> <span className='mr-2'>Vente</span>\r\n          <span className=\"title1\">{post.title}</span>\r\n        </div>\r\n\r\n        {/* Fecha */}\r\n        <div className=\"info-item\">\r\n          <i className=\"fas fa-calendar-alt\"></i>\r\n          <span className=\"info-label\">Publi le:</span>\r\n          <span className=\"info-value\">\r\n            {new Date(post.createdAt).toLocaleDateString()}  {new Date(post.createdAt).toLocaleTimeString()}\r\n          </span>\r\n        </div>\r\n\r\n        {/* Vistas */}\r\n        {(post.vistas || []).length > 0 && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-eye\"></i>\r\n            <span className=\"info-label\">Vue:</span>\r\n            <span className=\"info-value\">{post.vistas}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Likes */}\r\n        {(post.likes || []).length > 0 && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-thumbs-up\"></i>\r\n            <span className=\"info-label\">Likes:</span>\r\n            <span className=\"info-value\">{post.likes.length}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Comentarios */}\r\n        {(post.comments || []).length > 0 && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-comments\"></i>\r\n            <span className=\"info-label\">Commentaires:</span>\r\n            <span className=\"info-value\">{(post.comments || []).length}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Descripcin */}\r\n        {post.description && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-comments\"></i>\r\n            <span className=\"info-label mb-2\">Description:</span>\r\n            <span className=\"info-value\">\r\n              <div className=\"card_body-content\">\r\n                <span>\r\n                  {post.description.length < 60\r\n                    ? post.description\r\n                    : readMore ? post.description + ' ' : post.description.slice(0, 60) + '.....'}\r\n                </span>\r\n                {post.description.length > 60 && (\r\n                  <span className=\"readMore color-red\" onClick={() => setReadMore(!readMore)}>\r\n                    {readMore ? 'masque lo contenu' : 'Lire plus'}\r\n                  </span>\r\n                )}\r\n              </div>\r\n            </span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Oferta */}\r\n        {(post.oferta || []).length > 0 && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-comments\"></i>\r\n            <span className=\"info-label\">Type d'offre:</span>\r\n            <span className=\"info-value\">{(post.oferta || []).length}</span>\r\n          </div>\r\n        )}\r\n\r\n        {/* Enlace */}\r\n        {(post.link) && (\r\n          <div className=\"info-item\">\r\n            {(post.title)} {/* Usamos post.title para determinar el tipo */}\r\n            <span className=\"info-label\">Enlace:</span>\r\n            <a\r\n              href={post.link.startsWith('http') ? post.link : `https://${post.link}`}\r\n              target=\"_blank\"\r\n              rel=\"noopener noreferrer\"\r\n              className=\"info-value link-descarga\"\r\n            >\r\n              {post.title}  \r\n            </a>\r\n          </div>\r\n        )}\r\n\r\n        {/* Telfono */}\r\n        {(post.telefono || []).length > 0 && (\r\n          <div className=\"info-item\">\r\n            <i className=\"fas fa-phone-alt\"></i> {/* Icono ms apropiado */}\r\n            <span className=\"info-label\">Tlphone:</span>\r\n            <span className=\"info-value\">{(post.telefono || []).length}</span>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default DescriptionPost;","import React from \"react\";\n \nconst CardBodyTitle = ({ post }) => {\n   \n    return (\n        <div className=\"cardtitle\">\n            <div className=\"card-header\">\n              \n                    <div>\n                        <div className=\"title-post\">\n                            \n                        <i className=\"fas fa-th icon-title\"></i> \n                             \n                             <span className=\"title2\">Vente</span>\n                              <div className=\"title1\">{post.title}</div>\n\n                         \n \n                        </div>\n \n                    </div>\n                \n\n\n            </div>\n \n        </div>\n    );\n};\n\nexport default CardBodyTitle;\n\n\n\n\n","import React from 'react'\nimport Avatar from '../../Avatar'\nimport { Link, useHistory } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport moment from 'moment'\nimport { GLOBALTYPES } from '../../../redux/actions/globalTypes'\nimport { deletePost } from '../../../redux/actions/postAction'\nimport { BASE_URL } from '../../../utils/config'\n\nconst CardHeader = ({post}) => {\n    const { auth, socket } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const history = useHistory()\n\n    const handleEditPost = () => {\n        dispatch({ type: GLOBALTYPES.STATUS, payload: {...post, onEdit: true}})\n    }\n\n    const handleDeletePost = () => {\n        if(window.confirm(\"Are you sure want to delete this post?\")){\n            dispatch(deletePost({post, auth, socket}))\n            return history.push(\"/\")\n        }\n    }\n\n    const handleCopyLink = () => {\n        navigator.clipboard.writeText(`${BASE_URL}/post/${post._id}`)\n    }\n\n    return (\n        <div className=\"card_header\">\n            <div className=\"d-flex\">\n                <Avatar src={post.user.avatar} size=\"big-avatar\" />\n\n                <div className=\"card_name\">\n                    <h6 className=\"m-0\">\n                        <Link to={`/profile/${post.user._id}`} className=\"text-dark\">\n                            {post.user.username}\n                        </Link>\n                    </h6>\n                    <small className=\"text-muted\">\n                        {moment(post.createdAt).fromNow()}\n                    </small>\n                </div>\n            </div>\n\n            <div className=\"nav-item dropdown\">\n                <span className=\"material-icons\" id=\"moreLink\" data-toggle=\"dropdown\">\n                    more_horiz\n                </span>\n\n                <div className=\"dropdown-menu\">\n                    {\n                        auth.user._id === post.user._id &&\n                        <>\n                            <div className=\"dropdown-item\" onClick={handleEditPost}>\n                                <span className=\"material-icons\">create</span> Edit Post\n                            </div>\n                            <div className=\"dropdown-item\" onClick={handleDeletePost} >\n                                <span className=\"material-icons\">delete_outline</span> Remove Post\n                            </div>\n                        </>\n                    }\n\n                    <div className=\"dropdown-item\" onClick={handleCopyLink}>\n                        <span className=\"material-icons\">content_copy</span> Copy Link\n                    </div>\n                </div>\n            </div>\n        </div>\n    )\n}\n\nexport default CardHeader\n","import React from 'react'\n \nimport CardBodyCarousel from './home/post_card/CardBodyCarousel'\n\n\nimport Comments from './home/Comments'\nimport InputComment from './home/InputComment'\n \n\nimport { useLocation } from \"react-router-dom\";\n \n import { useSelector } from 'react-redux';\n \nimport CommentDate from './home/post_card/CommentDate'\nimport DescriptionPost from './home/post_card/DescriptionPost';\nimport CardBodyTitle from './home/post_card/CardBodyTitle';\nimport CardHeader from './home/post_card/CardHeader';\n \n\nconst PostCard = ({ post, theme }) => {\n    const location = useLocation();\n    const isPostDetailPage = location.pathname === `/post/${post._id}`;\n    const { auth } = useSelector(state => state); //  Obtiene la autenticacin desde Redux\n\n    const isAuthenticated = auth.token ? true : false; //  Verifica si el usuario est autenticado\n\n    return (\n        <div className=\"card my-3\">\n\n<CardHeader post={post} />\n\n        <CardBodyTitle  post={post} />\n            \n            <CardBodyCarousel post={post} theme={theme} />\n\n<CommentDate post={post} theme={theme}/>\n\n\n\n            {isPostDetailPage && <DescriptionPost post={post} />}\n\n         \n            {isAuthenticated && isPostDetailPage && (\n                <>\n\n\n                       {isPostDetailPage && <Comments post={post} />}\n                    {isPostDetailPage && <InputComment post={post} />}\n                </>\n            )}\n\n        </div>\n    );\n};\n\nexport default PostCard;\n","import axios from 'axios'\n\nexport const getDataAPI = async (url, token) => {\n    const res = await axios.get(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const postDataAPI = async (url, post, token) => {\n    const res = await axios.post(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const putDataAPI = async (url, post, token) => {\n    const res = await axios.put(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const patchDataAPI = async (url, post, token) => {\n    const res = await axios.patch(`/api/${url}`, post, {\n        headers: { Authorization: token}\n    })\n    return res;\n}\n\nexport const deleteDataAPI = async (url, token) => {\n    const res = await axios.delete(`/api/${url}`, {\n        headers: { Authorization: token}\n    })\n    return res;\n}","import React, { useState, useEffect } from 'react'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getDiscoverPosts, DISCOVER_TYPES } from '../redux/actions/discoverAction'\nimport LoadIcon from '../images/loading.gif'\nimport PostThumb from '../components/PostThumb'\nimport LoadMoreBtn from '../components/LoadMoreBtn'\nimport { getDataAPI} from '../utils/fetchData'\n\nconst Discover = () => {\n    const { auth, discover } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    const [load, setLoad] = useState(false)\n\n    useEffect(() => {\n        if(!discover.firstLoad){\n            dispatch(getDiscoverPosts(auth.token))\n        }\n    },[dispatch, auth.token, discover.firstLoad])\n\n    const handleLoadMore = async () => {\n        setLoad(true)\n        const res = await getDataAPI(`post_discover?num=${discover.page * 9}`, auth.token)\n        dispatch({type: DISCOVER_TYPES.UPDATE_POST, payload: res.data})\n        setLoad(false)\n    }\n\n    return (\n        <div>\n            {\n                discover.loading \n                ? <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n                : <PostThumb posts={discover.posts} result={discover.result} />\n            }\n\n            {\n                load && <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto\" />\n            }\n\n            {\n                !discover.loading &&\n                <LoadMoreBtn result={discover.result} page={discover.page}\n                load={load} handleLoadMore={handleLoadMore} />\n            }\n            \n        </div>\n    )\n}\n\nexport default Discover\n","import React from 'react'\r\n \r\nconst Paginabloqueos = () => {\r\n  return (\r\n    <div>pagina bloqueos</div>\r\n  )\r\n}\r\n\r\nexport default Paginabloqueos","import React, { useState, useEffect } from 'react'\nimport { useParams } from 'react-router-dom'\nimport { useSelector, useDispatch } from 'react-redux'\nimport { getPost } from '../../redux/actions/postAction'\nimport LoadIcon from '../../images/loading.gif'\nimport PostCard from '../../components/PostCard'\n\n\nconst Post = () => {\n    const { id } = useParams()\n    const [post, setPost] = useState([])\n\n    const {  detailPost } = useSelector(state => state)\n    const dispatch = useDispatch()\n\n    useEffect(() => {\n        dispatch(getPost({detailPost, id }))\n\n        if(detailPost.length > 0){\n            const newArr = detailPost.filter(post => post._id === id)\n            setPost(newArr)\n        }\n    },[detailPost, dispatch, id ])\n\n    return (\n        <div className=\"posts\">\n            {\n                post.length === 0 &&\n                <img src={LoadIcon} alt=\"loading\" className=\"d-block mx-auto my-4\" />\n            }\n\n            {\n                post.map(item => (\n                    <PostCard key={item._id} post={item} />\n                ))\n            }\n        </div>\n    )\n}\n\nexport default Post\n"],"sourceRoot":""}