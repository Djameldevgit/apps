(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{102:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(6),r=n(1),s=n(20),i=n(21),o=n(2),l=n(5),u=n(31),d=n(4),j=n(19),b=function(e){var t=e.setOnEdit,n=Object(r.useState)({mobile:"",address:"",website:"",story:""}),s=Object(c.a)(n,2),b=s[0],p=s[1],O=b.mobile,f=b.address,m=b.website,h=b.story,x=Object(r.useState)(""),v=Object(c.a)(x,2),g=v[0],y=v[1],N=Object(l.c)((function(e){return e})),E=N.auth,k=N.theme,w=Object(l.b)();Object(r.useEffect)((function(){p(E.user)}),[E.user]);var _=function(e){var t=e.target,n=t.name,a=t.value;p(Object(o.a)(Object(o.a)({},b),{},Object(i.a)({},n,a)))};return Object(a.jsxs)("div",{className:"edit_profile",children:[Object(a.jsx)("button",{className:"btn btn-danger btn_close",onClick:function(){return t(!1)},children:"Close"}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),w(Object(j.e)({userData:b,avatar:g,auth:E}))},children:[Object(a.jsxs)("div",{className:"info_avatar",children:[Object(a.jsx)("img",{src:g?URL.createObjectURL(g):E.user.avatar,alt:"avatar",style:{filter:k?"invert(1)":"invert(0)"}}),Object(a.jsxs)("span",{children:[Object(a.jsx)("i",{className:"fas fa-camera"}),Object(a.jsx)("p",{children:"Change"}),Object(a.jsx)("input",{type:"file",name:"file",id:"file_up",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=Object(u.a)(t);if(n)return w({type:d.c.ALERT,payload:{error:n}});y(t)}})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"mobile",children:"Mobile"}),Object(a.jsx)("input",{type:"text",name:"mobile",value:O,className:"form-control",onChange:_})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"address",children:"Address"}),Object(a.jsx)("input",{type:"text",name:"address",value:f,className:"form-control",onChange:_})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"website",children:"Website"}),Object(a.jsx)("input",{type:"text",name:"website",value:m,className:"form-control",onChange:_})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"story",children:"Story"}),Object(a.jsx)("textarea",{name:"story",value:h,cols:"30",rows:"4",className:"form-control",onChange:_}),Object(a.jsxs)("small",{className:"text-danger d-block text-right",children:[h.length,"/200"]})]}),Object(a.jsx)("button",{className:"btn btn-info w-100",type:"submit",children:"Save"})]})]})},p=n(3),O=n.n(p),f=n(7),m=function(e){var t=e.user,n=Object(r.useState)(!1),s=Object(c.a)(n,2),i=s[0],o=s[1],u=Object(l.c)((function(e){return e})),d=u.auth,b=u.profile,p=u.socket,m=Object(l.b)(),h=Object(r.useState)(!1),x=Object(c.a)(h,2),v=x[0],g=x[1];Object(r.useEffect)((function(){return d.user.following.find((function(e){return e._id===t._id}))&&o(!0),function(){return o(!1)}}),[d.user.following,t._id]);var y=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return o(!0),g(!0),e.next=6,m(Object(j.b)({users:b.users,user:t,auth:d,socket:p}));case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(f.a)(O.a.mark((function e(){return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!v){e.next=2;break}return e.abrupt("return");case 2:return o(!1),g(!0),e.next=6,m(Object(j.d)({users:b.users,user:t,auth:d,socket:p}));case 6:g(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsx)(a.Fragment,{children:i?Object(a.jsx)("button",{className:"btn btn-outline-danger",onClick:N,children:"UnFollow"}):Object(a.jsx)("button",{className:"btn btn-outline-info",onClick:y,children:"Follow"})})},h=n(17),x=function(e){var t=e.users,n=e.setShowFollowers,c=Object(l.c)((function(e){return e})).auth;return Object(a.jsx)("div",{className:"follow",children:Object(a.jsxs)("div",{className:"follow_box",children:[Object(a.jsx)("h5",{className:"text-center",children:"Followers"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"follow_content",children:t.map((function(e){return Object(a.jsx)(h.a,{user:e,setShowFollowers:n,children:c.user._id!==e._id&&Object(a.jsx)(m,{user:e})},e._id)}))}),Object(a.jsx)("div",{className:"close",onClick:function(){return n(!1)},children:"\xd7"})]})})},v=function(e){var t=e.users,n=e.setShowFollowing,c=Object(l.c)((function(e){return e})).auth;return Object(a.jsx)("div",{className:"follow",children:Object(a.jsxs)("div",{className:"follow_box",children:[Object(a.jsx)("h5",{className:"text-center",children:"Following"}),Object(a.jsx)("hr",{}),Object(a.jsx)("div",{className:"follow_content",children:t.map((function(e){return Object(a.jsx)(h.a,{user:e,setShowFollowing:n,children:c.user._id!==e._id&&Object(a.jsx)(m,{user:e})},e._id)}))}),Object(a.jsx)("div",{className:"close",onClick:function(){return n(!1)},children:"\xd7"})]})})},g=function(e){var t=e.id,n=e.auth,i=e.profile,o=e.dispatch,l=Object(r.useState)([]),u=Object(c.a)(l,2),j=u[0],p=u[1],O=Object(r.useState)(!1),f=Object(c.a)(O,2),h=f[0],g=f[1],y=Object(r.useState)(!1),N=Object(c.a)(y,2),E=N[0],k=N[1],w=Object(r.useState)(!1),_=Object(c.a)(w,2),S=_[0],T=_[1];return Object(r.useEffect)((function(){if(t===n.user._id)p([n.user]);else{var e=i.users.filter((function(e){return e._id===t}));p(e)}}),[t,n,o,i.users]),Object(r.useEffect)((function(){o(E||S||h?{type:d.c.MODAL,payload:!0}:{type:d.c.MODAL,payload:!1})}),[E,S,h,o]),Object(a.jsx)("div",{className:"info",children:j.map((function(e){return Object(a.jsxs)("div",{className:"info_container",children:[Object(a.jsx)(s.a,{src:e.avatar,size:"supper-avatar"}),Object(a.jsxs)("div",{className:"info_content",children:[Object(a.jsxs)("div",{className:"info_content_title",children:[Object(a.jsx)("h2",{children:e.username}),e._id===n.user._id?Object(a.jsx)("button",{className:"btn btn-outline-info",onClick:function(){return g(!0)},children:"Edit Profile"}):Object(a.jsx)(m,{user:e})]}),Object(a.jsxs)("div",{className:"follow_btn",children:[Object(a.jsxs)("span",{className:"mr-4",onClick:function(){return k(!0)},children:[e.followers.length," Suiveurs"]}),Object(a.jsxs)("span",{className:"ml-4",onClick:function(){return T(!0)},children:[e.following.length," Suivent"]})]}),Object(a.jsx)("p",{className:"m-0",children:e.address}),Object(a.jsx)("h6",{className:"m-0",children:e.email}),Object(a.jsx)("a",{href:e.website,target:"_blank",rel:"noreferrer",children:e.website}),Object(a.jsx)("p",{children:e.story})]}),h&&Object(a.jsx)(b,{setOnEdit:g}),E&&Object(a.jsx)(x,{users:e.followers,setShowFollowers:k}),S&&Object(a.jsx)(v,{users:e.following,setShowFollowing:T})]},e._id)}))})},y=n(46),N=n(16),E=n(26),k=n(8),w=function(e){var t=e.auth,n=e.id,s=e.dispatch,i=e.profile,l=Object(r.useState)([]),u=Object(c.a)(l,2),d=u[0],b=u[1],p=Object(r.useState)(9),m=Object(c.a)(p,2),h=m[0],x=m[1],v=Object(r.useState)(0),g=Object(c.a)(v,2),w=g[0],_=g[1],S=Object(r.useState)(!1),T=Object(c.a)(S,2),A=T[0],L=T[1];Object(r.useEffect)((function(){i.posts.forEach((function(e){e._id===n&&(b(e.posts),x(e.result),_(e.page))}))}),[i.posts,n]);var C=function(){var e=Object(f.a)(O.a.mark((function e(){var a,c;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L(!0),e.next=3,Object(k.b)("user_posts/".concat(n,"?limit=").concat(9*w),t.token);case 3:a=e.sent,c=Object(o.a)(Object(o.a)({},a.data),{},{page:w+1,_id:n}),s({type:j.a.UPDATE_POST,payload:c}),L(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(y.a,{posts:d,result:h}),A&&Object(a.jsx)("img",{src:N.a,alt:"loading",className:"d-block mx-auto"}),Object(a.jsx)(E.a,{result:h,page:w,load:A,handleLoadMore:C})]})},_=function(e){var t=e.auth,n=e.dispatch,s=Object(r.useState)([]),i=Object(c.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(9),j=Object(c.a)(u,2),b=j[0],p=j[1],m=Object(r.useState)(2),h=Object(c.a)(m,2),x=h[0],v=h[1],g=Object(r.useState)(!1),w=Object(c.a)(g,2),_=w[0],S=w[1];Object(r.useEffect)((function(){return S(!0),Object(k.b)("getSavePosts",t.token).then((function(e){l(e.data.savePosts),p(e.data.result),S(!1)})).catch((function(e){n({type:d.c.ALERT,payload:{error:e.response.data.msg}})})),function(){return l([])}}),[t.token,n]);var T=function(){var e=Object(f.a)(O.a.mark((function e(){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.next=3,Object(k.b)("getSavePosts?limit=".concat(9*x),t.token);case 3:n=e.sent,l(n.data.savePosts),p(n.data.result),v(x+1),S(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)(y.a,{posts:o,result:b}),_&&Object(a.jsx)("img",{src:N.a,alt:"loading",className:"d-block mx-auto"}),Object(a.jsx)(E.a,{result:b,page:x,load:_,handleLoadMore:T})]})},S=n(15);t.default=function(){var e=Object(l.c)((function(e){return e})),t=e.profile,n=e.auth,s=Object(l.b)(),i=Object(S.i)().id,o=Object(r.useState)(!1),u=Object(c.a)(o,2),d=u[0],b=u[1];return Object(r.useEffect)((function(){t.ids.every((function(e){return e!==i}))&&s(Object(j.c)({id:i,auth:n}))}),[i,n,s,t.ids]),Object(a.jsxs)("div",{className:"profile",children:[Object(a.jsx)(g,{auth:n,profile:t,dispatch:s,id:i}),n.user._id===i&&Object(a.jsxs)("div",{className:"profile_tab",children:[Object(a.jsx)("button",{className:d?"":"active",onClick:function(){return b(!1)},children:"Posts"}),Object(a.jsx)("button",{className:d?"active":"",onClick:function(){return b(!0)},children:"Saved"})]}),t.loading?Object(a.jsx)("img",{className:"d-block mx-auto",src:N.a,alt:"loading"}):Object(a.jsx)(a.Fragment,{children:d?Object(a.jsx)(_,{auth:n,dispatch:s}):Object(a.jsx)(w,{auth:n,profile:t,dispatch:s,id:i})})]})}},103:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(65),s=n(3),i=n.n(s),o=n(7),l=n(9),u=n(6),d=n(17),j=n(5),b=n(15),p=n(20),O=n(27),f=n(14),m=function(e){var t=e.total;return Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:parseInt(t/3600).toString().length<2?"0"+parseInt(t/3600):parseInt(t/3600)}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:parseInt(t/60).toString().length<2?"0"+parseInt(t/60):parseInt(t/60)}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:(t%60).toString().length<2?"0"+t%60+"s":t%60+"s"})]})},h=function(e){var t=e.user,n=e.msg,c=e.theme,r=e.data,s=Object(j.c)((function(e){return e})).auth,i=Object(j.b)();return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"chat_title",children:[Object(a.jsx)(p.a,{src:t.avatar,size:"small-avatar"}),Object(a.jsx)("span",{children:t.username})]}),Object(a.jsxs)("div",{className:"you_content",children:[t._id===s.user._id&&Object(a.jsx)("i",{className:"fas fa-trash text-danger",onClick:function(){r&&window.confirm("Voulez-vous supprimer?")&&i(Object(f.d)({msg:n,data:r,auth:s}))}}),Object(a.jsxs)("div",{children:[n.text&&Object(a.jsx)("div",{className:"chat_text",style:{filter:c?"invert(1)":"invert(0)"},children:n.text}),n.media.map((function(e,t){return Object(a.jsx)("div",{children:e.url.match(/video/i)?Object(O.b)(e.url,c):Object(O.a)(e.url,c)},t)}))]}),n.call&&Object(a.jsxs)("button",{className:"btn d-flex align-items-center py-3",style:{background:"#eee",borderRadius:"10px"},children:[Object(a.jsx)("span",{className:"material-icons font-weight-bold mr-1",style:{fontSize:"2.5rem",color:0===n.call.times?"crimson":"green",filter:c?"invert(1)":"invert(0)"},children:0===n.call.times?n.call.video?"videocam_off":"phone_disabled":n.call.video?"video_camera_front":"call"}),Object(a.jsxs)("div",{className:"text-left",children:[Object(a.jsx)("h6",{children:n.call.video?"Video Call":"Audio Call"}),Object(a.jsx)("small",{children:n.call.times>0?Object(a.jsx)(m,{total:n.call.times}):new Date(n.createdAt).toLocaleTimeString()})]})]})]}),Object(a.jsx)("div",{className:"chat_time",children:new Date(n.createdAt).toLocaleString()})]})},x=n(64),v=n(4),g=n(31),y=n(16),N=function(){var e=Object(j.c)((function(e){return e})),t=e.auth,n=e.message,r=e.theme,s=e.socket,p=e.peer,m=Object(j.b)(),N=Object(b.i)().id,E=Object(c.useState)([]),k=Object(u.a)(E,2),w=k[0],_=k[1],S=Object(c.useState)(""),T=Object(u.a)(S,2),A=T[0],L=T[1],C=Object(c.useState)([]),R=Object(u.a)(C,2),D=R[0],U=R[1],I=Object(c.useState)(!1),P=Object(u.a)(I,2),G=P[0],F=P[1],M=Object(c.useRef)(),q=Object(c.useRef)(),H=Object(c.useState)([]),B=Object(u.a)(H,2),z=B[0],Q=B[1],K=Object(c.useState)(9),V=Object(u.a)(K,2),W=V[0],Y=V[1],X=Object(c.useState)(0),J=Object(u.a)(X,2),Z=J[0],$=J[1],ee=Object(c.useState)(0),te=Object(u.a)(ee,2),ne=te[0],ae=te[1],ce=Object(b.g)();Object(c.useEffect)((function(){var e=n.data.find((function(e){return e._id===N}));e&&(Q(e.messages),Y(e.result),$(e.page))}),[n.data,N]),Object(c.useEffect)((function(){if(N&&n.users.length>0){setTimeout((function(){M.current.scrollIntoView({behavior:"smooth",block:"end"})}),50);var e=n.users.find((function(e){return e._id===N}));e&&_(e)}}),[n.users,N]);var re=function(){var e=Object(o.a)(i.a.mark((function e(n){var a,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),A.trim()||0!==D.length){e.next=3;break}return e.abrupt("return");case 3:if(L(""),U([]),F(!0),a=[],!(D.length>0)){e.next=11;break}return e.next=10,Object(g.b)(D);case 10:a=e.sent;case 11:return c={sender:t.user._id,recipient:N,text:A,media:a,createdAt:(new Date).toISOString()},F(!1),e.next=15,m(Object(f.b)({msg:c,auth:t,socket:s}));case 15:M.current&&M.current.scrollIntoView({behavior:"smooth",block:"end"});case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){(function(){var e=Object(o.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.data.every((function(e){return e._id!==N}))){e.next=4;break}return e.next=3,m(Object(f.f)({auth:t,id:N}));case 3:setTimeout((function(){M.current.scrollIntoView({behavior:"smooth",block:"end"})}),50);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[N,m,t,n.data]),Object(c.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&ae((function(e){return e+1}))}),{threshold:.1}).observe(q.current)}),[ae]),Object(c.useEffect)((function(){ne>1&&W>=9*Z&&(m(Object(f.g)({auth:t,id:N,page:Z+1})),ae(1))}),[ne]);var se=function(e){var n=e.video,a=w._id,c=w.avatar,r=w.username,s=w.fullname,i={sender:t.user._id,recipient:a,avatar:c,username:r,fullname:s,video:n};m({type:v.c.CALL,payload:i})},ie=function(e){var n=e.video,a=t.user,c=a._id,r=a.avatar,i=a.username,o=a.fullname,l={sender:c,recipient:w._id,avatar:r,username:i,fullname:o,video:n};p.open&&(l.peerId=p._id),s.emit("callUser",l)};return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"message_header",style:{cursor:"pointer"},children:0!==w.length&&Object(a.jsx)(d.a,{user:w,children:Object(a.jsxs)("div",{children:[Object(a.jsx)("i",{className:"fas fa-phone-alt",onClick:function(){se({video:!1}),ie({video:!1})}}),Object(a.jsx)("i",{className:"fas fa-video mx-3",onClick:function(){se({video:!0}),ie({video:!0})}}),Object(a.jsx)("i",{className:"fas fa-trash text-danger",onClick:function(){if(window.confirm("Voulez-vous supprimer?"))return m(Object(f.c)({auth:t,id:N})),ce.push("/message")}})]})})}),Object(a.jsx)("div",{className:"chat_container",style:{height:D.length>0?"calc(100% - 180px)":""},children:Object(a.jsxs)("div",{className:"chat_display",ref:M,children:[Object(a.jsx)("button",{style:{marginTop:"-25px",opacity:0},ref:q,children:"Voir plus"}),z.map((function(e,n){return Object(a.jsxs)("div",{children:[e.sender!==t.user._id&&Object(a.jsx)("div",{className:"chat_row other_message",children:Object(a.jsx)(h,{user:w,msg:e,theme:r})}),e.sender===t.user._id&&Object(a.jsx)("div",{className:"chat_row you_message",children:Object(a.jsx)(h,{user:t.user,msg:e,theme:r,data:z})})]},n)})),G&&Object(a.jsx)("div",{className:"chat_row you_message",children:Object(a.jsx)("img",{src:y.a,alt:"loading"})})]})}),Object(a.jsx)("div",{className:"show_media",style:{display:D.length>0?"grid":"none"},children:D.map((function(e,t){return Object(a.jsxs)("div",{id:"file_media",children:[e.type.match(/video/i)?Object(O.b)(URL.createObjectURL(e),r):Object(O.a)(URL.createObjectURL(e),r),Object(a.jsx)("span",{onClick:function(){return function(e){var t=Object(l.a)(D);t.splice(e,1),U(t)}(t)},children:"\xd7"})]},t)}))}),Object(a.jsxs)("form",{className:"chat_input",onSubmit:re,children:[Object(a.jsx)("input",{type:"text",placeholder:"Entrez votre message...",value:A,onChange:function(e){return L(e.target.value)},style:{filter:r?"invert(1)":"invert(0)",background:r?"#040404":"",color:r?"white":""}}),Object(a.jsx)(x.a,{setContent:L,content:A,theme:r}),Object(a.jsxs)("div",{className:"file_upload",children:[Object(a.jsx)("i",{className:"fas fa-image text-danger"}),Object(a.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(l.a)(e.target.files),n="",a=[];t.forEach((function(e){return e?e.size>5242880?n="The image/video largest is 5mb.":a.push(e):n="ce archive no existe."})),n&&m({type:v.c.ALERT,payload:{error:n}}),U([].concat(Object(l.a)(D),a))}})]}),Object(a.jsx)("button",{type:"submit",className:"material-icons",disabled:!(A||D.length>0),children:"near_me"})]})]})};t.default=function(){return Object(a.jsxs)("div",{className:"message d-flex",children:[Object(a.jsx)("div",{className:"col-md-4 border-right px-0 left_mess",children:Object(a.jsx)(r.a,{})}),Object(a.jsx)("div",{className:"col-md-8 px-0",children:Object(a.jsx)(N,{})})]})}},11:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p})),n.d(t,"i",(function(){return O})),n.d(t,"e",(function(){return f})),n.d(t,"g",(function(){return m})),n.d(t,"c",(function(){return h})),n.d(t,"f",(function(){return x})),n.d(t,"h",(function(){return v}));var a=n(9),c=n(3),r=n.n(c),s=n(2),i=n(7),o=n(4),l=n(31),u=n(8),d=n(12),j={CREATE_POST:"CREATE_POST",LOADING_POST:"LOADING_POST",GET_POSTS:"GET_POSTS",UPDATE_POST:"UPDATE_POST",GET_POST:"GET_POST",DELETE_POST:"DELETE_POST"},b=function(e){var t=e.postData,n=e.images,a=e.auth,c=e.socket;return function(){var e=Object(i.a)(r.a.mark((function e(i){var b,p,O,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=[],e.prev=1,i({type:o.c.ALERT,payload:{loading:!0}}),!(n.length>0)){e.next=7;break}return e.next=6,Object(l.b)(n);case 6:b=e.sent;case 7:return e.next=9,Object(u.d)("posts",{postData:t,images:b},a.token);case 9:O=e.sent,i({type:j.CREAR_POST,payload:Object(s.a)(Object(s.a)({},O.data.newPost),{},{user:a.user})}),i({type:o.c.ALERT,payload:{loading:!1}}),i({type:o.c.ALERT,payload:{success:O.data.msg}}),f={id:O.data.newPost._id,text:"Une nouvelle App.",recipients:O.data.newPost.user.followers,url:"/post/".concat(O.data.newPost._id),title:t.title,image:null===(p=b[0])||void 0===p?void 0:p.url},i(Object(d.b)({msg:f,auth:a,socket:c})),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),i({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}()},p=function(){return function(){var e=Object(i.a)(r.a.mark((function e(t){var n;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:j.LOADING_POST,payload:!0}),e.next=4,Object(u.b)("posts");case 4:n=e.sent,t({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},n.data),{},{page:2})}),t({type:j.LOADING_POST,payload:!1}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.postData,n=e.images,c=e.auth,d=e.status;return function(){var e=Object(i.a)(r.a.mark((function e(i){var b,p,O,f;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(b=[],p=n.filter((function(e){return!e.url})),O=n.filter((function(e){return e.url})),d.title!==t.title||d.Vente!==t.Vente||d.Location!==t.Location||d.description!==t.description||d.price!==t.price||d.unidaddeprecio!==t.unidaddeprecio||d.oferta!==t.oferta||d.telefono!==t.telefono||0!==p.length||O.length!==d.images.length){e.next=5;break}return e.abrupt("return");case 5:if(e.prev=5,i({type:o.c.ALERT,payload:{loading:!0}}),!(p.length>0)){e.next=11;break}return e.next=10,Object(l.b)(p);case 10:b=e.sent;case 11:return e.next=13,Object(u.c)("post/".concat(d._id),Object(s.a)(Object(s.a)({},t),{},{images:[].concat(Object(a.a)(O),Object(a.a)(b))}),c.token);case 13:f=e.sent,i({type:j.UPDATE_POST,payload:f.data.newPost}),i({type:o.c.ALERT,payload:{success:f.data.msg}}),e.next=21;break;case 18:e.prev=18,e.t0=e.catch(5),i({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 21:case"end":return e.stop()}}),e,null,[[5,18]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.post,n=e.auth,c=e.socket;return function(){var e=Object(i.a)(r.a.mark((function e(i){var l,b;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l=Object(s.a)(Object(s.a)({},t),{},{likes:[].concat(Object(a.a)(t.likes),[n.user])}),i({type:j.UPDATE_POST,payload:l}),c.emit("likePost",l),e.prev=3,e.next=6,Object(u.c)("post/".concat(t._id,"/like"),null,n.token);case 6:b={id:n.user._id,text:"like your post.",recipients:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url},i(Object(d.b)({msg:b,auth:n,socket:c})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),i({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},m=function(e){var t=e.post,n=e.auth,a=e.socket;return function(){var e=Object(i.a)(r.a.mark((function e(c){var i,l;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(s.a)(Object(s.a)({},t),{},{likes:t.likes.filter((function(e){return e._id!==n.user._id}))}),c({type:j.UPDATE_POST,payload:i}),a.emit("unLikePost",i),e.prev=3,e.next=6,Object(u.c)("post/".concat(t._id,"/unlike"),null,n.token);case 6:l={id:n.user._id,text:"like your post.",recipients:[t.user._id],url:"/post/".concat(t._id)},c(Object(d.f)({msg:l,auth:n,socket:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),c({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},h=function(e){var t=e.detailPost,n=e.id;return function(){var e=Object(i.a)(r.a.mark((function e(a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.every((function(e){return e._id!==n}))){e.next=11;break}return e.prev=1,e.next=4,Object(u.b)("post/".concat(n));case 4:c=e.sent,a({type:j.GET_POST,payload:c.data.post}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}()},x=function(e){var t=e.post,n=e.auth;return function(){var e=Object(i.a)(r.a.mark((function e(c){var i;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(s.a)(Object(s.a)({},n.user),{},{saved:[].concat(Object(a.a)(n.user.saved),[t._id])}),c({type:o.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:i})}),e.prev=2,e.next=5,Object(u.c)("savePost/".concat(t._id),null,n.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),c({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},v=function(e){var t=e.post,n=e.auth;return function(){var e=Object(i.a)(r.a.mark((function e(a){var c;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c=Object(s.a)(Object(s.a)({},n.user),{},{saved:n.user.saved.filter((function(e){return e!==t._id}))}),a({type:o.c.AUTH,payload:Object(s.a)(Object(s.a)({},n),{},{user:c})}),e.prev=2,e.next=5,Object(u.c)("unSavePost/".concat(t._id),null,n.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()}},114:function(e,t,n){},12:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"f",(function(){return d})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return b})),n.d(t,"c",(function(){return p}));var a=n(3),c=n.n(a),r=n(2),s=n(7),i=n(4),o=n(8),l={GET_NOTIFIES:"GET_NOTIFIES",CREATE_NOTIFY:"CREATE_NOTIFY",REMOVE_NOTIFY:"REMOVE_NOTIFY",UPDATE_NOTIFY:"UPDATE_NOTIFY",UPDATE_SOUND:"UPDATE_SOUND",DELETE_ALL_NOTIFIES:"DELETE_ALL_NOTIFIES"},u=function(e){var t=e.msg,n=e.auth,a=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(s){var l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.d)("notify",t,n.token);case 3:l=e.sent,a.emit("createNotify",Object(r.a)(Object(r.a)({},l.data.notify),{},{user:{username:n.user.username,avatar:n.user.avatar}})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),s({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.msg,n=e.auth,a=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(r){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.a)("notify/".concat(t.id,"?url=").concat(t.url),n.token);case 3:a.emit("removeNotify",t),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),r({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(o.b)("notifies",e);case 3:a=t.sent,n({type:l.GET_NOTIFIES,payload:a.data.notifies}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),n({type:i.c.ALERT,payload:{error:t.t0.response.data.msg}});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}()},b=function(e){var t=e.msg,n=e.auth;return function(){var e=Object(s.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:l.UPDATE_NOTIFY,payload:Object(r.a)(Object(r.a)({},t),{},{isRead:!0})}),e.prev=1,e.next=4,Object(o.c)("/isReadNotify/".concat(t._id),null,n.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(s.a)(c.a.mark((function t(n){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n({type:l.DELETE_ALL_NOTIFIES,payload:[]}),t.prev=1,t.next=4,Object(o.a)("deleteAllNotify",e);case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(1),n({type:i.c.ALERT,payload:{error:t.t0.response.data.msg}});case 9:case"end":return t.stop()}}),t,null,[[1,6]])})));return function(e){return t.apply(this,arguments)}}()}},120:function(e,t,n){var a={"./UsersActionn":58,"./UsersActionn.js":58,"./bloqueos":59,"./bloqueos.js":59,"./discover":85,"./discover.js":85,"./edicionusers":57,"./edicionusers.js":57,"./home":60,"./home.js":60,"./informacionaplicacion":61,"./informacionaplicacion.js":61,"./listadeusuariosbloqueadoss":62,"./listadeusuariosbloqueadoss.js":62,"./login":38,"./login.js":38,"./message":51,"./message/":51,"./message/[id]":103,"./message/[id].js":103,"./message/index":51,"./message/index.js":51,"./paginabloqueos":86,"./paginabloqueos.js":86,"./post.js2":142,"./post/[id]":87,"./post/[id].js":87,"./profile/[id]":102,"./profile/[id].js":102,"./register":56,"./register.js":56,"./roles":63,"./roles.js":63};function c(e){var t=r(e);return n(t)}function r(e){if(!n.o(a,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return a[e]}c.keys=function(){return Object.keys(a)},c.resolve=r,e.exports=c,c.id=120},14:function(e,t,n){"use strict";n.d(t,"a",(function(){return u})),n.d(t,"b",(function(){return d})),n.d(t,"e",(function(){return j})),n.d(t,"f",(function(){return b})),n.d(t,"g",(function(){return p})),n.d(t,"d",(function(){return O})),n.d(t,"c",(function(){return f}));var a=n(3),c=n.n(a),r=n(2),s=n(7),i=n(4),o=n(8),l=n(12),u={ADD_USER:"ADD_USER",ADD_MESSAGE:"ADD_MESSAGE",GET_CONVERSATIONS:"GET_CONVERSATIONS",GET_MESSAGES:"GET_MESSAGES",UPDATE_MESSAGES:"UPDATE_MESSAGES",DELETE_MESSAGES:"DELETE_MESSAGES",DELETE_CONVERSATION:"DELETE_CONVERSATION",CHECK_ONLINE_OFFLINE:"CHECK_ONLINE_OFFLINE"},d=function(e){var t=e.msg,n=e.auth,a=e.socket;return function(){var e=Object(s.a)(c.a.mark((function e(s){var d,j,b,p,O;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s({type:u.ADD_MESSAGE,payload:t}),d=n.user,j=d._id,b=d.avatar,p=d.username,a.emit("addMessage",Object(r.a)(Object(r.a)({},t),{},{user:{_id:j,avatar:b,username:p}})),e.prev=3,e.next=6,Object(o.d)("message",t,n.token);case 6:O={id:n.user._id,text:"te envi\xf3 un mensaje.",recipients:[t.recipient],url:"/message/".concat(t.recipient),content:t.text,image:n.user.avatar},s(Object(l.b)({msg:O,auth:n,socket:a})),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),s({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){var t=e.auth,n=e.page,a=void 0===n?1:n;return function(){var e=Object(s.a)(c.a.mark((function e(n){var s,l;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)("conversations?limit=".concat(9*a),t.token);case 3:s=e.sent,l=[],s.data.conversations.forEach((function(e){e.recipients.forEach((function(n){n._id!==t.user._id&&l.push(Object(r.a)(Object(r.a)({},n),{},{text:e.text,media:e.media,call:e.call}))}))})),n({type:u.GET_CONVERSATIONS,payload:{newArr:l,result:s.data.result}}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),n({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}()},b=function(e){var t=e.auth,n=e.id,a=e.page,l=void 0===a?1:a;return function(){var e=Object(s.a)(c.a.mark((function e(a){var s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)("message/".concat(n,"?limit=").concat(9*l),t.token);case 3:s=e.sent,d=Object(r.a)(Object(r.a)({},s.data),{},{messages:s.data.messages.reverse()}),a({type:u.GET_MESSAGES,payload:Object(r.a)(Object(r.a)({},d),{},{_id:n,page:l})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.auth,n=e.id,a=e.page,l=void 0===a?1:a;return function(){var e=Object(s.a)(c.a.mark((function e(a){var s,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Object(o.b)("message/".concat(n,"?limit=").concat(9*l),t.token);case 3:s=e.sent,d=Object(r.a)(Object(r.a)({},s.data),{},{messages:s.data.messages.reverse()}),a({type:u.UPDATE_MESSAGES,payload:Object(r.a)(Object(r.a)({},d),{},{_id:n,page:l})}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),a({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.msg,n=e.data,a=e.auth;return function(){var e=Object(s.a)(c.a.mark((function e(r){var s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=Object(i.a)(n,t._id),r({type:u.DELETE_MESSAGES,payload:{newData:s,_id:t.recipient}}),e.prev=2,e.next=5,Object(o.a)("message/".concat(t._id),a.token);case 5:e.next=10;break;case 7:e.prev=7,e.t0=e.catch(2),r({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.auth,n=e.id;return function(){var e=Object(s.a)(c.a.mark((function e(a){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:u.DELETE_CONVERSATION,payload:n}),e.prev=1,e.next=4,Object(o.a)("conversation/".concat(n),t.token);case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),a({type:i.c.ALERT,payload:{error:e.t0.response.data.msg}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()}},141:function(e,t){},142:function(e,t,n){"use strict";n.r(t),t.default=n.p+"static/media/post.8f87da04.js2"},16:function(e,t,n){"use strict";t.a=n.p+"static/media/loading.10625dac.gif"},17:function(e,t,n){"use strict";var a=n(0),c=(n(1),n(20)),r=n(10),s=n(5);t.a=function(e){var t=e.children,n=e.user,i=e.border,o=e.handleClose,l=e.setShowFollowers,u=e.setShowFollowing,d=e.msg,j=Object(s.c)((function(e){return e})).theme;return Object(a.jsxs)("div",{className:"d-flex p-2 align-items-center justify-content-between w-100 ".concat(i),children:[Object(a.jsx)("div",{children:Object(a.jsxs)(r.b,{to:"/profile/".concat(n._id),onClick:function(){o&&o(),l&&l(!1),u&&u(!1)},className:"d-flex align-items-center",children:[Object(a.jsx)(c.a,{src:n.avatar,size:"big-avatar"}),Object(a.jsxs)("div",{className:"ml-1",style:{transform:"translateY(-2px)"},children:[Object(a.jsx)("span",{className:"d-block",children:n.username}),Object(a.jsx)("small",{style:{opacity:.7},children:d?function(e){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{style:{filter:j?"invert(1)":"invert(0)"},children:e.text}),e.media.length>0&&Object(a.jsxs)("div",{children:[e.media.length," ",Object(a.jsx)("i",{className:"fas fa-image"})]}),e.call&&Object(a.jsx)("span",{className:"material-icons",children:0===e.call.times?e.call.video?"videocam_off":"phone_disabled":e.call.video?"video_camera_front":"call"})]})}(n):n.username})]})]})}),t]})}},172:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n.n(c),s=n(54),i=n.n(s),o=(n(114),n(3)),l=n.n(o),u=n(7),d=n(10),j=n(15),b=function(){return Object(a.jsx)("div",{className:"position-relative",style:{minHeight:"calc(100vh - 70px)"},children:Object(a.jsx)("h2",{className:"position-absolute text-secondary",style:{top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:"404 | Not Found."})})},p=n(5),O=function(){var e=Object(j.i)(),t=e.page,c=e.id,s="";return Object(p.c)((function(e){return e})).auth.token&&(s=c?"".concat(t,"/[id]"):"".concat(t)),function(e){try{return r.a.createElement(n(120)("./".concat(e)).default)}catch(t){return Object(a.jsx)(b,{})}}(s)},f=n(2),m=function(e){return localStorage.getItem("firstLogin")?Object(a.jsx)(j.b,Object(f.a)({},e)):Object(a.jsx)(j.a,{to:"/"})},h=n(60),x=n(38),v=n(56),g=n(4),y=function(){return Object(a.jsx)("div",{className:"position-fixed w-100 h-100 text-center loading",style:{background:"#0008",color:"white",top:0,left:0,zIndex:50},children:Object(a.jsxs)("svg",{width:"205",height:"250",viewBox:"0 0 40 50",children:[Object(a.jsx)("polygon",{stroke:"#fff",strokeWidth:"1",fill:"none",points:"20,1 40,40 1,40"}),Object(a.jsx)("text",{fill:"#fff",x:"5",y:"47",children:"Loading"})]})})},N=function(e){var t=e.msg,n=e.handleShow,c=e.bgColor;return Object(a.jsxs)("div",{className:"toast show position-fixed text-light ".concat(c),style:{top:"5px",right:"5px",minWidth:"200px",zIndex:50},children:[Object(a.jsxs)("div",{className:"toast-header text-light ".concat(c),children:[Object(a.jsx)("strong",{className:"mr-auto text-light",children:t.title}),Object(a.jsx)("button",{className:"ml-2 mb-1 close text-light","data-dismiss":"toast",style:{outline:"none"},onClick:n,children:"\xd7"})]}),Object(a.jsx)("div",{className:"toast-body",children:t.body})]})},E=function(){var e=Object(p.c)((function(e){return e})).alert,t=Object(p.b)();return Object(a.jsxs)("div",{children:[e.loading&&Object(a.jsx)(y,{}),e.error&&Object(a.jsx)(N,{msg:{title:"Error",body:e.error},handleShow:function(){return t({type:g.c.ALERT,payload:{}})},bgColor:"bg-danger"}),e.success&&Object(a.jsx)(N,{msg:{title:"Success",body:e.success},handleShow:function(){return t({type:g.c.ALERT,payload:{}})},bgColor:"bg-success"})]})},k=n(40),w=n(20),_=n(30),S=n.n(_),T=n(12),A=function(){var e=Object(p.c)((function(e){return e})),t=e.auth,n=e.notify,c=Object(p.b)(),r=function(){c({type:T.a.UPDATE_SOUND,payload:!n.sound})};return Object(a.jsxs)("div",{style:{minWidth:"300px"},children:[Object(a.jsxs)("div",{className:"d-flex justify-content-between align-items-center px-3",children:[Object(a.jsx)("h3",{children:"Notification"}),n.sound?Object(a.jsx)("i",{className:"fas fa-bell text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:r}):Object(a.jsx)("i",{className:"fas fa-bell-slash text-danger",style:{fontSize:"1.2rem",cursor:"pointer"},onClick:r})]}),Object(a.jsx)("hr",{className:"mt-0"}),0===n.data.length&&Object(a.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMEAAACqCAIAAACbE7xSAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAABBmSURBVHhe7Z37XxJpG4ff//+Hd9/dbdsyLVdzNbU0S0uzNjt7KDUPoOAJBYEERFATs32v5Xniw+JI2Mwwp/v6gQ/CwMAz13zv+xkG/M/fgmAOcUgwizgkmEUcEswiDglmEYcEs4hDglnEIcEs4pBgFnFIMIs4JJhFHBLMIg4JZhGHNF+/of8WGiboDpVKpaOjo4ODg1wul81muczn88Vi8fPnz2dnZ3ohoS7BdQhFECidTkcikbm5uXfv3r1+/frt27fv379fXl7e2dnBpC9fvkgyfZeAOoQ9mUwmFArNzMxgz5s3bxBIwXVMmpqamp+fxyQCST9GuIAgOnRycpJMJhcXFycnJ7U4RmDShw8fNjc3C4WCfqRgROAcooRRv5aWllBEuUIOUb8+fvxICeP22dnZare4KxaL0TPpxwvnCJZDNDd0OZQw1f1QtqhZeEPYIBYNNQUuHo+vrKyQQBXJKGqJREJa7IsIlkP0yFtbW0SLkgOTaKiZlNX4QQ+ENCym+iQuiSiiSPprQwLkEAYcHx9Ts1TAULDC4TBmnA8YlkSj3d1dUqos22sKHH9KFBkSIIdOT0+pVkzEKlpQv0gmffe/QSP0osypqjc9PR2NRi9aOOAEyCGmY5VooTzhB7FUpzzhHIVPOYdJLM8t+j6higA5RHna2dlRcy6coHGuX5tInWQySXPN8pQ/OmsslJboPOLQheBQKpUSh75LgBwqlUrkyg/XMqZmUssMCZBD5Eo+n6/M2OmpUap+T72wsKB6akza2NiQntqQADmEFhSjUCikyhmXRMvBwcF5M1iSiIrH44QWwsHHjx/39vZkbm9IgBwCdMEM1eIAGUO6EE6UOfxAHS4pWCQQM7i5uTmVWCy2urpKO1Wn8AWZQDjEtld+kEPZbJZQUQ4pSCOMKRaLmET8sMDa2lrlWDbgHI1RxTPQzyuU8blDbG9CJZPJMCOLRCL0N7RBqsWpwJ/T09PcjltkD/ZQ5lQCKZiU0Q/xWKZysViMonZ4eCi9UQV/OkQ9KhQK6XSa/AiHw2x+soTmBhuq5aiG2797L8/A86AaTRVFkJZc1UG91qDiK4eoNRSjXC6XSCSi0SjqEDAXaWEGnhOf5ufn6ZNIOMqf+twtmGXOJw6pXodUYIsuLS2pg0DNgXUtLi4SeLiLwdS4oJnkB4fYZlQutiLdjN6wTYdkomdaX1/f398PWqvkbYeIH9pb+lzKlmp39CZ1gkqBo1XCJP0SA4BXHSJ7KBx0tbTM9LnO2lMNr4RAWl5ejsfj6psh+hX7F086xLSL1of4qZxQ5jZ4VZhNactkMjRq+nX7FI85RPwwl2bDMCFizqW3mFvBJAIplUr5+xi3xxxCIOrX7OysHTP2H4YX8678JbVXZfSt3/D957Vecoj2WZ2M4Z76hTHYQ9miqWdWSDSef224xe0rKyu8fl+mkTccYuhpgNib2Vp6y7gDHGIuRltGzVpcXOQKr1DNEGsCaXJykvrLfI25pH5XfsEDDimBaj4HdQnKIebzOLRUBpP4k5eqqpterrwkYqFRLpfz2blsbndIHQFybQetzKC8kkDYg0PIpDKJ0oZe5zXi3mw266c0crVDJNDR0VHlrDE3o0wigZRG6pImiRtVr62XK0O9U5+v6ffpcVztUKFQoITVnInhWniR1C+qGJn0T1Uro04ZwDC9UBkW4/ZiseiPFtu9DjHEahamB971qLBBF8ouhYxypgIJXWbLvwNRvSdwXX1N2wcaudShk5OT7e1thl4PuUdAI8APjOHFYw8OqfaoRiMWI42YafogjdzoEI1CKpWiIqjh9igEkjpuVK5p/8CfeKPvLmtEypK1Xv8wxHUOIRC7JgLV9BBehNTBEjRSRQ3olrgRe/QSr19T9RKJhH7z3sRdDpHqx8fHzOSZFesx9jhqvqY0Aq6omZq+u7wAN+bzee9+GOIuh9QvttCTVo+y11EaVVps5v81x7rok+ivme17tDFykUPsiJlMhrHWQ+sj0IieWmnEJfWrulKzw5C7yWTSo42Rixw6PDxknuKnBKqGblodgQQ0qqlowO25XM6LUeQih6hinpvMNw59NCWMuYKqaPRA1XM0QKnNzU3aQT0c3sEtDhUKhZWVleqE9x9YwvS+0hgxR+P9Vs/RMCyVSnkuilzhEKPmxSOKlwVdaJ9phnAIMEY11xWNuDcajdJc63HxCM47dHZ2xqixX9Zku//AFaKoMkcD9VFadRTRM9FceyuKnHfo9PQ0kUgwsnoU/Q5hgyjKIaKXPafaIe4Nh8OMiYc0ct4hukhS3fchpKhEET01JtWcYKQgnDKZjIcOOTrsUKlU+vTpEzvf+aH0MdQv9hkwfNeIFYlEPHSsyGGHisXi2tpaoAT6LhhGFHno0w8nHaKbJrSZp+jBE76BRvF4/LNH/u2Vkw4R1zs7O4yXHjnhGwQznfXBwYEeKXfjpEOMEYVfD5vwb+i76RQ9cc61kw6l02lmZHrMhH9DFMViMU+UM8ccomHc2tryzXlCdrC6ukpnrcfLxTjm0NHREWMkM7I6ENJEtR4vF+OYQ7lcbmlpSY+WYMT09PT29rb7D1g75lAikZBZfX2YsUajUfcfbHTMofX19ZpTQoXzhEIh98/wHXCIcKahDofDAfmMzAwLCwvM8PXAuRVnHKKhZnSkof4us7Oz8XhcD5xbccChs7Mzpqy+P+PMEmbKv1esB86tOOAQhYx8/mDbr1ERb3SjXDYh5+xe1+Tk5MrKisunZg44dHp6Sj7bcdKZ2pATExN//fXX8+fP1ck66i7LKWvzxu51Iejy8nKpVHKzRg44xIhsbGzYMSljiz569Oju3bt37tzp7+9/+PAhG1jfZzUvX758/PjxvXv3ent7+/r6hoaGnj17Vn1GoiXgJY2jy7++6IBDJycnkUjE2k85VCSMjIx0dnbeuHHj2rVrLS0t7e3tAwMDhIReyDpevHiBQF1dXa2trazr+vXrt27dwic7lJ2bmysUCm7+8NUZh+z4abPR0dHbt29fvXqVLQpsWsAnxCIzrC00T548QaDff/9dCaTWhbUPHjxAL2vXxeTD5b8E6oBDnz9/XlxctPDgENsMS+7fv68SSDkEatNSa4gHq7arWhdVspJAFVCKGvr06VNrz4jCoWw26+ZzGp1x6Py3PM3AdmXvp2yRBHp7llEO9fT00KlYtV3VusibmnUBDnV3d4+Pj1vrkPtP0XfGIWu/yKGyge3a1tZWnQ3KIVpsWiILc4jGmfp48+bNmnXhEM01vlq1LoU4ZIDlDinGxsaIHLU5FVyn1aX5tbwfImwoW0SRXlN5XRg8PDxseT8kDhlgk0OIQlvd0dGhNi0blXnZ4OAgt+slrIPnpK2uzAFZF7FEMWVuqJewDnHIAJscAqoMLe3Q0BD1C3tQyg6BKlC2KKCsC3tIOxJI32Ep4pAB9jkEaMS2pAEiEmwVSNGEdYlDBtjqENCOVNA32YZeTRl9k9WIQwbY7ZDPEIcMEIcuhThkgDh0KcQhA8ShSyEOGSAOXQpxyABx6FKIQwaIQ5dCHDKgyQ6pIzejo6N9fX09PT13TMDDh4eHJyYm7DsadB5xyABHcoht397efqNM6w/BA1taWgYGBiw8G6kRxCEDHHFoZGQEh9SZhz+Geuzg4KDkUA2BcIhNPjY29ueff+LB9R8FgYgiO86srY84ZEDzHXr79i0FqL+/v3K29WUpJ9G1P/74Y3x8XD9psxCHDHAkhwgPWiKCBBW0F5dBPcraUyIbRBwywJF+CJ4+fdrd3V0RonHU8rdu3VInJIlDNQTFIRVFdDOoUNGiQVi4ra2NUmjTWWb1EYcMcCqHAI1QQZ1O36BGLEYFVF/YaHICKcQhAxx0CAmYmaNRa2urmqtrUy5ALcOEjipm7Td+GkccMsBBhwCNmKMNDQ11dnYqSxT/5NI31C3cS+GjjyaBLP8ifeOIQwY47hCXTK+IloGBgZ6eHmTCFToewolLKh1zeLIHe+ifEA6BHKliCnHIAGcdUignqGtPnjxBFGJpcHAQpeD+/fvDw8MY5rg9CnHIADc4pKDFgfOWcEsFfZNziEMGuMchTyAOGSAOXQpxyAAcsvZ3P/yNOKT5+vVrqVQ6OTlBoIODg/n5eacOt3iO9+/fp1Kpo6MjRo8xdKFMtjuk7CkWi58+fdrd3U0kErFYjHFxQ7vqCaampqLRKOPG6KXT6f39ffZDV/08o+0OsffwzgkeKV7mYcdj91tfX3eVRvY6hEDJZJKKLpXLKhjJ6elpNDo8PNSj7DT2OpTNZkOhkJQty5mZmWHnpEnQA+0oNjpE2O7s7Mg/B7KJtbU1ukw91o5io0NnZ2dErn7HgtUsLy8T83qsHcVGh5iFsq+8tP+HpILJ4uLi3t6eHmtHsTeHNjc3pZu2iXA4nMvl9Fg7ir390O7uLpMy/aYFS9nY2HDJ1MxGh2B/f1/+ebQdMFNJpVKnp6d6oB3FXod4k+l02pHjQ4j7A+6qR10K/chmwRonJycjkYhLJmVgr0NwcnLCHtNMjV69esW6ZmZm1CcqXG8cNk8jvCtDGExNTbGKZp4py9pDoRACuee/wNjuEF0RGtH9xeNxWuwmsLW1RQFlG4+Ojj579uxJY4yNjY2MjNy7d+9uA7DYwMBAf38/GkWjUdao120zsVgsmUzSBrnq3wjZ7pCC93x8fMybbwJHR0f5fB5l5+bm0OjBgwf3GwAn1L9qUCfk10edrt/V1YVABwcHrFGv22bUp/d6TF1DkxxqPljLLvvw4cPBwUGSg8yoAwv09fV1dHT89NNP/22An3/+uaWlZWhoyCVHaJzFtw4BG5gQQiMyplyC6oFJt2/fRo7/fQ+W+fXXX9va2miGCCG9sgDjZ4f29/cnJiYeP36soqg+jTuEQFeuXGlvb3f56YVNw88O0TrQFdESqXZHy3IBjTuEQIQQhcxt54I5hZ8dYgPTyDMfJorQSMtyAQ06RAj99ttvvb294XDYVZMjB/GzQ8Bm3tjYePHiRaW5vohGHOJeBGJGRonETgkhhc8dUiwsLIyNjQ0PD9epaN91iLuoYteuXaM4bm9v66cWAuIQjcvS0hJztEePHl10FLG+QyqBrl69ioVra2tSxaoJhEMUHSbhdDBE0cjICL3ReZPqOEQPhD03btygIK6vr1PF9PMKZQLhEJAchUJhdXX11atXFCNsqDHpvENc/+WXX6hf169f7+7upqna3NwUgc4TFIcUX758IUjm5uYwiQ6J6sYUHZmAjrunp4eCpQ7/ANfJnq6uLtLrw4cPe3t7UsIMCZZDCrJka2trenoak54/fz4+Pk4yqQ9cy7+I38rMq7OzE6WQbGpqKp1O60cKRgTRIdojAkl9+zYWi2EJvXZvb29HR8fNmzdRB6Xm5+dRB9tYTOKnPkF0qAJyMGXL5/Pqe9zxeHxnZ4crlC2aJ5ecJeh+Au2QYAnikGAWcUgwizgkmEUcEswiDglmEYcEs4hDglnEIcEs4pBgFnFIMIs4JJhFHBLMIg4JZhGHBLOIQ4JZxCHBLOKQYBZxSDCLOCSYRRwSzCIOCWYRhwSziEOCWcQhwSzikGAWcUgwizgkmEUcEszx99//Bw5Ofhxxr2YEAAAAAElFTkSuQmCC",alt:"NoNotice",className:"w-100"}),Object(a.jsx)("div",{style:{maxHeight:"calc(100vh - 200px)",overflow:"auto"},children:n.data.map((function(e,n){return Object(a.jsxs)("div",{className:"px-2 mb-3",children:[Object(a.jsxs)(d.b,{to:"".concat(e.url),className:"d-flex text-dark align-items-center",onClick:function(){return function(e){c(Object(T.e)({msg:e,auth:t}))}(e)},children:[Object(a.jsx)(w.a,{src:e.user.avatar,size:"big-avatar"}),Object(a.jsxs)("div",{className:"mx-1 flex-fill",children:[Object(a.jsxs)("div",{children:[Object(a.jsx)("strong",{className:"mr-1",children:e.user.username}),Object(a.jsx)("span",{children:e.text})]}),e.content&&Object(a.jsxs)("small",{children:[e.content.slice(0,20),"..."]})]}),e.image&&Object(a.jsx)("div",{style:{width:"30px"},children:e.image.match(/video/i)?Object(a.jsx)("video",{src:e.image,width:"100%"}):Object(a.jsx)(w.a,{src:e.image,size:"medium-avatar"})})]}),Object(a.jsxs)("small",{className:"text-muted d-flex justify-content-between px-2",children:[S()(e.createdAt).fromNow(),!e.isRead&&Object(a.jsx)("i",{className:"fas fa-circle text-primary"})]})]},n)}))}),Object(a.jsx)("hr",{className:"my-1"}),Object(a.jsx)("div",{className:"text-right text-danger mr-2",style:{cursor:"pointer"},onClick:function(){var e=n.data.filter((function(e){return!1===e.isRead}));return 0===e.length||window.confirm("You have ".concat(e.length," unread notices. Are you sure you want to delete all?"))?c(Object(T.c)(t.token)):void 0},children:"Delete All"})]})},L=function(){var e=Object(p.b)(),t=Object(p.c)((function(e){return e})),n=t.auth,c=t.theme,r=t.notify,s=Object(j.h)().pathname,i=function(e){if(e===s)return"active"};return Object(a.jsx)("div",{className:"menu",children:Object(a.jsxs)("ul",{className:"navbar-nav flex-row",children:[[{label:"Home",icon:"home",path:"/"},{label:"Message",icon:"near_me",path:"/message"}].map((function(e,t){return Object(a.jsx)("li",{className:"nav-item px-2 ".concat(i(e.path)),children:Object(a.jsx)(d.b,{className:"nav-link",to:e.path||"#",onClick:function(t){e.onClick&&(t.preventDefault(),e.onClick())},children:e.icon.startsWith("fa")?Object(a.jsx)("i",{className:e.icon}):Object(a.jsx)("span",{className:"material-icons",children:e.icon})})},t)})),Object(a.jsxs)("li",{className:"nav-item dropdown",style:{opacity:1},children:[Object(a.jsxs)("span",{className:"nav-link position-relative",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:[Object(a.jsx)("span",{className:"material-icons",style:{color:r.data.length>0?"crimson":""},children:"favorite"}),Object(a.jsx)("span",{className:"notify_length",children:r.data.length})]}),Object(a.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",style:{transform:"translateX(75px)"},children:Object(a.jsx)(A,{})})]}),n.user?Object(a.jsxs)("li",{className:"nav-item dropdown",style:{opacity:1},children:[Object(a.jsx)("span",{className:"nav-link dropdown-toggle",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(a.jsx)(w.a,{src:n.user.avatar,size:"medium-avatar"})}),Object(a.jsxs)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:[Object(a.jsx)(d.b,{className:"dropdown-item",to:"/message",children:"chat"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/informacionaplicacion",children:"Info App"}),"admin"===n.user.role&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"dropdown-item",onClick:function(){return e({type:g.c.STATUS,payload:!0})},children:"Ajouter un annnoces"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/roles",children:"Roles"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/usersaction",children:"Usuarios acci\xf3n"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/usersedicion",children:"Edici\xf3n de usuarios"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/listadeusuariosbloqueadoss",children:"Usuarios bloqueados"})]}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/profile/".concat(n.user._id),children:"Profile"}),Object(a.jsx)("label",{htmlFor:"theme",className:"dropdown-item",onClick:function(){return e({type:g.c.THEME,payload:!c})},children:c?"Light mode":"Dark mode"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/",onClick:function(){return e(Object(k.b)())},children:"Desconexion"})]})]}):Object(a.jsxs)("div",{className:"btn-group user-icon-container",children:[Object(a.jsx)("i",{className:"fas fa-user user-icon","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}),Object(a.jsxs)("div",{className:"dropdown-menu",children:[Object(a.jsx)(d.b,{className:"dropdown-item",to:"/informacionaplicacion",children:"Info aplicacion"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/login",children:"Se connecter"}),Object(a.jsx)("div",{className:"dropdown-divider"}),Object(a.jsx)(d.b,{className:"dropdown-item",to:"/register",children:"S'inscrire"})]})]})]})})},C=n(6),R=n(8),D=n(17),U=n(16),I=function(){var e=Object(c.useState)(""),t=Object(C.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)([]),i=Object(C.a)(s,2),o=i[0],d=i[1],j=Object(p.b)(),b=Object(c.useState)(!1),O=Object(C.a)(b,2),f=O[0],m=O[1],h=function(){var e=Object(u.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,m(!0),e.next=7,Object(R.b)("search?username=".concat(n));case 7:a=e.sent,d(a.data.users),m(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),j({type:g.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}(),x=function(){r(""),d([])};return Object(a.jsxs)("form",{className:"search_form",onSubmit:h,children:[Object(a.jsx)("input",{type:"text",name:"search",value:n,id:"search",title:"Enter to Search",onChange:function(e){return r(e.target.value.toLowerCase().replace(/ /g,""))}}),Object(a.jsxs)("div",{className:"search_icon",style:{opacity:n?0:.3},children:[Object(a.jsx)("span",{className:"material-icons",children:"search"}),Object(a.jsx)("span",{children:"Utilisateurs"})]}),Object(a.jsx)("div",{className:"close_search",onClick:x,style:{opacity:0===o.length?0:1},children:"\xd7"}),Object(a.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"}),f&&Object(a.jsx)("img",{className:"loading",src:U.a,alt:"loading"}),Object(a.jsx)("div",{className:"users",children:n&&o.map((function(e){return Object(a.jsx)(D.a,{user:e,border:"border",handleClose:x},e._id)}))})]})},P=function(){return Object(a.jsx)("div",{className:"header bg-light",children:Object(a.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-light  bg-light justify-content-between align-middle",children:[Object(a.jsxs)(d.b,{to:"/",className:"logo d-flex align-items-center",onClick:function(){return window.scrollTo({top:0})},children:[Object(a.jsx)("img",{src:"/logoalgeria.png",alt:"Logo alegeia",style:{height:"40px",marginRight:"10px"}}),Object(a.jsx)("h1",{className:"navbar-brand text-uppercase p-0 m-0",children:"Aps Alg\xe9rie"})]}),Object(a.jsx)(I,{}),Object(a.jsx)(L,{})]})})},G=n(9),F=n(21),M=n(27),q=n(11),H=function(){var e=Object(p.c)((function(e){return e})),t=e.auth,n=e.theme,r=e.socket,s=e.status,i=Object(p.b)(),o={title:"",link:"",description:"",price:"",oferta:"",unidaddeprecio:"",telefono:""},l=Object(c.useState)(o),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)([]),O=Object(C.a)(b,2),m=O[0],h=O[1],x=Object(c.useState)(!1),v=Object(C.a)(x,2),y=v[0],N=v[1],E=Object(c.useRef)(),k=Object(c.useRef)(),w=Object(c.useState)(""),_=Object(C.a)(w,2),S=_[0],T=_[1],A=function(e){var t=e.target,n=t.name,a=t.value;j((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(F.a)({},n,a))}))};return Object(c.useEffect)((function(){console.log("status en useEffect:",s),(null===s||void 0===s?void 0:s.onEdit)&&(j({title:s.title||"",description:s.description||"",price:s.price||"",unidaddeprecio:s.unidaddeprecio||"",oferta:s.oferta||"",link:s.link||"",telefono:s.telefono||""}),h(s.images||[]))}),[s]),Object(a.jsx)("div",{className:"status_modal",children:Object(a.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),0===m.length)return i({type:g.c.ALERT,payload:{error:"Por favor agrega una foto o video."}});s.onEdit?i(Object(q.i)({postData:d,images:m,auth:t,status:s})):i(Object(q.b)({postData:d,images:m,auth:t,socket:r})),j(o),h([]),S&&S.stop(),i({type:g.c.STATUS,payload:!1})},children:[Object(a.jsxs)("div",{className:"status_header",children:[Object(a.jsx)("h5",{className:"m-0",children:"Crear nueva app"}),Object(a.jsx)("span",{onClick:function(){return i({type:g.c.STATUS,payload:!1})},children:"\xd7"})]}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("select",{name:"title",value:d.title,onChange:A,className:"form-control",children:[Object(a.jsx)("option",{value:"",children:"Type d'application/site"}),Object(a.jsx)("option",{value:"Application Web",children:"Application Web"}),Object(a.jsx)("option",{value:"Application Mobile",children:"Application Mobile (iOS/Android)"}),Object(a.jsx)("option",{value:"Application PWA Web + Mobile",children:"Application PWA (Web + Mobile)"}),Object(a.jsx)("option",{value:"Site Web Responsive",children:"Site Web Responsive"}),Object(a.jsx)("option",{value:"Page d\u2019atterrissage",children:"Page d\u2019atterrissage (Landing Page)"}),Object(a.jsx)("option",{value:"Boutique en ligne",children:"Boutique en ligne (E-commerce)"}),Object(a.jsx)("option",{value:"Application de bureau",children:"Application de bureau"}),Object(a.jsx)("option",{value:"API/Service Backend",children:"API/Service Backend"}),Object(a.jsx)("option",{value:"Jeu Web/Mobile",children:"Jeu Web/Mobile"})]})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",name:"link",placeholder:"Link",value:d.link,className:"form-control",onChange:A})}),Object(a.jsxs)("div",{className:"status_body",children:[Object(a.jsx)("textarea",{name:"description",value:d.description,placeholder:"Descripcion",onChange:A,style:{filter:n?"invert(1)":"invert(0)",color:n?"white":"#111",background:n?"rgba(0,0,0,.03)":""}}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"number",name:"price",placeholder:"Precio",value:d.price,className:"form-control",onChange:A})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("select",{multiple:!1,name:"unidaddeprecio",value:d.unidaddeprecio,onChange:A,className:"form-control",children:[Object(a.jsx)("option",{children:"Unit\xe9 de prix"}),Object(a.jsx)("option",{value:"DA",children:"DA"}),Object(a.jsx)("option",{value:"Millions",children:"Millions"}),Object(a.jsx)("option",{value:"Milliard",children:"Milliard"}),Object(a.jsx)("option",{value:"DA (m\xb2)",children:"DA (m\xb2)"}),Object(a.jsx)("option",{value:"Millions (m\xb2) ",children:"Millions (m\xb2)"})]})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsxs)("select",{multiple:!1,name:"oferta",value:d.oferta,onChange:A,className:"form-control",children:[Object(a.jsx)("option",{children:"Type D'offre"}),Object(a.jsx)("option",{value:"Fixe",children:"Fixe"}),Object(a.jsx)("option",{value:"N\xe9gociable",children:"N\xe9gociable"}),Object(a.jsx)("option",{value:"Offert",children:"Offert"})]})}),Object(a.jsx)("div",{className:"form-group",children:Object(a.jsx)("input",{type:"text",name:"telefono",placeholder:"Telefono",value:d.telefono,className:"form-control",onChange:A})}),Object(a.jsx)("div",{className:"show_images",children:m.map((function(e,t){return Object(a.jsxs)("div",{id:"file_img",children:[e.camera?Object(M.a)(e.camera,n):e.url?Object(a.jsx)(a.Fragment,{children:e.url.match(/video/i)?Object(M.b)(e.url,n):Object(M.a)(e.url,n)}):Object(a.jsx)(a.Fragment,{children:e.type.match(/video/i)?Object(M.b)(URL.createObjectURL(e),n):Object(M.a)(URL.createObjectURL(e),n)}),Object(a.jsx)("span",{onClick:function(){return function(e){var t=Object(G.a)(m);t.splice(e,1),h(t)}(t)},children:"\xd7"})]},t)}))}),y&&Object(a.jsxs)("div",{className:"stream position-relative",children:[Object(a.jsx)("video",{autoPlay:!0,muted:!0,ref:E,width:"100%",height:"100%",style:{filter:n?"invert(1)":"invert(0)"}}),Object(a.jsx)("span",{onClick:function(){S.stop(),N(!1)},children:"\xd7"}),Object(a.jsx)("canvas",{ref:k,style:{display:"none"}})]}),Object(a.jsx)("div",{className:"input_images",children:y?Object(a.jsx)("i",{className:"fas fa-camera",onClick:function(){var e=E.current.clientWidth,t=E.current.clientHeight;k.current.setAttribute("width",e),k.current.setAttribute("height",t),k.current.getContext("2d").drawImage(E.current,0,0,e,t);var n=k.current.toDataURL();h([].concat(Object(G.a)(m),[{camera:n}]))}}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("i",{className:"fas fa-camera",onClick:function(){N(!0),navigator.mediaDevices&&navigator.mediaDevices.getUserMedia&&navigator.mediaDevices.getUserMedia({video:!0}).then((function(e){E.current.srcObject=e,E.current.play();var t=e.getTracks();T(t[0])})).catch((function(e){return console.log(e)}))}}),Object(a.jsxs)("div",{className:"file_upload",children:[Object(a.jsx)("i",{className:"fas fa-image"}),Object(a.jsx)("input",{type:"file",name:"file",id:"file",multiple:!0,accept:"image/*,video/*",onChange:function(e){var t=Object(G.a)(e.target.files),n="",a=[];t.forEach((function(e){return e?e.size>5242880?n="The image/video largest is 5mb.":a.push(e):n="File does not exist."})),n&&i({type:g.c.ALERT,payload:{error:n}}),h([].concat(Object(G.a)(m),a))}})]})]})})]}),Object(a.jsx)("div",{className:"status_footer",children:Object(a.jsx)("button",{className:"btn btn-secondary w-100",type:"submit",children:"Post"})})]})})},B="LOADING_SUGGES",z="GET_USERS_SUGGES",Q=n(106),K=n.n(Q),V=n(14),W=n.p+"static/media/got-it-done-613.89a311f0.mp3",Y=function(){var e=Object(p.c)((function(e){return e})),t=e.auth,n=e.socket,r=e.notify,s=e.online,i=e.call,o=Object(p.b)(),l=Object(c.useRef)();return Object(c.useEffect)((function(){n.emit("joinUser",t.user)}),[n,t.user]),Object(c.useEffect)((function(){return n.on("likeToClient",(function(e){o({type:q.a.UPDATE_POST,payload:e})})),function(){return n.off("likeToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("unLikeToClient",(function(e){o({type:q.a.UPDATE_POST,payload:e})})),function(){return n.off("unLikeToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("createCommentToClient",(function(e){o({type:q.a.UPDATE_POST,payload:e})})),function(){return n.off("createCommentToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("deleteCommentToClient",(function(e){o({type:q.a.UPDATE_POST,payload:e})})),function(){return n.off("deleteCommentToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("followToClient",(function(e){o({type:g.c.AUTH,payload:Object(f.a)(Object(f.a)({},t),{},{user:e})})})),function(){return n.off("followToClient")}}),[n,o,t]),Object(c.useEffect)((function(){return n.on("unFollowToClient",(function(e){o({type:g.c.AUTH,payload:Object(f.a)(Object(f.a)({},t),{},{user:e})})})),function(){return n.off("unFollowToClient")}}),[n,o,t]),Object(c.useEffect)((function(){return n.on("createNotifyToClient",(function(e){var t,n,a;o({type:T.a.CREATE_NOTIFY,payload:e}),r.sound&&l.current.play(),t=e.user.username+" "+e.text,n=e.user.avatar,a=e.url,new Notification("Aps Djamel",{body:t,icon:n}).onclick=function(e){e.preventDefault(),window.open(a,"_blank")}})),function(){return n.off("createNotifyToClient")}}),[n,o,r.sound]),Object(c.useEffect)((function(){return n.on("removeNotifyToClient",(function(e){o({type:T.a.REMOVE_NOTIFY,payload:e})})),function(){return n.off("removeNotifyToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("addMessageToClient",(function(e){o({type:V.a.ADD_MESSAGE,payload:e}),o({type:V.a.ADD_USER,payload:Object(f.a)(Object(f.a)({},e.user),{},{text:e.text,media:e.media})})})),function(){return n.off("addMessageToClient")}}),[n,o]),Object(c.useEffect)((function(){n.emit("checkUserOnline",t.user)}),[n,t.user]),Object(c.useEffect)((function(){return n.on("checkUserOnlineToMe",(function(e){e.forEach((function(e){s.includes(e.id)||o({type:g.c.ONLINE,payload:e.id})}))})),function(){return n.off("checkUserOnlineToMe")}}),[n,o,s]),Object(c.useEffect)((function(){return n.on("checkUserOnlineToClient",(function(e){s.includes(e)||o({type:g.c.ONLINE,payload:e})})),function(){return n.off("checkUserOnlineToClient")}}),[n,o,s]),Object(c.useEffect)((function(){return n.on("CheckUserOffline",(function(e){o({type:g.c.OFFLINE,payload:e})})),function(){return n.off("CheckUserOffline")}}),[n,o]),Object(c.useEffect)((function(){return n.on("callUserToClient",(function(e){o({type:g.c.CALL,payload:e})})),function(){return n.off("callUserToClient")}}),[n,o]),Object(c.useEffect)((function(){return n.on("userBusy",(function(e){o({type:g.c.ALERT,payload:{error:"".concat(i.username," is busy!")}})})),function(){return n.off("userBusy")}}),[n,o,i]),Object(a.jsx)(a.Fragment,{children:Object(a.jsx)("audio",{controls:!0,ref:l,style:{display:"none"},children:Object(a.jsx)("source",{src:W,type:"audio/mp3"})})})},X=n.p+"static/media/ringring.278d7816.mp3",J=function(){var e=Object(p.c)((function(e){return e})),t=e.call,n=e.auth,r=e.peer,s=e.socket,i=e.theme,o=Object(p.b)(),l=Object(c.useState)(0),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(0),O=Object(C.a)(b,2),m=O[0],h=O[1],x=Object(c.useState)(0),v=Object(C.a)(x,2),y=v[0],N=v[1],E=Object(c.useState)(0),k=Object(C.a)(E,2),_=k[0],S=k[1],T=Object(c.useState)(!1),A=Object(C.a)(T,2),L=A[0],R=A[1],D=Object(c.useRef)(),U=Object(c.useRef)(),I=Object(c.useState)(null),P=Object(C.a)(I,2),G=P[0],F=P[1],M=Object(c.useState)(null),q=Object(C.a)(M,2),H=q[0],B=q[1];Object(c.useEffect)((function(){return function e(){S((function(e){return e+1})),setTimeout(e,1e3)}(),function(){return S(0)}}),[]),Object(c.useEffect)((function(){N(_%60),h(parseInt(_/60)),j(parseInt(_/3600))}),[_]);var z=Object(c.useCallback)((function(e,t,a){if(e.recipient!==n.user._id||a){var c={sender:e.sender,recipient:e.recipient,text:"",media:[],call:{video:e.video,times:t},createdAt:(new Date).toISOString()};o(Object(V.b)({msg:c,auth:n,socket:s}))}}),[n,o,s]),Q=function(){G&&G.forEach((function(e){return e.stop()})),H&&H.close();var e=L?_:0;s.emit("endCall",Object(f.a)(Object(f.a)({},t),{},{times:e})),z(t,e),o({type:g.c.CALL,payload:null})};Object(c.useEffect)((function(){if(!L){var e=setTimeout((function(){s.emit("endCall",Object(f.a)(Object(f.a)({},t),{},{times:0})),z(t,0),o({type:g.c.CALL,payload:null})}),15e3);return function(){return clearTimeout(e)}}S(0)}),[o,L,t,s,z]),Object(c.useEffect)((function(){return s.on("endCallToClient",(function(e){G&&G.forEach((function(e){return e.stop()})),H&&H.close(),z(e,e.times),o({type:g.c.CALL,payload:null})})),function(){return s.off("endCallToClient")}}),[s,o,G,z,H]);var K=function(e){var t={audio:!0,video:e};return navigator.mediaDevices.getUserMedia(t)},W=function(e,t){var n=e;n.srcObject=t,n.play()},Y=function(){K(t.video).then((function(e){W(D.current,e);var n=e.getTracks();F(n);var a=r.call(t.peerId,e);a.on("stream",(function(e){W(U.current,e)})),R(!0),B(a)}))};Object(c.useEffect)((function(){return r.on("call",(function(e){K(t.video).then((function(t){D.current&&W(D.current,t);var n=t.getTracks();F(n),e.answer(t),e.on("stream",(function(e){U.current&&W(U.current,e)})),R(!0),B(e)}))})),function(){return r.removeListener("call")}}),[r,t.video]),Object(c.useEffect)((function(){return s.on("callerDisconnect",(function(){G&&G.forEach((function(e){return e.stop()})),H&&H.close(),z(t,L?_:0,!0),o({type:g.c.CALL,payload:null}),o({type:g.c.ALERT,payload:{error:"The ".concat(t.username," disconnect")}})})),function(){return s.off("callerDisconnect")}}),[s,G,o,t,z,L,_,H]);var J=function(e){e.pause(),e.currentTime=0};return Object(c.useEffect)((function(){var e=new Audio(X);return L?J(e):function(e){e.play()}(e),function(){return J(e)}}),[L]),Object(a.jsxs)("div",{className:"call_modal",children:[Object(a.jsxs)("div",{className:"call_box",style:{display:L&&t.video?"none":"flex"},children:[Object(a.jsxs)("div",{className:"text-center",style:{padding:"40px 0"},children:[Object(a.jsx)(w.a,{src:t.avatar,size:"supper-avatar"}),Object(a.jsx)("h4",{children:t.username}),Object(a.jsx)("h6",{children:t.fullname}),L?Object(a.jsxs)("div",{children:[Object(a.jsx)("span",{children:d.toString().length<2?"0"+d:d}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:m.toString().length<2?"0"+m:m}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:y.toString().length<2?"0"+y:y})]}):Object(a.jsx)("div",{children:t.video?Object(a.jsx)("span",{children:"calling video..."}):Object(a.jsx)("span",{children:"calling audio..."})})]}),!L&&Object(a.jsxs)("div",{className:"timer",children:[Object(a.jsx)("small",{children:m.toString().length<2?"0"+m:m}),Object(a.jsx)("small",{children:":"}),Object(a.jsx)("small",{children:y.toString().length<2?"0"+y:y})]}),Object(a.jsxs)("div",{className:"call_menu",children:[Object(a.jsx)("button",{className:"material-icons text-danger",onClick:Q,children:"call_end"}),t.recipient===n.user._id&&!L&&Object(a.jsx)(a.Fragment,{children:t.video?Object(a.jsx)("button",{className:"material-icons text-success",onClick:Y,children:"videocam"}):Object(a.jsx)("button",{className:"material-icons text-success",onClick:Y,children:"call"})})]})]}),Object(a.jsxs)("div",{className:"show_video",style:{opacity:L&&t.video?"1":"0",filter:i?"invert(1)":"invert(0)"},children:[Object(a.jsx)("video",{ref:D,className:"you_video",playsInline:!0,muted:!0}),Object(a.jsx)("video",{ref:U,className:"other_video",playsInline:!0}),Object(a.jsxs)("div",{className:"time_video",children:[Object(a.jsx)("span",{children:d.toString().length<2?"0"+d:d}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:m.toString().length<2?"0"+m:m}),Object(a.jsx)("span",{children:":"}),Object(a.jsx)("span",{children:y.toString().length<2?"0"+y:y})]}),Object(a.jsx)("button",{className:"material-icons text-danger end_call",onClick:Q,children:"call_end"})]})]})},Z=n(63),$=n(58),ee=n(57),te=n(62),ne=n(59),ae=n(18),ce=n(32),re=n(61);var se,ie=function(){var e=Object(p.c)((function(e){return e})),t=e.auth,n=e.status,r=e.modal,s=e.call,i=Object(p.b)();return Object(c.useEffect)((function(){i(Object(k.c)());var e=K()();return i({type:g.c.SOCKET,payload:e}),function(){return e.close()}}),[i]),Object(c.useEffect)((function(){var e;i(Object(q.d)()),t.token&&(i((e=t.token,function(){var t=Object(u.a)(l.a.mark((function t(n){var a;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:B,payload:!0}),t.next=4,Object(R.b)("suggestionsUser",e);case 4:a=t.sent,n({type:z,payload:a.data}),n({type:B,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:g.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}())),i(Object(T.d)(t.token)),i(Object(ae.c)(t.token)),i(Object(ce.c)(t.token)))}),[i,t.token]),Object(c.useEffect)((function(){"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(e){console.log("SW registrado:",e.scope)})).catch((function(e){return console.log("Error en SW:",e)})),function(){var e=Object(u.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Notification"in window&&"setAppBadge"in navigator){e.next=3;break}return console.warn("Este navegador no soporta badges"),e.abrupt("return");case 3:return e.prev=3,e.next=6,Notification.requestPermission();case 6:"granted"===e.sent&&t.token&&(5,navigator.setAppBadge(5).catch(console.error)),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.error("Error en permisos:",e.t0);case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(){return e.apply(this,arguments)}}()()}),[t.token]),Object(a.jsxs)(d.a,{children:[Object(a.jsx)(E,{}),Object(a.jsx)("input",{type:"checkbox",id:"theme"}),Object(a.jsx)("div",{className:"App ".concat((n||r)&&"mode"),children:Object(a.jsxs)("div",{className:"main",children:[Object(a.jsx)(P,{}),n&&Object(a.jsx)(H,{}),t.token&&Object(a.jsx)(Y,{}),s&&Object(a.jsx)(J,{}),Object(a.jsxs)(j.d,{children:[Object(a.jsx)(j.b,{exact:!0,path:"/",component:h.default}),Object(a.jsx)(j.b,{exact:!0,path:"/register",component:v.default}),Object(a.jsx)(j.b,{exact:!0,path:"/login",component:x.default}),Object(a.jsx)(j.b,{exact:!0,path:"/informacionaplicacion",component:re.default}),Object(a.jsx)(j.b,{exact:!0,path:"/roles",component:t.token?Z.default:x.default}),Object(a.jsx)(j.b,{exact:!0,path:"/usersaction",component:t.token?$.default:x.default}),Object(a.jsx)(j.b,{exact:!0,path:"/usersedition",component:t.token?ee.default:x.default}),Object(a.jsx)(j.b,{exact:!0,path:"/listausuariosbloqueados",component:t.token?te.default:x.default}),Object(a.jsx)(j.b,{exact:!0,path:"/bloqueos",component:t.token?ne.default:x.default}),Object(a.jsx)(m,{exact:!0,path:"/:page",component:O}),Object(a.jsx)(m,{exact:!0,path:"/:page/:id",component:O})]})]})})]})},oe=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,173)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,r=t.getLCP,s=t.getTTFB;n(e),a(e),c(e),r(e),s(e)}))},le=n(39),ue=n(107),de={},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:de,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.AUTH:return t.payload;default:return e}},be={},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.ALERT:return t.payload;default:return e}},Oe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.THEME:return t.payload;default:return e}},fe=n(19),me={loading:!1,ids:[],users:[],posts:[]},he=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case fe.a.LOADING:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case fe.a.GET_USER:return Object(f.a)(Object(f.a)({},e),{},{users:[].concat(Object(G.a)(e.users),[t.payload.user])});case fe.a.FOLLOW:case fe.a.UNFOLLOW:return Object(f.a)(Object(f.a)({},e),{},{users:Object(g.b)(e.users,t.payload._id,t.payload)});case fe.a.GET_ID:return Object(f.a)(Object(f.a)({},e),{},{ids:[].concat(Object(G.a)(e.ids),[t.payload])});case fe.a.GET_POSTS:return Object(f.a)(Object(f.a)({},e),{},{posts:[].concat(Object(G.a)(e.posts),[t.payload])});case fe.a.UPDATE_POST:return Object(f.a)(Object(f.a)({},e),{},{posts:Object(g.b)(e.posts,t.payload._id,t.payload)});default:return e}},xe=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.STATUS:return t.payload;default:return e}},ve={loading:!1,posts:[],result:0,page:2},ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.a.CREATE_POST:return Object(f.a)(Object(f.a)({},e),{},{posts:[t.payload].concat(Object(G.a)(e.posts))});case q.a.LOADING_POST:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case q.a.GET_POSTS:return Object(f.a)(Object(f.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:t.payload.page});case q.a.UPDATE_POST:return Object(f.a)(Object(f.a)({},e),{},{posts:Object(g.b)(e.posts,t.payload._id,t.payload)});case q.a.DELETE_POST:return Object(f.a)(Object(f.a)({},e),{},{posts:Object(g.a)(e.posts,t.payload._id)});default:return e}},ye=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.MODAL:return t.payload;default:return e}},Ne=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case q.a.GET_POST:return[].concat(Object(G.a)(e),[t.payload]);case q.a.UPDATE_POST:return Object(g.b)(e,t.payload._id,t.payload);default:return e}},Ee=n(41),ke={loading:!1,posts:[],result:9,page:2,firstLoad:!1},we=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee.a.LOADING:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case Ee.a.GET_POSTS:return Object(f.a)(Object(f.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,firstLoad:!0});case Ee.a.UPDATE_POST:return Object(f.a)(Object(f.a)({},e),{},{posts:t.payload.posts,result:t.payload.result,page:e.page+1});default:return e}},_e={loading:!1,users:[]},Se=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case B:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case z:return Object(f.a)(Object(f.a)({},e),{},{users:t.payload.users});default:return e}},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.SOCKET:return t.payload;default:return e}},Ae={loading:!1,data:[],sound:!1},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case T.a.GET_NOTIFIES:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});case T.a.CREATE_NOTIFY:return Object(f.a)(Object(f.a)({},e),{},{data:[t.payload].concat(Object(G.a)(e.data))});case T.a.REMOVE_NOTIFY:return Object(f.a)(Object(f.a)({},e),{},{data:e.data.filter((function(e){return e.id!==t.payload.id||e.url!==t.payload.url}))});case T.a.UPDATE_NOTIFY:return Object(f.a)(Object(f.a)({},e),{},{data:Object(g.b)(e.data,t.payload._id,t.payload)});case T.a.UPDATE_SOUND:return Object(f.a)(Object(f.a)({},e),{},{sound:t.payload});case T.a.DELETE_ALL_NOTIFIES:return Object(f.a)(Object(f.a)({},e),{},{data:t.payload});default:return e}},Ce={users:[],resultUsers:0,data:[],firstLoad:!1},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V.a.ADD_USER:return e.users.every((function(e){return e._id!==t.payload._id}))?Object(f.a)(Object(f.a)({},e),{},{users:[t.payload].concat(Object(G.a)(e.users))}):e;case V.a.ADD_MESSAGE:return Object(f.a)(Object(f.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload.recipient||e._id===t.payload.sender?Object(f.a)(Object(f.a)({},e),{},{messages:[].concat(Object(G.a)(e.messages),[t.payload]),result:e.result+1}):e})),users:e.users.map((function(e){return e._id===t.payload.recipient||e._id===t.payload.sender?Object(f.a)(Object(f.a)({},e),{},{text:t.payload.text,media:t.payload.media,call:t.payload.call}):e}))});case V.a.GET_CONVERSATIONS:return Object(f.a)(Object(f.a)({},e),{},{users:t.payload.newArr,resultUsers:t.payload.result,firstLoad:!0});case V.a.GET_MESSAGES:return Object(f.a)(Object(f.a)({},e),{},{data:[].concat(Object(G.a)(e.data),[t.payload])});case V.a.UPDATE_MESSAGES:return Object(f.a)(Object(f.a)({},e),{},{data:Object(g.b)(e.data,t.payload._id,t.payload)});case V.a.DELETE_MESSAGES:return Object(f.a)(Object(f.a)({},e),{},{data:e.data.map((function(e){return e._id===t.payload._id?Object(f.a)(Object(f.a)({},e),{},{messages:t.payload.newData}):e}))});case V.a.DELETE_CONVERSATION:return Object(f.a)(Object(f.a)({},e),{},{users:Object(g.a)(e.users,t.payload),data:Object(g.a)(e.data,t.payload)});case V.a.CHECK_ONLINE_OFFLINE:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return t.payload.includes(e._id)?Object(f.a)(Object(f.a)({},e),{},{online:!0}):Object(f.a)(Object(f.a)({},e),{},{online:!1})}))});default:return e}},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.ONLINE:return[].concat(Object(G.a)(e),[t.payload]);case g.c.OFFLINE:return e.filter((function(e){return e!==t.payload}));default:return e}},Ue=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.CALL:return t.payload;default:return e}},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case g.c.PEER:return t.payload;default:return e}},Pe={loading:!1,users:[],denuncias:[],activeLast24hUsers:[],activeLast3hUsers:[],counttotal:0,result:0,page:1,error:null},Ge=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ae.a.LOADING_USER:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case ae.a.GET_TOTAL_USERS_COUNT:return Object(f.a)(Object(f.a)({},e),{},{counttotal:t.payload});case ae.a.GET_USERS:return Object(f.a)(Object(f.a)({},e),{},{users:t.payload.users,result:t.payload.result,page:t.payload.page});case ae.a.UPDATE_USER:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload._id?t.payload:e}))});case ae.a.DELETE_USER:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.filter((function(e){return e._id!==t.payload}))});case ae.a.GET_ACTIVE_USERS_LAST_24H:return Object(f.a)(Object(f.a)({},e),{},{activeLast24hUsers:t.payload});case ae.a.GET_ACTIVE_USERS_LAST_3H:return Object(f.a)(Object(f.a)({},e),{},{activeLast3hUsers:t.payload});case ae.a.UPDATE_USER_STATUS:return Object(f.a)(Object(f.a)({},e),{},{users:e.users.map((function(e){return e._id===t.payload.userId?Object(f.a)(Object(f.a)({},e),{},{status:t.payload.newStatus}):e}))});case ae.a.CREAR_DENUNCIA:return Object(f.a)(Object(f.a)({},e),{},{denuncias:[t.payload].concat(Object(G.a)(e.denuncias)),loading:!1});case ae.a.GET_DENUNCIAS:return Object(f.a)(Object(f.a)({},e),{},{denuncias:t.payload});default:return e}},Fe={blockedUsers:[],loading:!1,page:1,result:0},Me=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Fe,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ce.a.LOADING_USER:return Object(f.a)(Object(f.a)({},e),{},{loading:t.payload});case ce.a.BLOCK_USER:return Object(f.a)(Object(f.a)({},e),{},{blockedUsers:t.payload});case ce.a.UNBLOCK_USER:return Object(f.a)(Object(f.a)({},e),{},{blockedUsers:e.blockedUsers.filter((function(e){return e._id!==t.payload._id}))});case ce.a.GET_USERS_BLOCK:return Object(f.a)(Object(f.a)({},e),{},{blockedUsers:t.payload.blockedUsers});default:return e}},qe=n(28),He={role:"",user:null},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case qe.a.USER_ROLE:return Object(f.a)(Object(f.a)({},e),{},{role:"user",user:t.payload.user});case qe.a.SUPERUSER_ROLE:return Object(f.a)(Object(f.a)({},e),{},{role:"superuser",user:t.payload.user});case qe.a.MODERADOR_ROLE:return Object(f.a)(Object(f.a)({},e),{},{role:"Moderateur",user:t.payload.user});case qe.a.ADMIN_ROLE:return Object(f.a)(Object(f.a)({},e),{},{role:"admin",user:t.payload.user});case qe.a.STORY_ROLE:return Object(f.a)(Object(f.a)({},e),{},{role:"story",user:t.payload.user});default:return e}},ze=Object(le.combineReducers)({auth:je,alert:pe,theme:Oe,profile:he,status:xe,homePosts:ge,modal:ye,detailPost:Ne,discover:we,suggestions:Se,socket:Te,notify:Le,message:Re,online:De,call:Ue,peer:Ie,homeUsers:Ge,userBlockReducer:Me,roleReducer:Be}),Qe=n(108),Ke=Object(le.createStore)(ze,Object(Qe.composeWithDevTools)(Object(le.applyMiddleware)(ue.a))),Ve=function(e){var t=e.children;return Object(a.jsx)(p.a,{store:Ke,children:t})};i.a.render(Object(a.jsx)(r.a.StrictMode,{children:Object(a.jsx)(Ve,{children:Object(a.jsx)(ie,{})})}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.register("/sw.js").then((function(e){console.log("Service Worker registrado:",e.scope),e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&navigator.serviceWorker.controller&&(null===se||void 0===se||se())}}})).catch((function(e){console.error("Error en el registro:",e)})),"serviceWorker"in navigator&&window.addEventListener("load",(function(){navigator.serviceWorker.register("/sw.js").then((function(e){console.log("Service Worker registrado con \xe9xito:",e)})).catch((function(e){console.log("Error al registrar el Service Worker:",e)}))})),oe()},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return d}));n(9);var a=n(3),c=n.n(a),r=n(7),s=n(4),i=(n(31),n(8)),o=n(12),l={LOADING_USER:"LOADING_USER",GET_USERS:"GET_USERS",UPDATE_USER:"UPDATE_USER",GET_USER:"GET_USER",DELETE_USER:"DELETE_USER",GET_ACTIVE_USERS_LAST_24H:"GET_ACTIVE_USERS_LAST_24H",GET_ACTIVE_USERS_LAST_3H:"GET_ACTIVE_USERS_LAST_3H",GET_TOTAL_USERS_COUNT:"GET_TOTAL_USERS_COUNT",GET_TOTAL_POSTS_USER:"GET_TOTAL_POSTS_USER",UPDATE_USER_STATUS:"UPDATE_USER_STATUS",CREAR_DENUNCIA:"CREAR_DENUNCIA",GET_DENUNCIAS:"GET_DENUNCIAS"},u=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:9;return function(){var a=Object(r.a)(c.a.mark((function a(r){var o;return c.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:l.LOADING_USER,payload:!0}),a.next=4,Object(i.b)("users?page=".concat(t,"&limit=").concat(n),e);case 4:o=a.sent,r({type:l.GET_USERS,payload:{users:o.data.users,result:o.data.result,page:t+1}}),r({type:l.LOADING_USER,payload:!1}),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),r({type:s.c.ALERT,payload:{error:a.t0.response.data.msg}});case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e){return a.apply(this,arguments)}}()},d=function(e){var t=e.user,n=e.auth,a=e.socket;return function(){var e=Object(r.a)(c.a.mark((function e(r){var u,d;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r({type:l.DELETE_USER,payload:t}),e.prev=1,e.next=4,Object(i.a)("user/".concat(t._id),n.token);case 4:u=e.sent,d={id:t._id,text:"added a new user.",recipients:u.data.newUser.user.followers,url:"/user/".concat(t._id)},r(Object(o.f)({msg:d,auth:n,socket:a})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),r({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}()}},19:function(e,t,n){"use strict";n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return b})),n.d(t,"e",(function(){return p})),n.d(t,"b",(function(){return O})),n.d(t,"d",(function(){return f}));var a=n(9),c=n(3),r=n.n(c),s=n(2),i=n(7),o=n(4),l=n(8),u=n(31),d=n(12),j={LOADING:"LOADING_PROFILE",GET_USER:"GET_PROFILE_USER",FOLLOW:"FOLLOW",UNFOLLOW:"UNFOLLOW",GET_ID:"GET_PROFILE_ID",GET_POSTS:"GET_PROFILE_POSTS",UPDATE_POST:"UPDATE_PROFILE_POST"},b=function(e){var t=e.id,n=e.auth;return function(){var e=Object(i.a)(r.a.mark((function e(a){var c,i,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a({type:j.GET_ID,payload:t}),e.prev=1,a({type:j.LOADING,payload:!0}),c=Object(l.b)("/user/".concat(t),n.token),i=Object(l.b)("/user_posts/".concat(t),n.token),e.next=7,c;case 7:return u=e.sent,e.next=10,i;case 10:d=e.sent,a({type:j.GET_USER,payload:u.data}),a({type:j.GET_POSTS,payload:Object(s.a)(Object(s.a)({},d.data),{},{_id:t,page:2})}),a({type:j.LOADING,payload:!1}),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),a({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(t){return e.apply(this,arguments)}}()},p=function(e){var t=e.userData,n=e.avatar,a=e.auth;return function(){var e=Object(i.a)(r.a.mark((function e(c){var i,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.username){e.next=2;break}return e.abrupt("return",c({type:o.c.ALERT,payload:{error:"Please add your User Name."}}));case 2:if(!(t.username.length>25)){e.next=4;break}return e.abrupt("return",c({type:o.c.ALERT,payload:{error:"Your User name too long."}}));case 4:if(!(t.story.length>200)){e.next=6;break}return e.abrupt("return",c({type:o.c.ALERT,payload:{error:"Your story too long."}}));case 6:if(e.prev=6,c({type:o.c.ALERT,payload:{loading:!0}}),!n){e.next=12;break}return e.next=11,Object(u.b)([n]);case 11:i=e.sent;case 12:return e.next=14,Object(l.c)("user",Object(s.a)(Object(s.a)({},t),{},{avatar:n?i[0].url:a.user.avatar}),a.token);case 14:d=e.sent,c({type:o.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:Object(s.a)(Object(s.a)(Object(s.a)({},a.user),t),{},{avatar:n?i[0].url:a.user.avatar})})}),c({type:o.c.ALERT,payload:{success:d.data.msg}}),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(6),c({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 22:case"end":return e.stop()}}),e,null,[[6,19]])})));return function(t){return e.apply(this,arguments)}}()},O=function(e){var t=e.users,n=e.user,c=e.auth,u=e.socket;return function(){var e=Object(i.a)(r.a.mark((function e(i){var b,p,O;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==n._id}))?b=Object(s.a)(Object(s.a)({},n),{},{followers:[].concat(Object(a.a)(n.followers),[c.user])}):t.forEach((function(e){e._id===n._id&&(b=Object(s.a)(Object(s.a)({},e),{},{followers:[].concat(Object(a.a)(e.followers),[c.user])}))})),i({type:j.FOLLOW,payload:b}),i({type:o.c.AUTH,payload:Object(s.a)(Object(s.a)({},c),{},{user:Object(s.a)(Object(s.a)({},c.user),{},{following:[].concat(Object(a.a)(c.user.following),[b])})})}),e.prev=3,e.next=6,Object(l.c)("user/".concat(n._id,"/follow"),null,c.token);case 6:p=e.sent,u.emit("follow",p.data.newUser),O={id:c.user._id,text:"has started to follow you.",recipients:[b._id],url:"/profile/".concat(c.user._id)},i(Object(d.b)({msg:O,auth:c,socket:u})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),i({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()},f=function(e){var t=e.users,n=e.user,a=e.auth,c=e.socket;return function(){var e=Object(i.a)(r.a.mark((function e(i){var u,b,p;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.every((function(e){return e._id!==n._id}))?u=Object(s.a)(Object(s.a)({},n),{},{followers:Object(o.a)(n.followers,a.user._id)}):t.forEach((function(e){e._id===n._id&&(u=Object(s.a)(Object(s.a)({},e),{},{followers:Object(o.a)(e.followers,a.user._id)}))})),i({type:j.UNFOLLOW,payload:u}),i({type:o.c.AUTH,payload:Object(s.a)(Object(s.a)({},a),{},{user:Object(s.a)(Object(s.a)({},a.user),{},{following:Object(o.a)(a.user.following,u._id)})})}),e.prev=3,e.next=6,Object(l.c)("user/".concat(n._id,"/unfollow"),null,a.token);case 6:b=e.sent,c.emit("unFollow",b.data.newUser),p={id:a.user._id,text:"has started to follow you.",recipients:[u._id],url:"/profile/".concat(a.user._id)},i(Object(d.f)({msg:p,auth:a,socket:c})),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(3),i({type:o.c.ALERT,payload:{error:e.t0.response.data.msg}});case 15:case"end":return e.stop()}}),e,null,[[3,12]])})));return function(t){return e.apply(this,arguments)}}()}},20:function(e,t,n){"use strict";var a=n(0),c=(n(1),n(5));t.a=function(e){var t=e.src,n=e.size,r=Object(c.c)((function(e){return e})).theme;return Object(a.jsx)("img",{src:t,alt:"avatar",className:n,style:{filter:"".concat(r?"invert(1)":"invert(0)")}})}},26:function(e,t,n){"use strict";var a=n(0);n(1);t.a=function(e){var t=e.result,n=e.page,c=e.load,r=e.handleLoadMore;return Object(a.jsx)(a.Fragment,{children:t<9*(n-1)?"":!c&&Object(a.jsx)("button",{className:"btn btn-dark mx-auto d-block",onClick:r,children:"Load more"})})}},27:function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return r}));var a=n(0),c=function(e,t){return Object(a.jsx)("img",{src:e,alt:"images",className:"img-thumbnail",style:{filter:t?"invert(1)":"invert(0)"}})},r=function(e,t){return Object(a.jsx)("video",{controls:!0,src:e,alt:"images",className:"img-thumbnail",style:{filter:t?"invert(1)":"invert(0)"}})}},28:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return d})),n.d(t,"c",(function(){return j})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return p}));var a=n(2),c=n(3),r=n.n(c),s=n(7),i=n(8),o=n(4),l={LOADING:"LOADING",USER_ROLE:"USER_ROLE",SUPERUSER_ROLE:"SUPERUSER_ROLE",MODERADOR_ROLE:"MODERADOR_ROLE",ADMIN_ROLE:"ADMIN_ROLE",STORY_ROLE:"STORY_ROLE"},u=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.LOADING,payload:!0}),n.next=4,Object(i.c)("user/".concat(e._id,"/roleuser"),{role:"user"},t.token);case 4:c=n.sent,a({type:l.USER_ROLE,payload:{user:e,res:c.data}}),a({type:l.LOADING,payload:!1}),a({type:o.c.ALERT,payload:{success:c.data.msg}}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.c.ALERT,payload:{error:n.t0.response.data.msg}});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},d=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(c){var s;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,c({type:l.LOADING,payload:!0}),n.next=4,Object(i.c)("user/".concat(e._id,"/rolesuperuser"),{role:"superuser"},t.token);case 4:s=n.sent,c({type:l.SUPERUSER_ROLE,payload:{user:Object(a.a)(Object(a.a)({},e),{},{role:"superuser"})}}),c({type:o.c.ALERT,payload:{success:s.data.msg}}),c({type:l.LOADING,payload:!1}),n.next=14;break;case 10:n.prev=10,n.t0=n.catch(0),c({type:o.c.ALERT,payload:{error:n.t0.response.data.msg}}),c({type:l.LOADING,payload:!1});case 14:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},j=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.LOADING,payload:!0}),n.next=4,Object(i.c)("user/".concat(e._id,"/rolemoderador"),{role:"moderador"},t.token);case 4:c=n.sent,a({type:l.MODERADOR_ROLE,payload:{user:e,res:c.data}}),a({type:l.LOADING,payload:!1}),a({type:o.c.ALERT,payload:{success:c.data.msg}}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.c.ALERT,payload:{error:n.t0.response.data.msg}});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},b=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.LOADING,payload:!0}),n.next=4,Object(i.c)("user/".concat(e._id,"/roleadmin"),{role:"admin"},t.token);case 4:c=n.sent,a({type:l.ADMIN_ROLE,payload:{user:e,res:c.data}}),a({type:l.LOADING,payload:!1}),a({type:o.c.ALERT,payload:{success:c.data.msg}}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.c.ALERT,payload:{error:n.t0.response.data.msg}});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()},p=function(e,t){return function(){var n=Object(s.a)(r.a.mark((function n(a){var c;return r.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:l.LOADING,payload:!0}),n.next=4,Object(i.c)("user/".concat(e._id,"/rolestory"),{role:"story"},t.token);case 4:c=n.sent,a({type:l.STORY_ROLE,payload:{user:e,res:c.data}}),a({type:l.LOADING,payload:!1}),a({type:o.c.ALERT,payload:{success:c.data.msg}}),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:o.c.ALERT,payload:{error:n.t0.response.data.msg}});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}},31:function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return o}));var a=n(3),c=n.n(a),r=n(105),s=n(7),i=function(e){var t="";if(!e||0===e.length)return"No files selected.";if(e.length>3)return t="You can only upload up to 3 images.";for(var n=["jpeg","jpg","png"],a=["txt","pdf"],c=0;c<e.length;c++){var r=e[c];if(r.size>1048576)return t="The largest image size is 1mb.";var s=r.name.split(".").pop().toLowerCase();if(!n.includes(s))return t="Image format is incorrect.";if(a.includes(s))return t="File type not allowed."}return t},o=function(){var e=Object(s.a)(c.a.mark((function e(t){var n,a,s,i,o,l,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=[],a=Object(r.a)(t),e.prev=2,a.s();case 4:if((s=a.n()).done){e.next=19;break}return i=s.value,o=new FormData,i.camera?o.append("file",i.camera):o.append("file",i),o.append("upload_preset","xl7nhfgx"),o.append("cloud_name","arteeeuhgu"),e.next=12,fetch("https://api.cloudinary.com/v1_1/arteeeuhgu/image/upload",{method:"POST",body:o});case 12:return l=e.sent,e.next=15,l.json();case 15:u=e.sent,n.push({public_id:u.public_id,url:u.secure_url});case 17:e.next=4;break;case 19:e.next=24;break;case 21:e.prev=21,e.t0=e.catch(2),a.e(e.t0);case 24:return e.prev=24,a.f(),e.finish(24);case 27:return e.abrupt("return",n);case 28:case"end":return e.stop()}}),e,null,[[2,21,24,27]])})));return function(t){return e.apply(this,arguments)}}()},32:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"c",(function(){return j}));var a=n(2),c=n(3),r=n.n(c),s=n(7),i=n(4),o=n(8),l={LOADING_USER:"LOADING_USER",BLOCK_USER:"BLOCK_USER",UNBLOCK_USER:"UNBLOCK_USER",GET_USERS_BLOCK:"GET_USERS_BLOCK"},u=function(e){var t=e.auth,n=e.datosBloqueo,a=e.user;return function(){var e=Object(s.a)(r.a.mark((function e(c){var s,u,d;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c({type:i.c.ALERT,payload:{loading:!0}}),e.next=4,Object(o.c)("user/".concat(a._id,"/block"),{motivo:n.motivo,content:n.content,fechaLimite:n.fechaLimite,fechaBloqueo:n.fechaBloqueo},t.token);case 4:s=e.sent,c({type:l.BLOCK_USER,payload:s.data.block}),c({type:i.c.ALERT,payload:{loading:!1}}),c({type:i.c.ALERT,payload:{success:s.data.msg}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),c({type:i.c.ALERT,payload:{error:(null===(u=e.t0.response)||void 0===u||null===(d=u.data)||void 0===d?void 0:d.msg)||"Error al bloquear usuario"}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){var t=e.user,n=e.auth;return function(){var e=Object(s.a)(r.a.mark((function e(a){var c,s,u;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a({type:i.c.ALERT,payload:{loading:!0}}),e.next=4,Object(o.c)("user/".concat(t._id,"/unblock"),{},n.token);case 4:c=e.sent,a({type:l.UNBLOCK_USER,payload:c.data}),a({type:i.c.ALERT,payload:{loading:!1}}),a({type:i.c.ALERT,payload:{success:c.data.msg}}),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),a({type:i.c.ALERT,payload:{error:(null===(s=e.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.msg)||"Error al desbloquear usuario"}});case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}()},j=function(e){return function(){var t=Object(s.a)(r.a.mark((function t(n){var c,s,u;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:l.LOADING_USER,payload:!0}),t.next=4,Object(o.b)("users/block",e);case 4:c=t.sent,n({type:l.GET_USERS_BLOCK,payload:Object(a.a)(Object(a.a)({},c.data),{},{page:2})}),n({type:l.LOADING_USER,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:i.c.ALERT,payload:{error:(null===(s=t.t0.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.msg)||"Error al obtener usuarios bloqueados"}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},38:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(21),r=n(2),s=n(6),i=n(1),o=n(15),l=n(10),u=n(40),d=n(5);t.default=function(){var e=Object(i.useState)({email:"",password:""}),t=Object(s.a)(e,2),n=t[0],j=t[1],b=n.email,p=n.password,O=Object(i.useState)(!1),f=Object(s.a)(O,2),m=f[0],h=f[1],x=Object(d.c)((function(e){return e})).auth,v=Object(d.b)(),g=Object(o.g)();Object(i.useEffect)((function(){x.token&&g.push("/")}),[x.token,g]);var y=function(e){var t=e.target,a=t.name,s=t.value;j(Object(r.a)(Object(r.a)({},n),{},Object(c.a)({},a,s)))};return Object(a.jsx)("div",{className:"auth_page",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),v(Object(u.a)(n))},children:[Object(a.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Connexion Apps"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email","aria-describedby":"emailHelp",onChange:y,value:b,autoComplete:"username"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(a.jsxs)("div",{className:"pass",children:[Object(a.jsx)("input",{type:m?"text":"password",className:"form-control",id:"password",name:"password",onChange:y,value:p,autoComplete:"current-password"}),Object(a.jsx)("small",{onClick:function(){return h(!m)},children:m?"maque":"voire"})]})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-dark w-100",disabled:!b||!p,children:"Connecter"}),Object(a.jsxs)("p",{className:"my-2",children:["Vous n'avez pas de compte",Object(a.jsx)(l.b,{to:"/register",style:{color:"crimson"},children:"Inscrivez-vous maintenant"})]})]})})}},4:function(e,t,n){"use strict";n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return r}));var a={AUTH:"AUTH",ALERT:"ALERT",THEME:"THEME",STATUS:"STATUS",MODAL:"MODAL",SOCKET:"SOCKET",ONLINE:"ONLINE",OFFLINE:"OFFLINE",CALL:"CALL",PEER:"PEER"},c=function(e,t,n){return e.map((function(e){return e._id===t?n:e}))},r=function(e,t){return e.filter((function(e){return e._id!==t}))}},40:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"d",(function(){return d})),n.d(t,"b",(function(){return j}));var a=n(3),c=n.n(a),r=n(7),s=n(4),i=n(8);var o=function(e){var t=e.username,n=e.email,a=e.password,c=e.cf_password,r={};return t?t.replace(/ /g,"").length>25&&(r.username="User name is up to 25 characters long."):r.username="Please add your user name.",n?function(e){return/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)}(n)||(r.email="Email format is incorrect."):r.email="Please add your email.",a?a.length<6&&(r.password="Password must be at least 6 characters."):r.password="Please add your password.",a!==c&&(r.cf_password="Confirm password did not match."),{errMsg:r,errLength:Object.keys(r).length}},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:s.c.ALERT,payload:{loading:!0}}),t.next=4,Object(i.d)("login",e);case 4:a=t.sent,n({type:s.c.AUTH,payload:{token:a.data.access_token,user:a.data.user}}),localStorage.setItem("firstLogin",!0),n({type:s.c.ALERT,payload:{success:a.data.msg}}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e){return t.apply(this,arguments)}}()},u=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("firstLogin")){e.next=14;break}return t({type:s.c.ALERT,payload:{loading:!0}}),e.prev=3,e.next=6,Object(i.d)("refresh_token");case 6:n=e.sent,t({type:s.c.AUTH,payload:{token:n.data.access_token,user:n.data.user}}),t({type:s.c.ALERT,payload:{}}),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),t({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 14:case"end":return e.stop()}}),e,null,[[3,11]])})));return function(t){return e.apply(this,arguments)}}()},d=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var a,r;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!((a=o(e)).errLength>0)){t.next=3;break}return t.abrupt("return",n({type:s.c.ALERT,payload:a.errMsg}));case 3:return t.prev=3,n({type:s.c.ALERT,payload:{loading:!0}}),t.next=7,Object(i.d)("register",e);case 7:r=t.sent,n({type:s.c.AUTH,payload:{token:r.data.access_token,user:r.data.user}}),localStorage.setItem("firstLogin",!0),n({type:s.c.ALERT,payload:{success:r.data.msg}}),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(3),n({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 16:case"end":return t.stop()}}),t,null,[[3,13]])})));return function(e){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(r.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,localStorage.removeItem("firstLogin"),e.next=4,Object(i.d)("logout");case 4:window.location.href="/",e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),t({type:s.c.ALERT,payload:{error:e.t0.response.data.msg}});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return l}));var a=n(3),c=n.n(a),r=n(7),s=n(4),i=n(8),o={LOADING:"LOADING_DISCOVER",GET_POSTS:"GET_DISCOVER_POSTS",UPDATE_POST:"UPDATE_DISCOVER_POST"},l=function(e){return function(){var t=Object(r.a)(c.a.mark((function t(n){var a;return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:o.LOADING,payload:!0}),t.next=4,Object(i.b)("post_discover",e);case 4:a=t.sent,n({type:o.GET_POSTS,payload:a.data}),n({type:o.LOADING,payload:!1}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:s.c.ALERT,payload:{error:t.t0.response.data.msg}});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()}},46:function(e,t,n){"use strict";var a=n(0),c=(n(1),n(10)),r=n(5);t.a=function(e){var t=e.posts,n=e.result,s=Object(r.c)((function(e){return e})).theme;return 0===n?Object(a.jsx)("h2",{className:"text-center text-danger",children:"No Post"}):Object(a.jsx)("div",{className:"post_thumb",children:t.map((function(e){return Object(a.jsx)(c.b,{to:"/post/".concat(e._id),children:Object(a.jsxs)("div",{className:"post_thumb_display",children:[e.images[0].url.match(/video/i)?Object(a.jsx)("video",{controls:!0,src:e.images[0].url,alt:e.images[0].url,style:{filter:s?"invert(1)":"invert(0)"}}):Object(a.jsx)("img",{src:e.images[0].url,alt:e.images[0].url,style:{filter:s?"invert(1)":"invert(0)"}}),Object(a.jsxs)("div",{className:"post_thumb_menu",children:[Object(a.jsx)("i",{className:"far fa-heart",children:e.likes.length}),Object(a.jsx)("i",{className:"far fa-comment",children:e.comments.length})]})]})},e._id)}))})}},51:function(e,t,n){"use strict";n.r(t);var a=n(0),c=(n(1),n(65));t.default=function(){return Object(a.jsxs)("div",{className:"message d-flex",children:[Object(a.jsx)("div",{className:"col-md-4 border-right px-0",children:Object(a.jsx)(c.a,{})}),Object(a.jsx)("div",{className:"col-md-8 px-0 right_mess",children:Object(a.jsxs)("div",{className:"d-flex justify-content-center  align-items-center flex-column h-100",children:[Object(a.jsx)("i",{className:"fab fa-facebook-messenger text-primary",style:{fontSize:"5rem"}}),Object(a.jsx)("h4",{children:"Messenger"})]})})]})}},56:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(21),r=n(2),s=n(6),i=n(1),o=n(5),l=n(15),u=n(10),d=n(40);t.default=function(){var e=Object(o.c)((function(e){return e})),t=e.auth,n=e.alert,j=Object(o.b)(),b=Object(l.g)(),p=Object(i.useState)({username:"",email:"",password:"",cf_password:""}),O=Object(s.a)(p,2),f=O[0],m=O[1],h=f.username,x=f.email,v=f.password,g=f.cf_password,y=Object(i.useState)(!1),N=Object(s.a)(y,2),E=N[0],k=N[1],w=Object(i.useState)(!1),_=Object(s.a)(w,2),S=_[0],T=_[1];Object(i.useEffect)((function(){t.token&&b.push("/")}),[t.token,b]);var A=function(e){var t=e.target,n=t.name,a=t.value;m(Object(r.a)(Object(r.a)({},f),{},Object(c.a)({},n,a)))};return Object(a.jsx)("div",{className:"auth_page",children:Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j(Object(d.d)(f))},children:[Object(a.jsx)("h3",{className:"text-uppercase text-center mb-4",children:"Enregistrer Apps"}),Object(a.jsx)("label",{htmlFor:"email",children:"Nom"}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("input",{type:"text",className:"form-control",id:"username",name:"username",onChange:A,value:h.toLowerCase().replace(/ /g,""),style:{background:n.username?"#fd2d6a14":""}}),Object(a.jsx)("small",{className:"form-text text-danger",children:n.username||""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"email",children:"E-mail"}),Object(a.jsx)("input",{type:"email",className:"form-control",id:"email",name:"email",onChange:A,value:x,style:{background:n.email?"#fd2d6a14":""}}),Object(a.jsx)("small",{className:"form-text text-danger",children:n.email||""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"password",children:"Mot de passe"}),Object(a.jsxs)("div",{className:"pass",children:[Object(a.jsx)("input",{type:E?"text":"password",className:"form-control",id:"password",name:"password",onChange:A,value:v,style:{background:n.password?"#fd2d6a14":""}}),Object(a.jsx)("small",{onClick:function(){return k(!E)},children:E?"maque":"voir"})]}),Object(a.jsx)("small",{className:"form-text text-danger",children:n.password||""})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{htmlFor:"cf_password",children:"Confirmation"}),Object(a.jsxs)("div",{className:"pass",children:[Object(a.jsx)("input",{type:S?"text":"password",className:"form-control",id:"cf_password",name:"cf_password",onChange:A,value:g,style:{background:n.cf_password?"#fd2d6a14":""}}),Object(a.jsxs)("small",{onClick:function(){return T(!S)},children:[E?"maque":"voir","     "]})]}),Object(a.jsx)("small",{className:"form-text text-danger",children:n.cf_password||""})]}),Object(a.jsx)("button",{type:"submit",className:"btn btn-dark w-100",children:"S'inscrire"}),Object(a.jsxs)("p",{className:"my-2",children:["j'ai d\xe9j\xe0 un compte",Object(a.jsx)(u.b,{to:"/",style:{color:"crimson"},children:"Connectez maintenant"})]})]})})}},57:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(9),s=n(3),i=n.n(s),o=n(2),l=n(7),u=n(6),d=n(5),j=n(8),b=n(18),p=n(26),O=n(16),f=n(17),m=n(21),h=n(32),x=function(e){var t=e.setOpenBlockModal,n=e.user,r=Object(d.c)((function(e){return e})).auth,s=Object(d.b)(),i=Object(c.useState)({motivo:"",content:"",fechaBloqueo:"",fechaLimite:""}),l=Object(u.a)(i,2),j=l[0],b=l[1],p=function(e){var t=e.target,n=t.name,a=t.value;b(Object(o.a)(Object(o.a)({},j),{},Object(m.a)({},n,a)))};return Object(a.jsx)("div",{className:"modalbloquear",children:Object(a.jsx)("div",{className:"modalbloquear-dialog",children:Object(a.jsxs)("div",{className:"modalbloquar-content",children:[Object(a.jsxs)("div",{className:"modalbloquear-header",children:[Object(a.jsx)("h5",{className:"modalbloquear-title",children:"Confirmar bloqueo"}),Object(a.jsx)("button",{type:"button",className:"btnbloquear btn-secondary",onClick:function(){return t(!1)},children:"Cerrar"})]}),Object(a.jsxs)("form",{onSubmit:function(e){e.preventDefault();var t=j.motivo,a=j.fechaBloqueo,c=j.fechaLimite;if(t&&a&&c){var i=new Date(a),o=new Date(c);i<new Date?alert("\u26a0\ufe0f La fecha de inicio debe ser actual o futura."):o<=i?alert("\u26a0\ufe0f La fecha l\xedmite debe ser posterior a la fecha de inicio."):s(Object(h.b)({auth:r,datosBloqueo:j,user:n}))}else alert("\u274c Completa todos los campos, incluyendo la fecha y hora.")},children:[Object(a.jsxs)("div",{className:"modalbloquear-body",children:[Object(a.jsxs)("div",{className:"form-group-bloquear",children:[Object(a.jsx)("label",{children:"Raison du blocage"}),Object(a.jsxs)("select",{className:"form-control-bloquar",name:"motivo",value:j.motivo,onChange:p,required:!0,children:[Object(a.jsx)("option",{value:"",children:" Ma 3adjbatnich kamartak"}),Object(a.jsx)("option",{value:"",children:" Ma nassjakoukch fi laplicacion"}),Object(a.jsx)("option",{value:"",children:" Roh chof man djiha wahdojra"}),Object(a.jsx)("option",{value:"",children:" \u0634\u062e\u0635 \u0634\u062f\u064a\u062f \u0627\u0644\u062e\u0637\u0648\u0631\u0629 \u0639\u0644\u0649 \u0627\u0644\u0645\u062c\u062a\u0645\u0639"}),Object(a.jsx)("option",{value:"",children:"\u062d\u062f\u062f \u0627\u0644\u0633\u0628\u0628"}),Object(a.jsx)("option",{value:"Comportement abusif",children:"\u0633\u0644\u0648\u0643 \u0645\u0633\u064a\u0621"}),Object(a.jsx)("option",{value:"Spam",children:"\u0631\u0633\u0627\u0626\u0644 \u063a\u064a\u0631 \u0645\u0631\u063a\u0648\u0628 \u0641\u064a\u0647\u0627"}),Object(a.jsx)("option",{value:"Violation des conditions d'utilisation",children:"\u0627\u0646\u062a\u0647\u0627\u0643 \u0634\u0631\u0648\u0637 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645"}),Object(a.jsx)("option",{value:"Langage offensant",children:"\u0644\u063a\u0629 \u0645\u0633\u064a\u0626\u0629"}),Object(a.jsx)("option",{value:"Fraude",children:"\u0627\u062d\u062a\u064a\u0627\u0644"}),Object(a.jsx)("option",{value:"Usurpation d'identit\xe9",children:"\u0627\u0646\u062a\u062d\u0627\u0644 \u0634\u062e\u0635\u064a\u0629"}),Object(a.jsx)("option",{value:"Contenu inappropri\xe9",children:"\u0645\u062d\u062a\u0648\u0649 \u063a\u064a\u0631 \u0644\u0627\u0626\u0642"}),Object(a.jsx)("option",{value:"Violation de la vie priv\xe9e",children:"\u0627\u0646\u062a\u0647\u0627\u0643 \u0627\u0644\u062e\u0635\u0648\u0635\u064a\u0629"}),Object(a.jsx)("option",{value:"Interruption du service",children:"\u0627\u0646\u0642\u0637\u0627\u0639 \u0627\u0644\u062e\u062f\u0645\u0629"}),Object(a.jsx)("option",{value:"Activit\xe9 suspecte",children:"\u0646\u0634\u0627\u0637 \u0645\u0634\u0628\u0648\u0647"}),Object(a.jsx)("option",{value:"Autre",children:"\u0623\u062e\u0631\u0649"})]})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Detalles adicionales"}),Object(a.jsx)("textarea",{name:"content",value:j.content,onChange:p,placeholder:"Proporciona m\xe1s detalles sobre el motivo del bloqueo",className:"form-control"})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Fecha de inicio del bloqueo"}),Object(a.jsx)("input",{type:"datetime-local",className:"form-control",name:"fechaBloqueo",value:j.fechaBloqueo,onChange:p})]}),Object(a.jsxs)("div",{className:"form-group",children:[Object(a.jsx)("label",{children:"Fecha l\xedmite del bloqueo"}),Object(a.jsx)("input",{type:"datetime-local",className:"form-control",name:"fechaLimite",value:j.fechaLimite,onChange:p})]})]}),Object(a.jsxs)("div",{className:"modal-footer",children:[Object(a.jsx)("button",{type:"submit",className:"btn btn-danger",children:"Bloquear"}),Object(a.jsx)("button",{type:"button",className:"btn btn-secondary",onClick:function(){return t(!1)},children:"Cerrar"})]})]})]})})})},v=function(){var e=Object(d.c)((function(e){return e})),t=e.homeUsers,n=e.auth,s=Object(d.b)(),m=Object(c.useState)(!1),h=Object(u.a)(m,2),v=h[0],g=h[1],y=Object(c.useState)(""),N=Object(u.a)(y,1)[0],E=Object(c.useState)(t.users||[]),k=Object(u.a)(E,2),w=k[0],_=k[1],S=Object(c.useState)(!1),T=Object(u.a)(S,2),A=T[0],L=T[1],C=Object(c.useState)(null),R=Object(u.a)(C,2),D=R[0],U=R[1],I=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return g(!0),e.next=3,Object(j.b)("users?limit=".concat(9*t.page),n.token);case 3:a=e.sent,s({type:b.a.GET_USERS,payload:Object(o.a)(Object(o.a)({},a.data),{},{page:t.page+1})}),g(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){_(t.users||[])}),[t.users]);var P=w.filter((function(e){return e.username.toLowerCase().includes(N.toLowerCase())||e.email.toLowerCase().includes(N.toLowerCase())})),G=function(e){var n=Object(r.a)(t.users);switch(e){case"mostReported":n.sort((function(e,t){return(t.reportCount||0)-(e.reportCount||0)}));break;case"lastLogin":n.sort((function(e,t){return new Date(t.lastLogin)-new Date(e.lastLogin)}));break;default:n=t.users}_(n)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"dropdown mb-3",children:["Edici\xf3n",Object(a.jsx)("button",{className:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Filtrar"}),Object(a.jsxs)("ul",{className:"dropdown-menu",children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return G("mostReported")},children:"\ud83d\udea8 M\xe1s denunciados"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return G("lastLogin")},children:"\ud83d\udd04 \xdaltimos en iniciar sesi\xf3n"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return G("reset")},children:"\ud83d\udd04 Restablecer"})})]})]}),Object(a.jsxs)("table",{className:"table table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Usuario"}),Object(a.jsx)("th",{children:"Registro"}),Object(a.jsx)("th",{children:"\xdaltimo Login"}),Object(a.jsx)("th",{children:"Estado"})," ",Object(a.jsx)("th",{children:"Reportes"}),Object(a.jsx)("th",{children:"Reportado Por"}),Object(a.jsx)("th",{children:"\xdaltima IP"}),Object(a.jsx)("th",{children:"Acciones"})]})}),Object(a.jsx)("tbody",{children:P.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("td",{children:Object(a.jsx)(f.a,{user:e})}),Object(a.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(a.jsx)("td",{children:new Date(e.lastLogin).toLocaleDateString()}),Object(a.jsx)("td",{children:e.esBloqueado?Object(a.jsx)("span",{className:"text-danger",children:"\ud83d\udeab Bloqueado"}):Object(a.jsx)("span",{className:"text-success",children:"\u2705 Activo"})}),Object(a.jsx)("td",{children:e.report.userId||"N/A"}),Object(a.jsx)("td",{children:e.report.reportedBy||"N/A"}),Object(a.jsx)("td",{children:e.lastIp||"Desconocida"}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"action-dropdown",style:{position:"relative"},children:[Object(a.jsx)("button",{className:"btn btn-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Acci\xf3n"}),Object(a.jsxs)("div",{className:"dropdown-menu",children:[Object(a.jsxs)("button",{className:"dropdown-item text-warning",onClick:function(){return function(e){U(e),L(!0)}(e)},children:[e.esBloqueado?"\ud83d\udd13 Desbloquear":"\ud83d\udeab Bloquear"," "]}),Object(a.jsx)("button",{className:"dropdown-item",children:"\u270f\ufe0f Editar"}),Object(a.jsx)("button",{className:"dropdown-item text-danger",onClick:function(t){t.preventDefault(),t.stopPropagation(),function(e){window.confirm("Are you sure you want to delete this user?")&&s(Object(b.b)({user:e,auth:n}))}(e)},children:"\ud83d\uddd1\ufe0f Eliminar"}),Object(a.jsx)("button",{className:"dropdown-item text-warning",children:"\ud83d\udd07 Silenciar"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udce9 Enviar mensaje"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udc64 Ver perfil"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udea8 Ver reportes"}),Object(a.jsx)("button",{className:"dropdown-item text-info",children:"\ud83d\udd11 Iniciar sesi\xf3n como usuario"})]})]})})]},e._id)}))})]}),v&&Object(a.jsx)("img",{src:O.a,alt:"loading",className:"loading-icon"}),Object(a.jsx)(p.a,{result:t.result,page:t.page,load:v,handleLoadMore:I})]}),A&&Object(a.jsx)(x,{user:D,setOpenBlockModal:function(){L(!1),U(null)}})]})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(v,{})})}},58:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(9),s=n(3),i=n.n(s),o=n(2),l=n(7),u=n(6),d=n(5),j=n(8),b=n(18),p=n(26),O=n(16),f=n(17),m=function(){var e=Object(d.c)((function(e){return e})),t=e.homeUsers,n=e.auth,s=Object(d.b)(),m=Object(c.useState)(!1),h=Object(u.a)(m,2),x=h[0],v=h[1],g=Object(c.useState)(""),y=Object(u.a)(g,1)[0],N=Object(c.useState)(t.users||[]),E=Object(u.a)(N,2),k=E[0],w=E[1],_=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(j.b)("users?limit=".concat(9*t.page),n.token);case 3:a=e.sent,s({type:b.a.GET_USERS,payload:Object(o.a)(Object(o.a)({},a.data),{},{page:t.page+1})}),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){w(t.users||[])}),[t.users]);var S=k.filter((function(e){return e.username.toLowerCase().includes(y.toLowerCase())||e.email.toLowerCase().includes(y.toLowerCase())})),T=function(e){var n=Object(r.a)(t.users);switch(e){case"mostFollowing":n.sort((function(e,t){return t.following.length-e.following.length}));break;case"mostFollowers":n.sort((function(e,t){return t.followers.length-e.followers.length}));break;case"mostPosts":n.sort((function(e,t){return t.posts.length-e.posts.length}));break;case"mostLikesReceived":n.sort((function(e,t){return t.totalLikesReceived-e.totalLikesReceived}));break;case"mostLikesGiven":n.sort((function(e,t){return t.likesGiven-e.likesGiven}));break;case"mostCommentsMade":n.sort((function(e,t){return t.commentsMade-e.commentsMade}));break;case"lastLogin":n.sort((function(e,t){return new Date(t.lastLogin)-new Date(e.lastLogin)}));break;default:n=t.users}w(n)};return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"dropdown mb-3",children:[Object(a.jsx)("button",{className:"btn btn-primary dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Filtrar Usuarios"}),Object(a.jsxs)("ul",{className:"dropdown-menu",children:[Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostFollowing")},children:"\ud83d\udccc M\xe1s following"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostFollowers")},children:"\ud83d\udccc M\xe1s followers"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostPosts")},children:"\ud83d\udccc M\xe1s posts"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostLikesReceived")},children:"\u2764\ufe0f M\xe1s likes recibidos"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostLikesGiven")},children:"\ud83d\udc4d M\xe1s likes dados"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("mostCommentsMade")},children:"\ud83d\udcac M\xe1s comentarios hechos"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("lastLogin")},children:"\ud83d\udd04 \xdaltimos en iniciar sesi\xf3n"})}),Object(a.jsx)("li",{children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return T("reset")},children:"\ud83d\udd04 Restablecer"})})]})]}),Object(a.jsxs)("table",{className:"table table-striped",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Usuario"}),Object(a.jsx)("th",{children:"Registro"}),Object(a.jsx)("th",{children:"Login"}),Object(a.jsx)("th",{children:"Posts"}),Object(a.jsx)("th",{children:"Reportes"}),Object(a.jsx)("th",{children:"LikesDados"}),Object(a.jsx)("th",{children:"Likes Recibidos"}),Object(a.jsx)("th",{children:"Comentarios Hechos"}),Object(a.jsx)("th",{children:"Comentarios Recibidos"}),Object(a.jsx)("th",{children:"Siguiendo"}),Object(a.jsx)("th",{children:"Seguidores"}),Object(a.jsx)("th",{children:"Acciones"})]})}),Object(a.jsx)("tbody",{children:S.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:t+1}),Object(a.jsx)("th",{children:Object(a.jsx)(f.a,{user:e})}),Object(a.jsx)("td",{children:new Date(e.createdAt).toLocaleDateString()}),Object(a.jsx)("td",{children:new Date(e.lastLogin).toLocaleDateString()}),Object(a.jsx)("td",{children:e.posts.length}),Object(a.jsx)("td",{children:e.report.length}),Object(a.jsx)("td",{children:e.likesGiven}),Object(a.jsx)("td",{children:e.totalLikesReceived}),Object(a.jsx)("td",{children:e.commentsMade}),Object(a.jsx)("td",{children:e.totalCommentsReceived}),Object(a.jsx)("td",{children:e.totalFollowing}),Object(a.jsx)("td",{children:e.totalFollowers}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"action-dropdown",style:{position:"relative"},children:[Object(a.jsx)("button",{className:"btn btn-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Acci\xf3n"}),Object(a.jsxs)("div",{className:"dropdown-menu","data-bs-autoClose":"false",children:[Object(a.jsx)("button",{className:"dropdown-item",children:"\u270f\ufe0f Editar"}),Object(a.jsx)("button",{className:"dropdown-item text-danger",onClick:function(t){t.preventDefault(),t.stopPropagation(),function(e){window.confirm("Are you sure you want to delete this user?")&&s(Object(b.b)({user:e,auth:n}))}(e)},children:"\ud83d\uddd1\ufe0f Eliminar"}),Object(a.jsx)("button",{className:"dropdown-item text-warning",children:"\ud83d\udeab Bloquear"}),Object(a.jsx)("button",{className:"dropdown-item text-warning",children:"\ud83d\udd07 Silenciar"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udce9 Enviar mensaje"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udc64 Ver perfil"}),Object(a.jsx)("button",{className:"dropdown-item",children:"\ud83d\udea8 Ver reportes"}),Object(a.jsx)("button",{className:"dropdown-item text-info",children:"\ud83d\udd11 Iniciar sesi\xf3n como usuario"})]})]})})]},e._id)}))})]}),x&&Object(a.jsx)("img",{src:O.a,alt:"loading",className:"loading-icon"}),Object(a.jsx)(p.a,{result:t.result,page:t.page,load:x,handleLoadMore:_})]})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(m,{})})}},59:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(5),s=function(){var e,t,n,s,i=Object(r.c)((function(e){return e})),o=i.auth,l=i.userBlockReducer,u=o.user,d=l.blockedUsers.some((function(e){return e.user._id===u._id&&e.esBloqueado}));return Object(c.useEffect)((function(){o.token||console.log("No est\xe1s autenticado")}),[o.token]),Object(a.jsx)("div",{className:"bloqueo-container",children:d?Object(a.jsxs)("div",{className:"bloqueo-card",children:[Object(a.jsx)("h2",{children:"\u0646\u0638\u0627\u0645 \u0627\u0644\u062d\u062c\u0628 \u0627\u0644\u0639\u0642\u0627\u0631\u064a \u064a\u0639\u0644\u0645 "}),Object(a.jsxs)("div",{className:"bloqueo-info",children:[Object(a.jsxs)("div",{className:"bloqueo-item",children:[Object(a.jsx)("span",{className:"label",children:"\u0627\u0633\u0645 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645: "}),Object(a.jsx)("span",{className:"value",children:u.username})]}),Object(a.jsxs)("div",{className:"bloqueo-item",children:[Object(a.jsx)("span",{className:"label",children:"\u0633\u0628\u0628 \u0644\u0644\u062d\u0638\u0631: "}),Object(a.jsx)("span",{className:"value",children:(null===(e=l.blockedUsers.find((function(e){return e.user._id===u._id})))||void 0===e?void 0:e.motivo)||"No disponible"})]}),Object(a.jsxs)("div",{className:"bloqueo-item",children:[Object(a.jsx)("span",{className:"label",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0644\u0642\u0641\u0644: "}),Object(a.jsx)("span",{className:"value",children:new Date(null===(t=l.blockedUsers.find((function(e){return e.user._id===u._id})))||void 0===t?void 0:t.fechaBloqueo).toLocaleDateString()||"No disponible"})]}),Object(a.jsxs)("div",{className:"bloqueo-item",children:[Object(a.jsx)("span",{className:"label",children:"\u062a\u0627\u0631\u064a\u062e \u0627\u0646\u062a\u0647\u0627\u0621 \u0627\u0644\u062d\u0635\u0627\u0631: "}),Object(a.jsx)("span",{className:"value",children:(null===(n=l.blockedUsers.find((function(e){return e.user._id===u._id})))||void 0===n?void 0:n.fechaLimite)?new Date(null===(s=l.blockedUsers.find((function(e){return e.user._id===u._id})))||void 0===s?void 0:s.fechaLimite).toLocaleDateString():"No disponible"})]})]})]}):Object(a.jsx)("div",{className:"bloqueo-card",children:Object(a.jsx)("h2",{children:"Utilizateur et desbloque"})})})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(s,{})})}},60:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(3),s=n.n(r),i=n(2),o=n(7),l=n(6),u=n(5),d=n(66),j=n(16),b=n(26),p=n(8),O=n(11),f=function(){var e=Object(u.c)((function(e){return e})),t=e.homePosts,n=e.auth,r=e.theme,f=Object(u.b)(),m=Object(c.useState)(!1),h=Object(l.a)(m,2),x=h[0],v=h[1],g=function(){var e=Object(o.a)(s.a.mark((function e(){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,Object(p.b)("posts?limit=".concat(9*t.page),n.token);case 3:a=e.sent,f({type:O.a.GET_POSTS,payload:Object(i.a)(Object(i.a)({},a.data),{},{page:t.page+1})}),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"post_thumb",children:[t.posts.map((function(e){return Object(a.jsx)(d.a,{post:e,theme:r},e._id)})),x&&Object(a.jsx)("img",{src:j.a,alt:"loading",className:"d-block mx-auto"}),Object(a.jsx)(b.a,{result:t.result,page:t.page,load:x,handleLoadMore:g})]})},m=0;t.default=function(){var e=Object(u.c)((function(e){return e})).homePosts;return window.addEventListener("scroll",(function(){if("/"===window.location.pathname)return m=window.pageYOffset})),Object(c.useEffect)((function(){setTimeout((function(){window.scrollTo({top:m,behavior:"smooth"})}),100)}),[]),Object(a.jsx)("div",{className:"home row mx-0",children:e.loading?Object(a.jsx)("img",{src:j.a,alt:"loading",className:"d-block mx-auto"}):0===e.result&&0===e.posts.length?Object(a.jsx)("h2",{className:"text-center",children:"No Post"}):Object(a.jsx)(f,{})})}},61:function(e,t,n){"use strict";n.r(t);var a=n(0),c=(n(1),function(){return Object(a.jsxs)("div",{children:[Object(a.jsxs)("div",{className:"info-container",children:[Object(a.jsx)("h1",{className:"info-title",children:"\xc0 Propos de Notre Application"}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"Ann\xe9es de Recherche et d\u2019Apprentissage"}),Object(a.jsx)("p",{children:"Cette application est le fruit d\u2019ann\xe9es de travail acharn\xe9, d\u2019exploration et d\u2019apprentissage avec l\u2019intelligence artificielle avanc\xe9e. Chaque ligne de code, chaque base de donn\xe9es et chaque fonctionnalit\xe9 ont \xe9t\xe9 con\xe7ues avec passion et pers\xe9v\xe9rance, dans le but d\u2019offrir une exp\xe9rience fluide et innovante."})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"Participez et Partagez"}),Object(a.jsx)("p",{children:"Cette application est bien plus qu\u2019une plateforme : c\u2019est une communaut\xe9. Partagez-la sur les r\xe9seaux sociaux pour que d\u2019autres puissent en profiter."})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"Un Syst\xe8me Complet avec Assistance"}),Object(a.jsx)("p",{children:"Ce que vous voyez ici n\u2019est que l\u2019interface utilisateur. Il existe une plateforme administrative pour g\xe9rer les publications et garantir un environnement s\xfbr et efficace. Notre \xe9quipe est l\xe0 pour r\xe9pondre \xe0 vos questions et suggestions en temps r\xe9el."})]}),Object(a.jsx)("h1",{className:"info-title",children:"\u0645\u0639\u0644\u0648\u0645\u0627\u062a \u0639\u0646 \u0627\u0644\u062a\u0637\u0628\u064a\u0642"}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"\u0633\u0646\u0648\u0627\u062a \u0645\u0646 \u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u062a\u0639\u0644\u0645"}),Object(a.jsx)("p",{children:"\u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0647\u0648 \u062b\u0645\u0631\u0629 \u0633\u0646\u0648\u0627\u062a \u0645\u0646 \u0627\u0644\u062c\u0647\u062f \u0648\u0627\u0644\u0628\u062d\u062b \u0648\u0627\u0644\u062a\u0639\u0644\u0645 \u0628\u0627\u0633\u062a\u062e\u062f\u0627\u0645 \u0627\u0644\u0630\u0643\u0627\u0621 \u0627\u0644\u0627\u0635\u0637\u0646\u0627\u0639\u064a \u0627\u0644\u0645\u062a\u0642\u062f\u0645. \u062a\u0645 \u062a\u0635\u0645\u064a\u0645 \u0643\u0644 \u0633\u0637\u0631 \u0645\u0646 \u0627\u0644\u062a\u0639\u0644\u064a\u0645\u0627\u062a \u0627\u0644\u0628\u0631\u0645\u062c\u064a\u0629 \u0648\u0643\u0644 \u0642\u0627\u0639\u062f\u0629 \u0628\u064a\u0627\u0646\u0627\u062a \u0648\u0643\u0644 \u0648\u0638\u064a\u0641\u0629 \u0628\u062a\u0641\u0627\u0646\u064d\u060c \u0628\u0639\u062f \u0644\u064a\u0627\u0644\u064d \u0645\u0646 \u0627\u0644\u0639\u0645\u0644 \u0627\u0644\u0645\u0633\u062a\u0645\u0631 \u062f\u0648\u0646 \u062a\u0639\u0628\u060c \u0628\u0647\u062f\u0641 \u062a\u0642\u062f\u064a\u0645 \u062a\u062c\u0631\u0628\u0629 \u0633\u0644\u0633\u0629 \u0648\u0645\u0645\u064a\u0632\u0629."})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"\u0627\u0644\u0645\u064a\u0632\u0627\u062a \u0627\u0644\u0631\u0626\u064a\u0633\u064a\u0629"}),Object(a.jsxs)("ul",{className:"info-list",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u0645\u0646\u0634\u0648\u0631\u0627\u062a \u0633\u0631\u064a\u0639\u0629:"})," \u0648\u0635\u0641 \u0630\u0643\u064a \u0644\u0644\u0639\u0642\u0627\u0631\u0627\u062a \u0628\u0623\u0642\u0644 \u062c\u0647\u062f."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u062f\u0631\u062f\u0634\u0629 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u062d\u0642\u064a\u0642\u064a:"})," \u0645\u0631\u0627\u0633\u0644\u0629 \u0641\u0648\u0631\u064a\u0629 \u0628\u064a\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646 \u0627\u0644\u0645\u062a\u0635\u0644\u064a\u0646."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u0627\u0644\u062a\u0639\u0644\u064a\u0642\u0627\u062a \u0648\u0627\u0644\u0625\u0639\u062c\u0627\u0628\u0627\u062a:"})," \u062a\u0641\u0627\u0639\u0644 \u0645\u0628\u0627\u0634\u0631 \u0645\u0639 \u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u0627\u0644\u0625\u0634\u0639\u0627\u0631\u0627\u062a:"})," \u062a\u0646\u0628\u064a\u0647\u0627\u062a \u0639\u0646\u062f \u0646\u0634\u0631 \u0639\u0642\u0627\u0631 \u062c\u062f\u064a\u062f \u0645\u0646 \u0642\u0628\u0644 \u0627\u0644\u0645\u062a\u0627\u0628\u0639\u064a\u0646."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u0648\u0627\u062c\u0647\u0629 \u0633\u0647\u0644\u0629 \u0627\u0644\u0627\u0633\u062a\u062e\u062f\u0627\u0645:"})," \u062a\u0633\u062c\u064a\u0644 \u062f\u062e\u0648\u0644 \u0628\u0633\u064a\u0637 \u0628\u062f\u0648\u0646 \u062a\u0639\u0642\u064a\u062f."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u062a\u062d\u062f\u064a\u062b\u0627\u062a \u0645\u0633\u062a\u0645\u0631\u0629:"})," \u062a\u062d\u0633\u064a\u0646\u0627\u062a \u0645\u0633\u062a\u0645\u0631\u0629 \u0641\u064a \u0627\u0644\u0645\u064a\u0632\u0627\u062a \u0648\u0627\u0644\u062a\u0635\u0645\u064a\u0645."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"\u062a\u0648\u0627\u0641\u0642 \u0645\u0639 PWA:"})," \u062a\u062d\u0645\u064a\u0644 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0639\u0644\u0649 \u0627\u0644\u0647\u0627\u062a\u0641 \u0628\u062f\u0648\u0646 \u0627\u0644\u062d\u0627\u062c\u0629 \u0644\u0644\u0645\u062a\u0635\u0641\u062d."]})]})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"\u0634\u0627\u0631\u0643 \u0648\u0633\u0627\u0647\u0645"}),Object(a.jsx)("p",{children:"\u0647\u0630\u0627 \u0627\u0644\u062a\u0637\u0628\u064a\u0642 \u0644\u064a\u0633 \u0645\u062c\u0631\u062f \u0645\u0646\u0635\u0629\u060c \u0628\u0644 \u0647\u0648 \u0645\u062c\u062a\u0645\u0639 \u0645\u062a\u0643\u0627\u0645\u0644. \u0634\u0627\u0631\u0643\u0647 \u0639\u0644\u0649 \u0648\u0633\u0627\u0626\u0644 \u0627\u0644\u062a\u0648\u0627\u0635\u0644 \u0627\u0644\u0627\u062c\u062a\u0645\u0627\u0639\u064a \u0644\u064a\u0635\u0644 \u0625\u0644\u0649 \u0627\u0644\u0645\u0632\u064a\u062f \u0645\u0646 \u0627\u0644\u0645\u0633\u062a\u062e\u062f\u0645\u064a\u0646."})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"\u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u064a \u0645\u062a\u0643\u0627\u0645\u0644"}),Object(a.jsx)("p",{children:"\u0645\u0627 \u062a\u0631\u0627\u0647 \u0647\u0646\u0627 \u0647\u0648 \u0645\u062c\u0631\u062f \u0627\u0644\u0648\u0627\u062c\u0647\u0629 \u0627\u0644\u0623\u0645\u0627\u0645\u064a\u0629 \u0644\u0644\u062a\u0637\u0628\u064a\u0642. \u0647\u0646\u0627\u0643 \u0646\u0638\u0627\u0645 \u0625\u062f\u0627\u0631\u064a \u0645\u062a\u0637\u0648\u0631 \u0644\u0625\u062f\u0627\u0631\u0629 \u0627\u0644\u0645\u0646\u0634\u0648\u0631\u0627\u062a \u0648\u0636\u0645\u0627\u0646 \u0628\u064a\u0626\u0629 \u0622\u0645\u0646\u0629 \u0648\u0641\u0639\u0627\u0644\u0629. \u0641\u0631\u064a\u0642\u0646\u0627 \u0645\u062a\u0627\u062d \u0644\u0644\u0631\u062f \u0639\u0644\u0649 \u062c\u0645\u064a\u0639 \u0627\u0633\u062a\u0641\u0633\u0627\u0631\u0627\u062a\u0643\u0645 \u0641\u064a \u0627\u0644\u0648\u0642\u062a \u0627\u0644\u0641\u0639\u0644\u064a."})]})]}),Object(a.jsx)("h1",{className:"info-title",children:"Descubre la Revoluci\xf3n en Bienes Ra\xedces"}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"Una Aplicaci\xf3n Forjada en la Perseverancia"}),Object(a.jsx)("p",{children:"Detr\xe1s de cada l\xednea de c\xf3digo, hay incontables noches de esfuerzo, d\xedas de estudio sin descanso y una visi\xf3n clara: construir la mejor plataforma para publicaci\xf3n de bienes ra\xedces. Nuestra aplicaci\xf3n no es solo software, es el resultado de a\xf1os de aprendizaje, prueba y error, optimizaci\xf3n y crecimiento continuo con el respaldo de IA avanzada y c\xf3digo puro."})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"\xbfQu\xe9 Hace Que Esta Plataforma Sea \xdanica?"}),Object(a.jsx)("p",{children:"Hemos dise\xf1ado un ecosistema donde publicar propiedades es casi autom\xe1tico. Sin complicaciones, sin necesidad de escribir largos formularios. Solo unos pocos clics y tu anuncio estar\xe1 en l\xednea."}),Object(a.jsxs)("ul",{className:"info-list",children:[Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Chat en tiempo real:"})," Comun\xedcate instant\xe1neamente con los interesados."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Comentarios y Likes en vivo:"})," Recibe feedback inmediato de potenciales clientes."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Notificaciones inteligentes:"})," Mantente al tanto cuando alguien interact\xfae contigo."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Dise\xf1o adaptable:"})," Accede desde cualquier dispositivo sin perder calidad."]}),Object(a.jsxs)("li",{children:[Object(a.jsx)("strong",{children:"Optimizaci\xf3n para PWA:"})," Desc\xe1rgala en tu m\xf3vil y \xfasala como una app nativa."]})]})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"Tu Viaje Comienza Aqu\xed"}),Object(a.jsx)("p",{children:"Para aprovechar todo el potencial de nuestra plataforma, sigue estos simples pasos:"}),Object(a.jsxs)("ol",{className:"info-list",children:[Object(a.jsx)("li",{children:"Reg\xedstrate con tu correo electr\xf3nico o redes sociales."}),Object(a.jsx)("li",{children:"Inicia sesi\xf3n y accede a todas las funciones avanzadas."}),Object(a.jsx)("li",{children:"Publica tu propiedad con im\xe1genes, detalles y ubicaci\xf3n."}),Object(a.jsx)("li",{children:"Interact\xfaa con usuarios a trav\xe9s de comentarios y chat."}),Object(a.jsx)("li",{children:"Recibe notificaciones en tiempo real sobre cualquier novedad."})]})]}),Object(a.jsxs)("section",{className:"info-section",children:[Object(a.jsx)("h2",{children:"En Constante Evoluci\xf3n"}),Object(a.jsx)("p",{children:"Esta aplicaci\xf3n no es un proyecto est\xe1tico. Estamos en actualizaci\xf3n continua, a\xf1adiendo nuevas funcionalidades, mejorando la experiencia de usuario y optimizando los estilos. Tu feedback es esencial para seguir creciendo."}),Object(a.jsx)("p",{children:"\xbfTe gusta lo que ves? \xa1Comp\xe1rtelo en redes sociales y ayuda a m\xe1s personas a descubrir la nueva era de los bienes ra\xedces!"})]})]})});t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(c,{})})}},62:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(6),s=n(5),i=n(17),o=n(30),l=n.n(o),u=n(32),d=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e})),n=t.userBlockReducer,o=t.auth,d=Object(c.useState)([]),j=Object(r.a)(d,2),b=j[0],p=j[1];Object(c.useEffect)((function(){p(n.blockedUsers||[])}),[n.blockedUsers]);var O=function(e){return e?l()(e).format("DD/MM/YYYY HH:mm"):"N/A"};return Object(a.jsxs)("div",{className:"modalusersearchlist",children:[Object(a.jsx)("div",{className:"headersearchlist",children:Object(a.jsx)("h5",{className:"titlesearchlist",children:"Usuarios bloqueados"})}),Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"#"}),Object(a.jsx)("th",{children:"Usuario"}),Object(a.jsx)("th",{children:"Email"}),Object(a.jsx)("th",{children:"Motivo del bloqueo"}),Object(a.jsx)("th",{children:"Fecha de bloqueo"}),Object(a.jsx)("th",{children:"Fecha l\xedmite"}),Object(a.jsx)("th",{children:"Administrador"}),Object(a.jsx)("th",{children:"Duraci\xf3n"}),Object(a.jsx)("th",{children:"Tipo de bloqueo"}),Object(a.jsx)("th",{children:"Acciones"})]})}),Object(a.jsx)("tbody",{children:b.length>0?b.map((function(t,n){var c,r;return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:n+1}),Object(a.jsx)("td",{children:Object(a.jsx)(i.a,{user:t.user})}),Object(a.jsx)("td",{children:null===(c=t.user)||void 0===c?void 0:c.email}),Object(a.jsx)("td",{children:t.motivo||"No especificado"}),Object(a.jsx)("td",{children:O(t.fechaBloqueo)}),Object(a.jsx)("td",{children:O(t.fechaLimite)}),Object(a.jsx)("td",{children:(null===(r=t.userquibloquea)||void 0===r?void 0:r.username)||"inconu"}),Object(a.jsx)("td",{children:t.duracion||"No especificado"}),Object(a.jsx)("td",{children:t.tipoBloqueo||"N/A"}),Object(a.jsx)("td",{children:Object(a.jsxs)("div",{className:"action-dropdown",children:[Object(a.jsx)("button",{className:"btn btn-danger dropdown-toggle",type:"button","data-bs-toggle":"dropdown",children:"Acci\xf3n"}),Object(a.jsx)("div",{className:"dropdown-menu",children:Object(a.jsx)("button",{className:"dropdown-item",onClick:function(){return function(t){var n={motivo:"Desbloqueo manual",fechaBloqueo:(new Date).toISOString(),fechaLimite:null};e(Object(u.d)({auth:o,datosDesbloqueo:n,user:t})),p((function(e){return e.filter((function(e){return e.user._id!==t._id}))}))}(t.user)},children:"Desbloquear"})})]})})]},t.user._id)})):Object(a.jsx)("tr",{children:Object(a.jsx)("td",{colSpan:"10",children:"No hay usuarios bloqueados"})})})]})})]})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(d,{})})}},63:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(1),r=n(21),s=n(2),i=n(3),o=n.n(i),l=n(7),u=n(6),d=n(5),j=n(17),b=n(28),p=function(){var e=Object(d.c)((function(e){return e})),t=e.homeUsers,n=e.auth,i=Object(d.b)(),p=Object(c.useState)({}),O=Object(u.a)(p,2),f=O[0],m=O[1];Object(c.useEffect)((function(){(null===t||void 0===t?void 0:t.users)&&y(t.users)}),[t]);var h=function(){var e=Object(l.a)(o.a.mark((function e(t,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=a,e.next="user"===e.t0?3:"Super-utilisateur"===e.t0?6:"Moderateur"===e.t0?9:"admin"===e.t0?12:"story"===e.t0?15:18;break;case 3:return e.next=5,i(Object(b.f)(t,n));case 5:return e.abrupt("break",19);case 6:return e.next=8,i(Object(b.e)(t,n));case 8:return e.abrupt("break",19);case 9:return e.next=11,i(Object(b.c)(t,n));case 11:return e.abrupt("break",19);case 12:return e.next=14,i(Object(b.b)(t,n));case 14:return e.abrupt("break",19);case 15:return e.next=17,i(Object(b.d)(t,n));case 17:case 18:return e.abrupt("break",19);case 19:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),x=Object(c.useState)((null===t||void 0===t?void 0:t.users)||[]),v=Object(u.a)(x,2),g=v[0],y=v[1],N=function(){var e=Object(l.a)(o.a.mark((function e(t,n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m((function(e){return Object(s.a)(Object(s.a)({},e),{},Object(r.a)({},t._id,n))})),e.next=3,h(t,n);case 3:y((function(e){return e.map((function(e){return e._id===t._id?Object(s.a)(Object(s.a)({},e),{},{role:n}):e}))}));case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{className:"modalcontentrole",children:[Object(a.jsx)("div",{className:"modalheaderrole",children:Object(a.jsx)("h5",{className:"modaltitlerole",children:"Asignar roles"})}),Object(a.jsx)("div",{className:"table-responsive",children:Object(a.jsxs)("table",{className:"table",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("th",{children:"Usuario"}),Object(a.jsx)("th",{children:"Rol Actual"}),Object(a.jsx)("th",{children:"Cambiar Rol"})]})}),Object(a.jsx)("tbody",{children:g.map((function(e,t){return Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(j.a,{user:e})}),Object(a.jsx)("td",{children:e.role}),Object(a.jsx)("td",{children:Object(a.jsxs)("select",{className:"form-control-role",onChange:function(t){return N(e,t.target.value)},value:f[e._id]||e.role,children:[Object(a.jsx)("option",{value:"user",children:"Utilisateur "}),Object(a.jsx)("option",{value:"Super-utilisateur",children:"Super utilisateur"}),Object(a.jsx)("option",{value:"Moderateur",children:"Moderateur"}),Object(a.jsx)("option",{value:"admin",children:"Admin"}),Object(a.jsx)("option",{value:"story",children:"Story"})]})})]},e._id||t)}))})]})})]})};t.default=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(p,{})})}},64:function(e,t,n){"use strict";var a=n(0);n(1);t.a=function(e){var t=e.setContent,n=e.content,c=e.theme;return Object(a.jsxs)("div",{className:"nav-item dropdown",style:{opacity:1,filter:c?"invert(1)":"invert(0)"},children:[Object(a.jsx)("span",{className:"nav-link position-relative px-1",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",children:Object(a.jsx)("span",{style:{opacity:.4},children:"\ud83d\ude04"})}),Object(a.jsx)("div",{className:"dropdown-menu","aria-labelledby":"navbarDropdown",children:Object(a.jsx)("div",{className:"reactions",children:["\u2764\ufe0f","\ud83d\ude06","\ud83d\ude2f","\ud83d\ude22","\ud83d\ude21","\ud83d\udc4d","\ud83d\udc4e","\ud83d\ude04","\ud83d\ude02","\ud83d\ude0d","\ud83d\ude18","\ud83d\ude17","\ud83d\ude1a","\ud83d\ude33","\ud83d\ude2d","\ud83d\ude13","\ud83d\ude24","\ud83e\udd24","\ud83d\udc7b","\ud83d\udc80","\ud83e\udd10","\ud83d\ude34","\ud83d\ude37","\ud83d\ude35"].map((function(e){return Object(a.jsx)("span",{onClick:function(){return t(n+e)},children:e},e)}))})})]})}},65:function(e,t,n){"use strict";var a=n(0),c=n(2),r=n(3),s=n.n(r),i=n(7),o=n(6),l=n(1),u=n(17),d=n(5),j=n(8),b=n(4),p=n(15),O=n(14);t.a=function(){var e=Object(d.c)((function(e){return e})),t=e.auth,n=e.message,r=e.online,f=Object(d.b)(),m=Object(l.useState)(""),h=Object(o.a)(m,2),x=h[0],v=h[1],g=Object(l.useState)([]),y=Object(o.a)(g,2),N=y[0],E=y[1],k=Object(p.g)(),w=Object(p.i)().id,_=Object(l.useRef)(),S=Object(l.useState)(0),T=Object(o.a)(S,2),A=T[0],L=T[1],C=function(){var e=Object(i.a)(s.a.mark((function e(n){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),x){e.next=3;break}return e.abrupt("return",E([]));case 3:return e.prev=3,e.next=6,Object(j.b)("search?username=".concat(x),t.token);case 6:a=e.sent,E(a.data.users),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),f({type:b.c.ALERT,payload:{error:e.t0.response.data.msg}});case 13:case"end":return e.stop()}}),e,null,[[3,10]])})));return function(t){return e.apply(this,arguments)}}(),R=function(e){return v(""),E([]),f({type:O.a.ADD_USER,payload:Object(c.a)(Object(c.a)({},e),{},{text:"",media:[]})}),f({type:O.a.CHECK_ONLINE_OFFLINE,payload:r}),k.push("/message/".concat(e._id))},D=function(e){return w===e._id?"active":""};return Object(l.useEffect)((function(){n.firstLoad||f(Object(O.e)({auth:t}))}),[f,t,n.firstLoad]),Object(l.useEffect)((function(){new IntersectionObserver((function(e){e[0].isIntersecting&&L((function(e){return e+1}))}),{threshold:.1}).observe(_.current)}),[L]),Object(l.useEffect)((function(){n.resultUsers>=9*(A-1)&&A>1&&f(Object(O.e)({auth:t,page:A}))}),[n.resultUsers,A,t,f]),Object(l.useEffect)((function(){n.firstLoad&&f({type:O.a.CHECK_ONLINE_OFFLINE,payload:r})}),[r,n.firstLoad,f]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("form",{className:"message_header",onSubmit:C,children:[Object(a.jsx)("input",{type:"text",value:x,placeholder:"Recherche d'utilisateur...",onChange:function(e){return v(e.target.value.toLowerCase().replace(/ /g,""))}}),Object(a.jsx)("button",{type:"submit",style:{display:"none"},children:"Search"})]}),Object(a.jsxs)("div",{className:"message_chat_list",children:[0!==N.length?Object(a.jsx)(a.Fragment,{children:N.map((function(e){return Object(a.jsx)("div",{className:"message_user ".concat(D(e)),onClick:function(){return R(e)},children:Object(a.jsx)(u.a,{user:e})},e._id)}))}):Object(a.jsx)(a.Fragment,{children:n.users.map((function(e){return Object(a.jsx)("div",{className:"message_user ".concat(D(e)),onClick:function(){return R(e)},children:Object(a.jsx)(u.a,{user:e,msg:!0,children:e.online?Object(a.jsx)("i",{className:"fas fa-circle text-success"}):t.user.following.find((function(t){return t._id===e._id}))&&Object(a.jsx)("i",{className:"fas fa-circle"})})},e._id)}))}),Object(a.jsx)("button",{ref:_,style:{opacity:0},children:"Voir plus"})]})]})}},66:function(e,t,n){"use strict";var a=n(0),c=n(1),r=n(3),s=n.n(r),i=n(7),o=n(6),l=n(5),u=function(e){var t=e.images,n=e.id,c=function(e){if(0===e)return"active"},r=Object(l.c)((function(e){return e})).theme;return Object(a.jsxs)("div",{id:"image".concat(n),className:"carousel slide","data-ride":"carousel",children:[Object(a.jsx)("ol",{className:"carousel-indicators",style:{zIndex:1},children:t.map((function(e,t){return Object(a.jsx)("li",{"data-target":"#image".concat(n),"data-slide-to":t,className:c(t)},t)}))}),Object(a.jsx)("div",{className:"carousel-inner",children:t.map((function(e,t){return Object(a.jsx)("div",{className:"carousel-item ".concat(c(t)),children:e.url.match(/video/i)?Object(a.jsx)("video",{controls:!0,src:e.url,className:"d-block w-100",alt:e.url,style:{filter:r?"invert(1)":"invert(0)"}}):Object(a.jsx)("img",{src:e.url,className:"d-block w-100",alt:e.url,style:{filter:r?"invert(1)":"invert(0)"}})},t)}))}),t.length>1&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("a",{className:"carousel-control-prev",href:"#image".concat(n),role:"button","data-slide":"prev",style:{width:"5%"},children:[Object(a.jsx)("span",{className:"carousel-control-prev-icon","aria-hidden":"true"}),Object(a.jsx)("span",{className:"sr-only",children:"Previous"})]}),Object(a.jsxs)("a",{className:"carousel-control-next",href:"#image".concat(n),role:"button","data-slide":"next",style:{width:"5%"},children:[Object(a.jsx)("span",{className:"carousel-control-next-icon","aria-hidden":"true"}),Object(a.jsx)("span",{className:"sr-only",children:"Next"})]})]})]})},d=n(11),j=n(15),b=function(e){var t=e.post,n=Object(c.useState)(!1),r=Object(o.a)(n,2),b=r[0],p=r[1],O=Object(c.useState)(!1),f=Object(o.a)(O,2),m=f[0],h=f[1],x=Object(c.useState)(!1),v=Object(o.a)(x,2),g=v[0],y=v[1],N=Object(c.useState)(!1),E=Object(o.a)(N,2),k=E[0],w=E[1],_=Object(c.useState)(!1),S=Object(o.a)(_,2),T=S[0],A=S[1],L=Object(j.g)(),C=Object(l.c)((function(e){return e})),R=C.auth,D=C.socket,U=Object(l.b)(),I=Object(j.h)().pathname==="/post/".concat(t._id);Object(c.useEffect)((function(){R.user&&t.likes.find((function(e){return e._id===R.user._id}))?p(!0):p(!1)}),[t.likes,R.user]);var P=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.token){e.next=2;break}return e.abrupt("return",A(!0));case 2:if(!m){e.next=4;break}return e.abrupt("return");case 4:h(!0),U(Object(d.e)({post:t,auth:R,socket:D})),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.token){e.next=2;break}return e.abrupt("return",A(!0));case 2:if(!m){e.next=4;break}return e.abrupt("return");case 4:h(!0),U(Object(d.g)({post:t,auth:R,socket:D})),h(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){R.user&&R.user.saved.find((function(e){return e===t._id}))?y(!0):y(!1)}),[R.user,t._id]);var F=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.token){e.next=2;break}return e.abrupt("return",A(!0));case 2:if(!k){e.next=4;break}return e.abrupt("return");case 4:return w(!0),e.next=7,U(Object(d.f)({post:t,auth:R}));case 7:w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(R.token){e.next=2;break}return e.abrupt("return",A(!0));case 2:if(!k){e.next=4;break}return e.abrupt("return");case 4:return w(!0),e.next=7,U(Object(d.h)({post:t,auth:R}));case 7:w(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"card_body",children:t.images.length>0&&Object(a.jsxs)("div",{className:"carousel-container",style:{position:"relative"},children:[Object(a.jsx)("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:1,cursor:"pointer",backgroundColor:"rgba(255, 255, 255, 0.7)",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:g?M:F,children:Object(a.jsx)("span",{className:"material-icons",style:{fontSize:"24px",color:g?"#ff8c00":"#000"},children:"bookmark"})}),Object(a.jsxs)("div",{style:{position:"absolute",top:"10px",left:"10px",zIndex:1,display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(a.jsx)("span",{style:{fontSize:"14px",fontWeight:"bold",color:"red",marginRight:"5px"},children:t.likes.length}),Object(a.jsx)("div",{style:{cursor:"pointer",backgroundColor:"rgba(255, 255, 255, 0.7)",borderRadius:"50%",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center"},onClick:b?G:P,children:Object(a.jsx)("span",{className:"material-icons",style:{fontSize:"24px",color:b?"red":"#000"},children:"favorite"})})]}),Object(a.jsx)("div",{className:"card",children:Object(a.jsx)("div",{className:"card__image",onClick:function(){return L.push("/post/".concat(t._id))},children:Object(a.jsx)(u,{images:t.images,id:t._id})})}),!I&&Object(a.jsx)("div",{children:t.link&&Object(a.jsxs)("div",{className:"mt-3 mb-1 w-100",children:[" ",Object(a.jsxs)("a",{href:t.link.startsWith("http")?t.link:"https://".concat(t.link),target:"_blank",rel:"noopener noreferrer",className:"btn btn-primary w-100",children:[Object(a.jsx)("i",{className:"fas fa-external-link-alt mr-2"})," Acc\xe9der \xe0 l'application"]})]})})]})}),T&&Object(a.jsx)("div",{className:"modal",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("h4",{children:"Titre"}),Object(a.jsx)("p",{children:"Message"}),Object(a.jsxs)("div",{className:"modal-buttons",children:[Object(a.jsx)("button",{onClick:function(){return L.push("/login")},children:"Conections"}),Object(a.jsx)("button",{onClick:function(){return L.push("/register")},children:"Registre"}),Object(a.jsx)("button",{onClick:function(){return A(!1)},children:"Fermer"})]})]})})]})},p=n(2),O=n(20),f=n(10),m=n(30),h=n.n(m),x=function(e){var t=e.isLike,n=e.handleLike,c=e.handleUnLike,r=Object(l.c)((function(e){return e})).theme;return Object(a.jsx)(a.Fragment,{children:t?Object(a.jsx)("i",{className:"fas fa-heart text-danger",onClick:c,style:{filter:r?"invert(1)":"invert(0)"}}):Object(a.jsx)("i",{className:"far fa-heart",onClick:n})})},v=n(9),g=n(4),y=n(8),N=n(12),E=function(e){var t=e.comment,n=e.post,a=e.auth;return function(){var e=Object(i.a)(s.a.mark((function e(c){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.a)(Object(p.a)({},t),{},{likes:[].concat(Object(v.a)(t.likes),[a.user])}),i=Object(g.b)(n.comments,t._id,r),o=Object(p.a)(Object(p.a)({},n),{},{comments:i}),c({type:d.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(y.c)("comment/".concat(t._id,"/like"),null,a.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:g.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},k=function(e){var t=e.comment,n=e.post,a=e.auth;return function(){var e=Object(i.a)(s.a.mark((function e(c){var r,i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(p.a)(Object(p.a)({},t),{},{likes:Object(g.a)(t.likes,a.user._id)}),i=Object(g.b)(n.comments,t._id,r),o=Object(p.a)(Object(p.a)({},n),{},{comments:i}),c({type:d.a.UPDATE_POST,payload:o}),e.prev=4,e.next=7,Object(y.c)("comment/".concat(t._id,"/unlike"),null,a.token);case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(4),c({type:g.c.ALERT,payload:{error:e.t0.response.data.msg}});case 12:case"end":return e.stop()}}),e,null,[[4,9]])})));return function(t){return e.apply(this,arguments)}}()},w=function(e){var t=e.post,n=e.comment,c=e.setOnEdit,r=Object(l.c)((function(e){return e})),o=r.auth,u=r.socket,j=Object(l.b)(),b=function(){t.user._id!==o.user._id&&n.user._id!==o.user._id||j(function(e){var t=e.post,n=e.comment,a=e.auth,c=e.socket;return function(){var e=Object(i.a)(s.a.mark((function e(r){var i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=[].concat(Object(v.a)(t.comments.filter((function(e){return e.reply===n._id}))),[n]),o=Object(p.a)(Object(p.a)({},t),{},{comments:t.comments.filter((function(e){return!i.find((function(t){return e._id===t._id}))}))}),r({type:d.a.UPDATE_POST,payload:o}),c.emit("deleteComment",o);try{i.forEach((function(e){Object(y.a)("comment/".concat(e._id),a.token);var s={id:e._id,text:n.reply?"mentioned you in a comment.":"has commented on your post.",recipients:n.reply?[n.tag._id]:[t.user._id],url:"/post/".concat(t._id)};r(Object(N.f)({msg:s,auth:a,socket:c}))}))}catch(s){r({type:g.c.ALERT,payload:{error:s.response.data.msg}})}case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({post:t,auth:o,comment:n,socket:u}))},O=function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("div",{className:"dropdown-item",onClick:function(){return c(!0)},children:[Object(a.jsx)("span",{className:"material-icons",children:"create"})," Edit"]}),Object(a.jsxs)("div",{className:"dropdown-item",onClick:b,children:[Object(a.jsx)("span",{className:"material-icons",children:"delete_outline"})," Remove"]})]})};return Object(a.jsx)("div",{className:"menu",children:(t.user._id===o.user._id||n.user._id===o.user._id)&&Object(a.jsxs)("div",{className:"nav-item dropdown",children:[Object(a.jsx)("span",{className:"material-icons",id:"moreLink","data-toggle":"dropdown",children:"more_vert"}),Object(a.jsx)("div",{className:"dropdown-menu","aria-labelledby":"moreLink",children:t.user._id===o.user._id?n.user._id===o.user._id?O():Object(a.jsxs)("div",{className:"dropdown-item",onClick:b,children:[Object(a.jsx)("span",{className:"material-icons",children:"delete_outline"})," Remove"]}):n.user._id===o.user._id&&O()})]})})},_=n(64),S=function(e){var t=e.children,n=e.post,r=e.onReply,u=e.setOnReply,j=Object(c.useState)(""),b=Object(o.a)(j,2),O=b[0],f=b[1],m=Object(l.c)((function(e){return e})),h=m.auth,x=m.socket,E=m.theme,k=Object(l.b)();return Object(a.jsxs)("form",{className:"card-footer comment_input",onSubmit:function(e){if(e.preventDefault(),!O.trim())return u?u(!1):void 0;f("");var t={content:O,likes:[],user:h.user,createdAt:(new Date).toISOString(),reply:r&&r.commentId,tag:r&&r.user};return k(function(e){var t=e.post,n=e.newComment,a=e.auth,c=e.socket;return function(){var e=Object(i.a)(s.a.mark((function e(r){var i,o,l,u,j,b;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Object(p.a)(Object(p.a)({},t),{},{comments:[].concat(Object(v.a)(t.comments),[n])}),r({type:d.a.UPDATE_POST,payload:i}),e.prev=2,o=Object(p.a)(Object(p.a)({},n),{},{postId:t._id,postUserId:t.user._id}),e.next=6,Object(y.d)("comment",o,a.token);case 6:l=e.sent,u=Object(p.a)(Object(p.a)({},l.data.newComment),{},{user:a.user}),j=Object(p.a)(Object(p.a)({},t),{},{comments:[].concat(Object(v.a)(t.comments),[u])}),r({type:d.a.UPDATE_POST,payload:j}),c.emit("createComment",j),b={id:l.data.newComment._id,text:n.reply?"mentioned you in a comment.":"has commented on your post.",recipients:n.reply?[n.tag._id]:[t.user._id],url:"/post/".concat(t._id),content:t.content,image:t.images[0].url},r(Object(N.b)({msg:b,auth:a,socket:c})),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),r({type:g.c.ALERT,payload:{error:e.t0.response.data.msg}});case 18:case"end":return e.stop()}}),e,null,[[2,15]])})));return function(t){return e.apply(this,arguments)}}()}({post:n,newComment:t,auth:h,socket:x})),u?u(!1):void 0},children:[t,Object(a.jsx)("input",{type:"text",placeholder:"Add your comments...",value:O,onChange:function(e){return f(e.target.value)},style:{filter:E?"invert(1)":"invert(0)",color:E?"white":"#111",background:E?"rgba(0,0,0,.03)":""}}),Object(a.jsx)(_.a,{setContent:f,content:O,theme:E}),Object(a.jsx)("button",{type:"submit",className:"postBtn",children:"Post"})]})},T=function(e){var t=e.children,n=e.comment,r=e.post,u=e.commentId,j=Object(l.c)((function(e){return e})),b=j.auth,m=j.theme,v=Object(l.b)(),N=Object(c.useState)(""),_=Object(o.a)(N,2),T=_[0],A=_[1],L=Object(c.useState)(!1),C=Object(o.a)(L,2),R=C[0],D=C[1],U=Object(c.useState)(!1),I=Object(o.a)(U,2),P=I[0],G=I[1],F=Object(c.useState)(!1),M=Object(o.a)(F,2),q=M[0],H=M[1],B=Object(c.useState)(!1),z=Object(o.a)(B,2),Q=z[0],K=z[1],V=Object(c.useState)(!1),W=Object(o.a)(V,2),Y=W[0],X=W[1];Object(c.useEffect)((function(){A(n.content),H(!1),X(!1),n.likes.find((function(e){return e._id===b.user._id}))&&H(!0)}),[n,b.user._id]);var J=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=2;break}return e.abrupt("return");case 2:return H(!0),K(!0),e.next=6,v(E({comment:n,post:r,auth:b}));case 6:K(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Z=function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Q){e.next=2;break}return e.abrupt("return");case 2:return H(!1),K(!0),e.next=6,v(k({comment:n,post:r,auth:b}));case 6:K(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$={opacity:n._id?1:.5,pointerEvents:n._id?"inherit":"none"};return Object(a.jsxs)("div",{className:"comment_card mt-2",style:$,children:[Object(a.jsxs)(f.b,{to:"/profile/".concat(n.user._id),className:"d-flex text-dark",children:[Object(a.jsx)(O.a,{src:n.user.avatar,size:"small-avatar"}),Object(a.jsx)("h6",{className:"mx-1",children:n.user.username})]}),Object(a.jsxs)("div",{className:"comment_content",children:[Object(a.jsxs)("div",{className:"flex-fill",style:{filter:m?"invert(1)":"invert(0)",color:m?"white":"#111"},children:[P?Object(a.jsx)("textarea",{rows:"5",value:T,onChange:function(e){return A(e.target.value)}}):Object(a.jsxs)("div",{children:[n.tag&&n.tag._id!==n.user._id&&Object(a.jsxs)(f.b,{to:"/profile/".concat(n.tag._id),className:"mr-1",children:["@",n.tag.username]}),Object(a.jsx)("span",{children:T.length<100?T:R?T+" ":T.slice(0,100)+"...."}),T.length>100&&Object(a.jsx)("span",{className:"readMore",onClick:function(){return D(!R)},children:R?"Hide content":"Read more"})]}),Object(a.jsxs)("div",{style:{cursor:"pointer"},children:[Object(a.jsx)("small",{className:"text-muted mr-3",children:h()(n.createdAt).fromNow()}),Object(a.jsxs)("small",{className:"font-weight-bold mr-3",children:[n.likes.length," likes"]}),P?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){n.content!==T?(v(function(e){var t=e.comment,n=e.post,a=e.content,c=e.auth;return function(){var e=Object(i.a)(s.a.mark((function e(r){var i,o;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=Object(g.b)(n.comments,t._id,Object(p.a)(Object(p.a)({},t),{},{content:a})),o=Object(p.a)(Object(p.a)({},n),{},{comments:i}),r({type:d.a.UPDATE_POST,payload:o});try{Object(y.c)("comment/".concat(t._id),{content:a},c.token)}catch(s){r({type:g.c.ALERT,payload:{error:s.response.data.msg}})}case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}({comment:n,post:r,content:T,auth:b})),G(!1)):G(!1)},children:"update"}),Object(a.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){return G(!1)},children:"cancel"})]}):Object(a.jsx)("small",{className:"font-weight-bold mr-3",onClick:function(){if(Y)return X(!1);X(Object(p.a)(Object(p.a)({},n),{},{commentId:u}))},children:Y?"cancel":"reply"})]})]}),Object(a.jsxs)("div",{className:"d-flex align-items-center mx-2",style:{cursor:"pointer"},children:[Object(a.jsx)(w,{post:r,comment:n,setOnEdit:G}),Object(a.jsx)(x,{isLike:q,handleLike:J,handleUnLike:Z})]})]}),Y&&Object(a.jsx)(S,{post:r,onReply:Y,setOnReply:X,children:Object(a.jsxs)(f.b,{to:"/profile/".concat(Y.user._id),className:"mr-1",children:["@",Y.user.username,":"]})}),t]})},A=function(e){var t=e.comment,n=e.post,r=e.replyCm,s=Object(c.useState)([]),i=Object(o.a)(s,2),l=i[0],u=i[1],d=Object(c.useState)(1),j=Object(o.a)(d,2),b=j[0],p=j[1];return Object(c.useEffect)((function(){u(r.slice(r.length-b))}),[r,b]),Object(a.jsx)("div",{className:"comment_display",children:Object(a.jsx)(T,{comment:t,post:n,commentId:t._id,children:Object(a.jsxs)("div",{className:"pl-4",children:[l.map((function(e,c){return e.reply&&Object(a.jsx)(T,{comment:e,post:n,commentId:t._id},c)})),r.length-b>0?Object(a.jsx)("div",{style:{cursor:"pointer",color:"crimson"},onClick:function(){return p(b+10)},children:"See more comments..."}):r.length>1&&Object(a.jsx)("div",{style:{cursor:"pointer",color:"crimson"},onClick:function(){return p(1)},children:"Hide comments..."})]})})})},L=function(e){var t=e.post,n=Object(c.useState)([]),r=Object(o.a)(n,2),s=r[0],i=r[1],l=Object(c.useState)([]),u=Object(o.a)(l,2),d=u[0],j=u[1],b=Object(c.useState)(2),p=Object(o.a)(b,2),O=p[0],f=p[1],m=Object(c.useState)([]),h=Object(o.a)(m,2),x=h[0],v=h[1];return Object(c.useEffect)((function(){var e=t.comments.filter((function(e){return!e.reply}));i(e),j(e.slice(e.length-O))}),[t.comments,O]),Object(c.useEffect)((function(){var e=t.comments.filter((function(e){return e.reply}));v(e)}),[t.comments]),Object(a.jsxs)("div",{className:"comments",children:[d.map((function(e,n){return Object(a.jsx)(A,{comment:e,post:t,replyCm:x.filter((function(t){return t.reply===e._id}))},n)})),s.length-O>0?Object(a.jsx)("div",{className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},onClick:function(){return f(O+10)},children:"See more comments..."}):s.length>2&&Object(a.jsx)("div",{className:"p-2 border-top",style:{cursor:"pointer",color:"crimson"},onClick:function(){return f(2)},children:"Hide comments..."})]})},C=(n(140),function(e){var t=e.post,n=Object(j.g)(),r=Object(j.h)().pathname==="/post/".concat(t._id);h.a.locale("fr");var s=Object(l.c)((function(e){return e})).auth,i=Object(c.useState)(!1),u=Object(o.a)(i,2),d=u[0],b=u[1];return r?null:Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"card_footer",children:Object(a.jsxs)("div",{className:"footer-content",children:[Object(a.jsxs)("div",{className:"card-date",children:[Object(a.jsxs)("span",{className:"mr-1",children:[Object(a.jsx)("i",{className:"far fa-clock"}),"  "]}),Object(a.jsx)("small",{className:"text-dat",children:h()(t.createdAt).fromNow()})]}),Object(a.jsxs)("h6",{className:"mt-0",style:{cursor:"pointer"},onClick:function(){s.token?n.push("/post/".concat(t._id)):b(!0)},children:[Object(a.jsx)("span",{children:Object(a.jsx)("i",{className:"far fa-comment-alt mr-0"})}),Object(a.jsx)("span",{className:"comment-text mr-2",children:"commenter"})]})]})}),d&&Object(a.jsx)("div",{className:"modal",children:Object(a.jsxs)("div",{className:"modal-content",children:[Object(a.jsx)("h4",{children:"Titre"}),Object(a.jsx)("p",{children:"Message"}),Object(a.jsxs)("div",{className:"modal-buttons",children:[Object(a.jsx)("button",{onClick:function(){return n.push("/login")},children:"Connection"}),Object(a.jsx)("button",{onClick:function(){return n.push("/register")},children:"Registre"}),Object(a.jsx)("button",{onClick:function(){return b(!1)},children:"Fermer"})]})]})})]})}),R=function(e){var t=e.post,n=Object(c.useState)(!1),r=Object(o.a)(n,2),s=r[0],i=r[1];return Object(a.jsx)("div",{className:"description-container",children:Object(a.jsxs)("div",{className:"post-info",children:[Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-globe icon-title"}),Object(a.jsx)("span",{className:"info-label",children:"Type :"}),Object(a.jsx)("span",{className:"title1",children:t.title})]}),Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-calendar-alt"}),Object(a.jsx)("span",{className:"info-label",children:"Publi\xe9 le :"}),Object(a.jsxs)("span",{className:"info-value",children:[new Date(t.createdAt).toLocaleDateString()," \xe0 ",new Date(t.createdAt).toLocaleTimeString()]})]}),(t.vistas||[]).length>0&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-eye"}),Object(a.jsx)("span",{className:"info-label",children:"Vues :"}),Object(a.jsx)("span",{className:"info-value",children:t.vistas})]}),(t.likes||[]).length>0&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-thumbs-up"}),Object(a.jsx)("span",{className:"info-label",children:"J\u2019aime :"}),Object(a.jsx)("span",{className:"info-value",children:t.likes.length})]}),(t.comments||[]).length>0&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-comments"}),Object(a.jsx)("span",{className:"info-label",children:"Commentaires :"}),Object(a.jsx)("span",{className:"info-value",children:t.comments.length})]}),t.description&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-align-left"}),Object(a.jsx)("span",{className:"info-label mb-2",children:"Description :"}),Object(a.jsx)("span",{className:"info-value",children:Object(a.jsxs)("div",{className:"card_body-content",children:[Object(a.jsx)("span",{children:t.description.length<60?t.description:s?t.description+" ":t.description.slice(0,60)+"....."}),t.description.length>60&&Object(a.jsx)("span",{className:"readMore color-red",onClick:function(){return i(!s)},children:s?"Masquer le contenu":"Lire plus"})]})})]}),(t.oferta||[]).length>0&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-tags"}),Object(a.jsx)("span",{className:"info-label",children:"Type d\u2019offre :"}),Object(a.jsx)("span",{className:"info-value",children:t.oferta})]}),t.link&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-link"}),Object(a.jsx)("span",{className:"info-label",children:"Lien: Aller \xe0 l'application"}),Object(a.jsx)("a",{href:t.link.startsWith("http")?t.link:"https://".concat(t.link),target:"_blank",rel:"noopener noreferrer",className:"info-value link-descarga",children:t.title})]}),(t.telefono||[]).length>0&&Object(a.jsxs)("div",{className:"info-item",children:[Object(a.jsx)("i",{className:"fas fa-phone-alt"}),Object(a.jsx)("span",{className:"info-label",children:"T\xe9l\xe9phone :"}),Object(a.jsx)("span",{className:"info-value",children:t.telefono})]})]})})},D=(n(141),function(e){var t=e.post,n=Object(l.c)((function(e){return e})),c=(n.auth,n.socket,Object(l.b)());Object(j.g)();return Object(a.jsx)("div",{className:"card_header d-flex align-items-center justify-content-between",children:Object(a.jsxs)("div",{className:"nav-item dropdown ml-auto",children:[Object(a.jsx)("span",{className:"material-icons",id:"moreLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer",marginRight:"10px",marginTop:"4px"},children:"more_horiz"}),Object(a.jsx)("div",{className:"dropdown-menu dropdown-menu-right shadow-sm rounded mt-2","aria-labelledby":"moreLink",children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"dropdown-item",onClick:function(){c({type:g.c.STATUS,payload:Object(p.a)(Object(p.a)({},t),{},{onEdit:!0})})},children:[Object(a.jsx)("span",{className:"material-icons mr-2",children:"edit"})," \xc9diter le post"]})})})]})})}),U=function(e){var t=e.post,n=Object(l.b)();return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:"card_header d-flex align-items-center justify-content-between",children:Object(a.jsxs)("div",{className:"nav-item dropdown ml-auto",children:[Object(a.jsx)("span",{className:"material-icons",id:"moreLink","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false",style:{cursor:"pointer",marginRight:"10px",marginTop:"4px"},children:"more_horiz"}),Object(a.jsx)("div",{className:"dropdown-menu dropdown-menu-right shadow-sm rounded mt-2","aria-labelledby":"moreLink",children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"dropdown-item",onClick:function(){n({type:g.c.STATUS,payload:Object(p.a)(Object(p.a)({},t),{},{onEdit:!0})})},children:[Object(a.jsx)("span",{className:"material-icons mr-2",children:"edit"})," \xc9diter le post"]})})})]})}),Object(a.jsx)(D,{}),Object(a.jsx)("div",{className:"cardtitle",children:Object(a.jsx)("div",{className:"card-header",children:Object(a.jsx)("div",{children:Object(a.jsxs)("div",{className:"title-post",children:[Object(a.jsx)("i",{className:"fas fa-th icon-title"}),Object(a.jsx)("div",{className:"title2",children:t.title})]})})})})]})};t.a=function(e){var t=e.post,n=e.theme,c=Object(j.h)().pathname==="/post/".concat(t._id),r=!!Object(l.c)((function(e){return e})).auth.token;return Object(a.jsxs)("div",{className:"card my-3",children:[Object(a.jsx)(D,{post:t}),Object(a.jsx)(U,{post:t}),Object(a.jsx)(b,{post:t,theme:n}),Object(a.jsx)(C,{post:t,theme:n}),c&&Object(a.jsx)(R,{post:t}),r&&c&&Object(a.jsxs)(a.Fragment,{children:[c&&Object(a.jsx)(L,{post:t}),c&&Object(a.jsx)(S,{post:t})]})]})}},8:function(e,t,n){"use strict";n.d(t,"b",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return d}));var a=n(3),c=n.n(a),r=n(7),s=n(47),i=n.n(s),o=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.get("/api/".concat(t),{headers:{Authorization:n}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),l=function(){var e=Object(r.a)(c.a.mark((function e(t,n,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/api/".concat(t),n,{headers:{Authorization:a}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),u=function(){var e=Object(r.a)(c.a.mark((function e(t,n,a){var r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.patch("/api/".concat(t),n,{headers:{Authorization:a}});case 2:return r=e.sent,e.abrupt("return",r);case 4:case"end":return e.stop()}}),e)})));return function(t,n,a){return e.apply(this,arguments)}}(),d=function(){var e=Object(r.a)(c.a.mark((function e(t,n){var a;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.delete("/api/".concat(t),{headers:{Authorization:n}});case 2:return a=e.sent,e.abrupt("return",a);case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},85:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(3),r=n.n(c),s=n(7),i=n(6),o=n(1),l=n(5),u=n(41),d=n(16),j=n(46),b=n(26),p=n(8);t.default=function(){var e=Object(l.c)((function(e){return e})),t=e.auth,n=e.discover,c=Object(l.b)(),O=Object(o.useState)(!1),f=Object(i.a)(O,2),m=f[0],h=f[1];Object(o.useEffect)((function(){n.firstLoad||c(Object(u.b)(t.token))}),[c,t.token,n.firstLoad]);var x=function(){var e=Object(s.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,Object(p.b)("post_discover?num=".concat(9*n.page),t.token);case 3:a=e.sent,c({type:u.a.UPDATE_POST,payload:a.data}),h(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.jsxs)("div",{children:[n.loading?Object(a.jsx)("img",{src:d.a,alt:"loading",className:"d-block mx-auto my-4"}):Object(a.jsx)(j.a,{posts:n.posts,result:n.result}),m&&Object(a.jsx)("img",{src:d.a,alt:"loading",className:"d-block mx-auto"}),!n.loading&&Object(a.jsx)(b.a,{result:n.result,page:n.page,load:m,handleLoadMore:x})]})}},86:function(e,t,n){"use strict";n.r(t);var a=n(0);n(1);t.default=function(){return Object(a.jsx)("div",{children:"pagina bloqueos"})}},87:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(6),r=n(1),s=n(15),i=n(5),o=n(11),l=n(16),u=n(66);t.default=function(){var e=Object(s.i)().id,t=Object(r.useState)([]),n=Object(c.a)(t,2),d=n[0],j=n[1],b=Object(i.c)((function(e){return e})).detailPost,p=Object(i.b)();return Object(r.useEffect)((function(){if(p(Object(o.c)({detailPost:b,id:e})),b.length>0){var t=b.filter((function(t){return t._id===e}));j(t)}}),[b,p,e]),Object(a.jsxs)("div",{className:"posts",children:[0===d.length&&Object(a.jsx)("img",{src:l.a,alt:"loading",className:"d-block mx-auto my-4"}),d.map((function(e){return Object(a.jsx)(u.a,{post:e},e._id)}))]})}}},[[172,1,2]]]);
//# sourceMappingURL=main.749a1ce9.chunk.js.map